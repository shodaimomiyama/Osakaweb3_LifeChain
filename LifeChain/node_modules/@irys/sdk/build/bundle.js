/*! For license information please see bundle.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.WebIrys=e():t.WebIrys=e()}(self,(()=>(()=>{var __webpack_modules__={8709:function(t){"use strict";!function(e){function r(t){return parseInt(t)===t}function n(t){if(!r(t.length))return!1;for(var e=0;e<t.length;e++)if(!r(t[e])||t[e]<0||t[e]>255)return!1;return!0}function i(t,e){if(t.buffer&&ArrayBuffer.isView(t)&&"Uint8Array"===t.name)return e&&(t=t.slice?t.slice():Array.prototype.slice.call(t)),t;if(Array.isArray(t)){if(!n(t))throw new Error("Array contains invalid value: "+t);return new Uint8Array(t)}if(r(t.length)&&n(t))return new Uint8Array(t);throw new Error("unsupported array-like object")}function s(t){return new Uint8Array(t)}function o(t,e,r,n,i){null==n&&null==i||(t=t.slice?t.slice(n,i):Array.prototype.slice.call(t,n,i)),e.set(t,r)}var a,u={toBytes:function(t){var e=[],r=0;for(t=encodeURI(t);r<t.length;){var n=t.charCodeAt(r++);37===n?(e.push(parseInt(t.substr(r,2),16)),r+=2):e.push(n)}return i(e)},fromBytes:function(t){for(var e=[],r=0;r<t.length;){var n=t[r];n<128?(e.push(String.fromCharCode(n)),r++):n>191&&n<224?(e.push(String.fromCharCode((31&n)<<6|63&t[r+1])),r+=2):(e.push(String.fromCharCode((15&n)<<12|(63&t[r+1])<<6|63&t[r+2])),r+=3)}return e.join("")}},h=(a="0123456789abcdef",{toBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},fromBytes:function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];e.push(a[(240&n)>>4]+a[15&n])}return e.join("")}}),c={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],l=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],d=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],b=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],v=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],M=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],S=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],k=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],E=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function A(t){for(var e=[],r=0;r<t.length;r+=4)e.push(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]);return e}var x=function(t){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(t,!0)}),this._prepare()};x.prototype._prepare=function(){var t=c[this.key.length];if(null==t)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var e=0;e<=t;e++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(t+1),i=this.key.length/4,s=A(this.key);for(e=0;e<i;e++)r=e>>2,this._Ke[r][e%4]=s[e],this._Kd[t-r][e%4]=s[e];for(var o,a=0,u=i;u<n;){if(o=s[i-1],s[0]^=l[o>>16&255]<<24^l[o>>8&255]<<16^l[255&o]<<8^l[o>>24&255]^f[a]<<24,a+=1,8!=i)for(e=1;e<i;e++)s[e]^=s[e-1];else{for(e=1;e<i/2;e++)s[e]^=s[e-1];for(o=s[i/2-1],s[i/2]^=l[255&o]^l[o>>8&255]<<8^l[o>>16&255]<<16^l[o>>24&255]<<24,e=i/2+1;e<i;e++)s[e]^=s[e-1]}for(e=0;e<i&&u<n;)h=u>>2,d=u%4,this._Ke[h][d]=s[e],this._Kd[t-h][d]=s[e++],u++}for(var h=1;h<t;h++)for(var d=0;d<4;d++)o=this._Kd[h][d],this._Kd[h][d]=M[o>>24&255]^S[o>>16&255]^k[o>>8&255]^E[255&o]},x.prototype.encrypt=function(t){if(16!=t.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var e=this._Ke.length-1,r=[0,0,0,0],n=A(t),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var o=1;o<e;o++){for(i=0;i<4;i++)r[i]=p[n[i]>>24&255]^m[n[(i+1)%4]>>16&255]^g[n[(i+2)%4]>>8&255]^y[255&n[(i+3)%4]]^this._Ke[o][i];n=r.slice()}var a,u=s(16);for(i=0;i<4;i++)a=this._Ke[e][i],u[4*i]=255&(l[n[i]>>24&255]^a>>24),u[4*i+1]=255&(l[n[(i+1)%4]>>16&255]^a>>16),u[4*i+2]=255&(l[n[(i+2)%4]>>8&255]^a>>8),u[4*i+3]=255&(l[255&n[(i+3)%4]]^a);return u},x.prototype.decrypt=function(t){if(16!=t.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var e=this._Kd.length-1,r=[0,0,0,0],n=A(t),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var o=1;o<e;o++){for(i=0;i<4;i++)r[i]=b[n[i]>>24&255]^v[n[(i+3)%4]>>16&255]^w[n[(i+2)%4]>>8&255]^_[255&n[(i+1)%4]]^this._Kd[o][i];n=r.slice()}var a,u=s(16);for(i=0;i<4;i++)a=this._Kd[e][i],u[4*i]=255&(d[n[i]>>24&255]^a>>24),u[4*i+1]=255&(d[n[(i+3)%4]>>16&255]^a>>16),u[4*i+2]=255&(d[n[(i+2)%4]>>8&255]^a>>8),u[4*i+3]=255&(d[255&n[(i+1)%4]]^a);return u};var T=function(t){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new x(t)};T.prototype.encrypt=function(t){if((t=i(t)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=s(t.length),r=s(16),n=0;n<t.length;n+=16)o(t,r,0,n,n+16),o(r=this._aes.encrypt(r),e,n);return e},T.prototype.decrypt=function(t){if((t=i(t)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=s(t.length),r=s(16),n=0;n<t.length;n+=16)o(t,r,0,n,n+16),o(r=this._aes.decrypt(r),e,n);return e};var I=function(t,e){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else e=s(16);this._lastCipherblock=i(e,!0),this._aes=new x(t)};I.prototype.encrypt=function(t){if((t=i(t)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=s(t.length),r=s(16),n=0;n<t.length;n+=16){o(t,r,0,n,n+16);for(var a=0;a<16;a++)r[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(r),o(this._lastCipherblock,e,n)}return e},I.prototype.decrypt=function(t){if((t=i(t)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=s(t.length),r=s(16),n=0;n<t.length;n+=16){o(t,r,0,n,n+16),r=this._aes.decrypt(r);for(var a=0;a<16;a++)e[n+a]=r[a]^this._lastCipherblock[a];o(t,this._lastCipherblock,0,n,n+16)}return e};var B=function(t,e,r){if(!(this instanceof B))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 size)")}else e=s(16);r||(r=1),this.segmentSize=r,this._shiftRegister=i(e,!0),this._aes=new x(t)};B.prototype.encrypt=function(t){if(t.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var e,r=i(t,!0),n=0;n<r.length;n+=this.segmentSize){e=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++)r[n+s]^=e[s];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},B.prototype.decrypt=function(t){if(t.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var e,r=i(t,!0),n=0;n<r.length;n+=this.segmentSize){e=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++)r[n+s]^=e[s];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(t,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var R=function(t,e){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",e){if(16!=e.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else e=s(16);this._lastPrecipher=i(e,!0),this._lastPrecipherIndex=16,this._aes=new x(t)};R.prototype.encrypt=function(t){for(var e=i(t,!0),r=0;r<e.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),e[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return e},R.prototype.decrypt=R.prototype.encrypt;var P=function(t){if(!(this instanceof P))throw Error("Counter must be instanitated with `new`");0===t||t||(t=1),"number"==typeof t?(this._counter=s(16),this.setValue(t)):this.setBytes(t)};P.prototype.setValue=function(t){if("number"!=typeof t||parseInt(t)!=t)throw new Error("invalid counter value (must be an integer)");for(var e=15;e>=0;--e)this._counter[e]=t%256,t>>=8},P.prototype.setBytes=function(t){if(16!=(t=i(t,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=t},P.prototype.increment=function(){for(var t=15;t>=0;t--){if(255!==this._counter[t]){this._counter[t]++;break}this._counter[t]=0}};var O=function(t,e){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",e instanceof P||(e=new P(e)),this._counter=e,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new x(t)};O.prototype.encrypt=function(t){for(var e=i(t,!0),r=0;r<e.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),e[r]^=this._remainingCounter[this._remainingCounterIndex++];return e},O.prototype.decrypt=O.prototype.encrypt;var C={AES:x,Counter:P,ModeOfOperation:{ecb:T,cbc:I,cfb:B,ofb:R,ctr:O},utils:{hex:h,utf8:u},padding:{pkcs7:{pad:function(t){var e=16-(t=i(t,!0)).length%16,r=s(t.length+e);o(t,r);for(var n=t.length;n<r.length;n++)r[n]=e;return r},strip:function(t){if((t=i(t,!0)).length<16)throw new Error("PKCS#7 invalid length");var e=t[t.length-1];if(e>16)throw new Error("PKCS#7 padding byte out of range");for(var r=t.length-e,n=0;n<e;n++)if(t[r+n]!==e)throw new Error("PKCS#7 invalid padding byte");var a=s(r);return o(t,a,0,0,r),a}}},_arrayTest:{coerceArray:i,createArray:s,copyArray:o}};t.exports=C}()},5247:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyType=void 0,(r=e.KeyType||(e.KeyType={}))[r.ED25519=0]="ED25519"},58:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyPairEd25519=e.KeyPair=e.KeyType=void 0;var n=r(5247);Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return n.KeyType}});var i=r(5362);Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return i.KeyPair}});var s=r(5081);Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return s.KeyPairEd25519}});var o=r(5781);Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return o.PublicKey}})},5362:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPair=void 0;const n=r(4054),i=r(5081);class s extends n.KeyPairBase{static fromRandom(t){if("ED25519"===t.toUpperCase())return i.KeyPairEd25519.fromRandom();throw new Error(`Unknown curve ${t}`)}static fromString(t){const e=t.split(":");if(1===e.length)return new i.KeyPairEd25519(e[0]);if(2===e.length){if("ED25519"===e[0].toUpperCase())return new i.KeyPairEd25519(e[1]);throw new Error(`Unknown curve: ${e[0]}`)}throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}e.KeyPair=s},4054:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPairBase=void 0,e.KeyPairBase=class{}},5081:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPairEd25519=void 0;const i=r(5532),s=n(r(780)),o=r(5247),a=r(4054),u=r(5781);class h extends a.KeyPairBase{constructor(t){super();const e=s.default.sign.keyPair.fromSecretKey((0,i.baseDecode)(t));this.publicKey=new u.PublicKey({keyType:o.KeyType.ED25519,data:e.publicKey}),this.secretKey=t}static fromRandom(){const t=s.default.sign.keyPair();return new h((0,i.baseEncode)(t.secretKey))}sign(t){return{signature:s.default.sign.detached(t,(0,i.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(t,e){return this.publicKey.verify(t,e)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}e.KeyPairEd25519=h},5781:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=void 0;const i=r(740),s=r(5532),o=n(r(780)),a=r(5247);function u(t){if("ed25519"===t.toLowerCase())return a.KeyType.ED25519;throw new Error(`Unknown key type ${t}`)}class h extends i.Assignable{static from(t){return"string"==typeof t?h.fromString(t):t}static fromString(t){const e=t.split(":");if(1===e.length)return new h({keyType:a.KeyType.ED25519,data:(0,s.baseDecode)(e[0])});if(2===e.length)return new h({keyType:u(e[0]),data:(0,s.baseDecode)(e[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${function(t){if(t===a.KeyType.ED25519)return"ed25519";throw new Error(`Unknown key type ${t}`)}(this.keyType)}:${(0,s.baseEncode)(this.data)}`}verify(t,e){if(this.keyType===a.KeyType.ED25519)return o.default.sign.detached.verify(t,e,this.data);throw new Error(`Unknown key type ${this.keyType}`)}}e.PublicKey=h},2599:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;const i=r(58),s=r(4425);class o extends s.KeyStore{constructor(t=window.localStorage,e="near-api-js:keystore:"){super(),this.localStorage=t,this.prefix=e}setKey(t,e,r){return n(this,void 0,void 0,(function*(){this.localStorage.setItem(this.storageKeyForSecretKey(t,e),r.toString())}))}getKey(t,e){return n(this,void 0,void 0,(function*(){const r=this.localStorage.getItem(this.storageKeyForSecretKey(t,e));return r?i.KeyPair.fromString(r):null}))}removeKey(t,e){return n(this,void 0,void 0,(function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(t,e))}))}clear(){return n(this,void 0,void 0,(function*(){for(const t of this.storageKeys())t.startsWith(this.prefix)&&this.localStorage.removeItem(t)}))}getNetworks(){return n(this,void 0,void 0,(function*(){const t=new Set;for(const e of this.storageKeys())if(e.startsWith(this.prefix)){const r=e.substring(this.prefix.length).split(":");t.add(r[1])}return Array.from(t.values())}))}getAccounts(t){return n(this,void 0,void 0,(function*(){const e=new Array;for(const r of this.storageKeys())if(r.startsWith(this.prefix)){const n=r.substring(this.prefix.length).split(":");n[1]===t&&e.push(n[0])}return e}))}storageKeyForSecretKey(t,e){return`${this.prefix}${e}:${t}`}*storageKeys(){for(let t=0;t<this.localStorage.length;t++)yield this.localStorage.key(t)}}e.BrowserLocalStorageKeyStore=o},3508:(t,e,r)=>{"use strict";e.X=void 0;var n=r(2599);Object.defineProperty(e,"X",{enumerable:!0,get:function(){return n.BrowserLocalStorageKeyStore}})},6295:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryKeyStore=void 0;const i=r(58),s=r(1571);class o extends s.KeyStore{constructor(){super(),this.keys={}}setKey(t,e,r){return n(this,void 0,void 0,(function*(){this.keys[`${e}:${t}`]=r.toString()}))}getKey(t,e){return n(this,void 0,void 0,(function*(){const r=this.keys[`${e}:${t}`];return r?i.KeyPair.fromString(r):null}))}removeKey(t,e){return n(this,void 0,void 0,(function*(){delete this.keys[`${e}:${t}`]}))}clear(){return n(this,void 0,void 0,(function*(){this.keys={}}))}getNetworks(){return n(this,void 0,void 0,(function*(){const t=new Set;return Object.keys(this.keys).forEach((e=>{const r=e.split(":");t.add(r[1])})),Array.from(t.values())}))}getAccounts(t){return n(this,void 0,void 0,(function*(){const e=new Array;return Object.keys(this.keys).forEach((r=>{const n=r.split(":");n[n.length-1]===t&&e.push(n.slice(0,n.length-1).join(":"))})),e}))}toString(){return"InMemoryKeyStore"}}e.InMemoryKeyStore=o},4425:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.KeyStore=e.InMemoryKeyStore=void 0;var n=r(6295);Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return n.InMemoryKeyStore}});var i=r(1571);Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return i.KeyStore}});var s=r(1828);Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return s.MergeKeyStore}})},1571:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyStore=void 0,e.KeyStore=class{}},1828:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=void 0;const i=r(1571);class s extends i.KeyStore{constructor(t,e={writeKeyStoreIndex:0}){super(),this.options=e,this.keyStores=t}setKey(t,e,r){return n(this,void 0,void 0,(function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(t,e,r)}))}getKey(t,e){return n(this,void 0,void 0,(function*(){for(const r of this.keyStores){const n=yield r.getKey(t,e);if(n)return n}return null}))}removeKey(t,e){return n(this,void 0,void 0,(function*(){for(const r of this.keyStores)yield r.removeKey(t,e)}))}clear(){return n(this,void 0,void 0,(function*(){for(const t of this.keyStores)yield t.clear()}))}getNetworks(){return n(this,void 0,void 0,(function*(){const t=new Set;for(const e of this.keyStores)for(const r of yield e.getNetworks())t.add(r);return Array.from(t)}))}getAccounts(t){return n(this,void 0,void 0,(function*(){const e=new Set;for(const r of this.keyStores)for(const n of yield r.getAccounts(t))e.add(n);return Array.from(e)}))}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}e.MergeKeyStore=s},5594:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.actionCreators=e.stringifyJsonOrBytes=void 0;const i=r(8207);function s(t){return void 0!==t.byteLength&&t.byteLength===t.length?t:n.from(JSON.stringify(t))}e.stringifyJsonOrBytes=s,e.actionCreators={addKey:function(t,e){return new i.Action({addKey:new i.AddKey({publicKey:t,accessKey:e})})},createAccount:function(){return new i.Action({createAccount:new i.CreateAccount({})})},deleteAccount:function(t){return new i.Action({deleteAccount:new i.DeleteAccount({beneficiaryId:t})})},deleteKey:function(t){return new i.Action({deleteKey:new i.DeleteKey({publicKey:t})})},deployContract:function(t){return new i.Action({deployContract:new i.DeployContract({code:t})})},fullAccessKey:function(){return new i.AccessKey({permission:new i.AccessKeyPermission({fullAccess:new i.FullAccessPermission({})})})},functionCall:function(t,e,r,n,o=s,a=!1){return a?new i.Action({functionCall:new i.FunctionCall({methodName:t,args:e,gas:r,deposit:n})}):new i.Action({functionCall:new i.FunctionCall({methodName:t,args:o(e),gas:r,deposit:n})})},functionCallAccessKey:function(t,e,r){return new i.AccessKey({permission:new i.AccessKeyPermission({functionCall:new i.FunctionCallPermission({receiverId:t,allowance:r,methodNames:e})})})},signedDelegate:function({delegateAction:t,signature:e}){return new i.Action({signedDelegate:new i.SignedDelegate({delegateAction:t,signature:e})})},stake:function(t,e){return new i.Action({stake:new i.Stake({stake:t,publicKey:e})})},transfer:function(t){return new i.Action({transfer:new i.Transfer({deposit:t})})}}},8207:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Action=e.SignedDelegate=e.DeleteAccount=e.DeleteKey=e.AddKey=e.Stake=e.Transfer=e.FunctionCall=e.DeployContract=e.CreateAccount=e.IAction=e.AccessKey=e.AccessKeyPermission=e.FullAccessPermission=e.FunctionCallPermission=void 0;const n=r(862);class i{constructor(t){if(1!==Object.keys(t).length)throw new Error("Enum can only take single value");Object.keys(t).map((e=>{this[e]=t[e],this.enum=e}))}}class s extends n.Assignable{}e.FunctionCallPermission=s;class o extends n.Assignable{}e.FullAccessPermission=o,e.AccessKeyPermission=class extends i{};class a extends n.Assignable{}e.AccessKey=a;class u extends n.Assignable{}e.IAction=u,e.CreateAccount=class extends u{},e.DeployContract=class extends u{},e.FunctionCall=class extends u{},e.Transfer=class extends u{},e.Stake=class extends u{},e.AddKey=class extends u{},e.DeleteKey=class extends u{},e.DeleteAccount=class extends u{},e.SignedDelegate=class extends u{},e.Action=class extends i{}},5311:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTransaction=void 0;const n=r(990);e.createTransaction=function(t,e,r,i,s,o){return new n.Transaction({signerId:t,publicKey:e,nonce:i,receiverId:r,actions:s,blockHash:o})}},288:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildDelegateAction=e.DelegateAction=void 0;const n=r(862);class i extends n.Assignable{}e.DelegateAction=i,e.buildDelegateAction=function({actions:t,maxBlockHeight:e,nonce:r,publicKey:n,receiverId:s,senderId:o}){return new i({senderId:o,receiverId:s,actions:t,nonce:r,maxBlockHeight:e,publicKey:n})}},8652:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(5594),e),i(r(8207),e),i(r(5311),e),i(r(288),e),i(r(990),e),i(r(6671),e),i(r(7556),e)},9656:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DelegateActionPrefix=void 0;const n=r(862),i=Math.pow(2,30);class s extends n.Assignable{}class o extends s{constructor(t){super({prefix:i+t})}}e.DelegateActionPrefix=class extends o{constructor(){super(366)}}},990:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SCHEMA=e.SignedTransaction=e.Transaction=e.decodeSignedTransaction=e.decodeTransaction=e.encodeTransaction=e.encodeSignedDelegate=e.encodeDelegateAction=void 0;const n=r(9990),i=r(862),s=r(5532),o=r(8207),a=r(288),u=r(9656),h=r(7556);function c(t){return(0,s.serialize)(e.SCHEMA,t)}function f(t){return(0,s.deserialize)(e.SCHEMA,d,t)}function l(t){return(0,s.deserialize)(e.SCHEMA,p,t)}e.encodeDelegateAction=function(t){return new Uint8Array([...(0,s.serialize)(e.SCHEMA,new u.DelegateActionPrefix),...(0,s.serialize)(e.SCHEMA,t)])},e.encodeSignedDelegate=function(t){return(0,s.serialize)(e.SCHEMA,t)},e.encodeTransaction=c,e.decodeTransaction=f,e.decodeSignedTransaction=l;class d extends i.Assignable{encode(){return c(this)}static decode(t){return f(t)}}e.Transaction=d;class p extends i.Assignable{encode(){return c(this)}static decode(t){return l(t)}}e.SignedTransaction=p,e.SCHEMA=new Map([[h.Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[p,{kind:"struct",fields:[["transaction",d],["signature",h.Signature]]}],[d,{kind:"struct",fields:[["signerId","string"],["publicKey",n.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[o.Action]]]}],[n.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[o.AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",o.AccessKeyPermission]]}],[o.AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",o.FunctionCallPermission],["fullAccess",o.FullAccessPermission]]}],[o.FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[o.FullAccessPermission,{kind:"struct",fields:[]}],[o.Action,{kind:"enum",field:"enum",values:[["createAccount",o.CreateAccount],["deployContract",o.DeployContract],["functionCall",o.FunctionCall],["transfer",o.Transfer],["stake",o.Stake],["addKey",o.AddKey],["deleteKey",o.DeleteKey],["deleteAccount",o.DeleteAccount],["signedDelegate",o.SignedDelegate]]}],[o.CreateAccount,{kind:"struct",fields:[]}],[o.DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[o.FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[o.Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[o.Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",n.PublicKey]]}],[o.AddKey,{kind:"struct",fields:[["publicKey",n.PublicKey],["accessKey",o.AccessKey]]}],[o.DeleteKey,{kind:"struct",fields:[["publicKey",n.PublicKey]]}],[o.DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}],[a.DelegateAction,{kind:"struct",fields:[["senderId","string"],["receiverId","string"],["actions",[o.Action]],["nonce","u64"],["maxBlockHeight","u64"],["publicKey",n.PublicKey]]}],[u.DelegateActionPrefix,{kind:"struct",fields:[["prefix","u32"]]}],[o.SignedDelegate,{kind:"struct",fields:[["delegateAction",a.DelegateAction],["signature",h.Signature]]}]])},6671:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.signDelegateAction=e.signTransaction=void 0;const s=i(r(2023)),o=r(8207),a=r(5311),u=r(990),h=r(7556);function c(t,e,r,i){return n(this,void 0,void 0,(function*(){const n=(0,u.encodeTransaction)(t),o=new Uint8Array(s.default.sha256.array(n)),a=yield e.signMessage(n,r,i);return[o,new u.SignedTransaction({transaction:t,signature:new h.Signature({keyType:t.publicKey.keyType,data:a.signature})})]}))}e.signTransaction=function(...t){return n(this,void 0,void 0,(function*(){if(t[0].constructor===u.Transaction){const[e,r,n,i]=t;return c(e,r,n,i)}{const[e,r,n,i,s,o,u]=t,h=yield s.getPublicKey(o,u);return c((0,a.createTransaction)(o,h,e,r,n,i),s,o,u)}}))},e.signDelegateAction=function({delegateAction:t,signer:e}){return n(this,void 0,void 0,(function*(){const r=(0,u.encodeDelegateAction)(t),n=yield e.sign(r),i=new o.SignedDelegate({delegateAction:t,signature:new h.Signature({keyType:t.publicKey.keyType,data:n})});return{hash:new Uint8Array(s.default.sha256.array(r)),signedDelegateAction:i}}))}},7556:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Signature=void 0;const n=r(862);class i extends n.Assignable{}e.Signature=i},7545:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyType=void 0,(r=e.KeyType||(e.KeyType={}))[r.ED25519=0]="ED25519"},9990:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyPairEd25519=e.KeyPair=e.KeyType=void 0;var n=r(7545);Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return n.KeyType}});var i=r(4307);Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return i.KeyPair}});var s=r(1701);Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return s.KeyPairEd25519}});var o=r(4945);Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return o.PublicKey}})},4307:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPair=void 0;const n=r(4249),i=r(1701);class s extends n.KeyPairBase{static fromRandom(t){if("ED25519"===t.toUpperCase())return i.KeyPairEd25519.fromRandom();throw new Error(`Unknown curve ${t}`)}static fromString(t){const e=t.split(":");if(1===e.length)return new i.KeyPairEd25519(e[0]);if(2===e.length){if("ED25519"===e[0].toUpperCase())return new i.KeyPairEd25519(e[1]);throw new Error(`Unknown curve: ${e[0]}`)}throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}e.KeyPair=s},4249:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPairBase=void 0,e.KeyPairBase=class{}},1701:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPairEd25519=void 0;const i=r(5532),s=n(r(780)),o=r(7545),a=r(4249),u=r(4945);class h extends a.KeyPairBase{constructor(t){super();const e=s.default.sign.keyPair.fromSecretKey((0,i.baseDecode)(t));this.publicKey=new u.PublicKey({keyType:o.KeyType.ED25519,data:e.publicKey}),this.secretKey=t}static fromRandom(){const t=s.default.sign.keyPair();return new h((0,i.baseEncode)(t.secretKey))}sign(t){return{signature:s.default.sign.detached(t,(0,i.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(t,e){return this.publicKey.verify(t,e)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}e.KeyPairEd25519=h},4945:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=void 0;const i=r(862),s=r(5532),o=n(r(780)),a=r(7545);function u(t){if("ed25519"===t.toLowerCase())return a.KeyType.ED25519;throw new Error(`Unknown key type ${t}`)}class h extends i.Assignable{static from(t){return"string"==typeof t?h.fromString(t):t}static fromString(t){const e=t.split(":");if(1===e.length)return new h({keyType:a.KeyType.ED25519,data:(0,s.baseDecode)(e[0])});if(2===e.length)return new h({keyType:u(e[0]),data:(0,s.baseDecode)(e[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${function(t){if(t===a.KeyType.ED25519)return"ed25519";throw new Error(`Unknown key type ${t}`)}(this.keyType)}:${(0,s.baseEncode)(this.data)}`}verify(t,e){if(this.keyType===a.KeyType.ED25519)return o.default.sign.detached.verify(t,e,this.data);throw new Error(`Unknown key type ${this.keyType}`)}}e.PublicKey=h},381:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Assignable=void 0,e.Assignable=class{constructor(t){Object.keys(t).map((e=>{this[e]=t[e]}))}}},77:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorContext=e.TypedError=e.ArgumentTypeError=e.PositionalArgsError=void 0;class r extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}e.PositionalArgsError=r;class n extends Error{constructor(t,e,r){super(`Expected ${e} for '${t}' argument, but got '${JSON.stringify(r)}'`)}}e.ArgumentTypeError=n;class i extends Error{constructor(t,e,r){super(t),this.type=e||"UntypedError",this.context=r}}e.TypedError=i,e.ErrorContext=class{constructor(t){this.transactionHash=t}}},862:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(381),e),i(r(77),e),i(r(3223),e)},3223:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=void 0;var n=r(8184);Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return n.IdType}});var i=r(121);Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return i.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return i.FinalExecutionStatusBasic}})},8184:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.IdType=void 0,(r=e.IdType||(e.IdType={})).Transaction="transaction",r.Receipt="receipt"},121:(t,e)=>{"use strict";var r,n;Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=void 0,(n=e.ExecutionStatusBasic||(e.ExecutionStatusBasic={})).Unknown="Unknown",n.Pending="Pending",n.Failure="Failure",(r=e.FinalExecutionStatusBasic||(e.FinalExecutionStatusBasic={})).NotStarted="NotStarted",r.Started="Started",r.Failure="Failure"},7981:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Assignable=void 0,e.Assignable=class{constructor(t){Object.keys(t).map((e=>{this[e]=t[e]}))}}},2482:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorContext=e.TypedError=e.ArgumentTypeError=e.PositionalArgsError=void 0;class r extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}e.PositionalArgsError=r;class n extends Error{constructor(t,e,r){super(`Expected ${e} for '${t}' argument, but got '${JSON.stringify(r)}'`)}}e.ArgumentTypeError=n;class i extends Error{constructor(t,e,r){super(t),this.type=e||"UntypedError",this.context=r}}e.TypedError=i,e.ErrorContext=class{constructor(t){this.transactionHash=t}}},740:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(7981),e),i(r(2482),e),i(r(5331),e)},5331:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=void 0;var n=r(1866);Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return n.IdType}});var i=r(7287);Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return i.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return i.FinalExecutionStatusBasic}})},1866:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.IdType=void 0,(r=e.IdType||(e.IdType={})).Transaction="transaction",r.Receipt="receipt"},7287:(t,e)=>{"use strict";var r,n;Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=void 0,(n=e.ExecutionStatusBasic||(e.ExecutionStatusBasic={})).Unknown="Unknown",n.Pending="Pending",n.Failure="Failure",(r=e.FinalExecutionStatusBasic||(e.FinalExecutionStatusBasic={})).NotStarted="NotStarted",r.Started="Started",r.Failure="Failure"},9187:(t,e)=>{"use strict";function r(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function n(...t){const e=(t,e)=>r=>t(e(r));return{encode:Array.from(t).reverse().reduce(((t,r)=>t?e(t,r.encode):r.encode),void 0),decode:t.reduce(((t,r)=>t?e(t,r.decode):r.decode),void 0)}}function i(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("alphabet.encode input should be an array of numbers");return e.map((e=>{if(r(e),e<0||e>=t.length)throw new Error(`Digit index outside alphabet: ${e} (alphabet: ${t.length})`);return t[e]}))},decode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw new Error("alphabet.decode input should be array of strings");return e.map((e=>{if("string"!=typeof e)throw new Error(`alphabet.decode: not string element=${e}`);const r=t.indexOf(e);if(-1===r)throw new Error(`Unknown letter: "${e}". Allowed: ${t}`);return r}))}}}function s(t=""){if("string"!=typeof t)throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw new Error("join.encode input should be array of strings");for(let t of e)if("string"!=typeof t)throw new Error(`join.encode: non-string input=${t}`);return e.join(t)},decode:e=>{if("string"!=typeof e)throw new Error("join.decode input should be string");return e.split(t)}}}function o(t,e="="){if(r(t),"string"!=typeof e)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let t of r)if("string"!=typeof t)throw new Error(`padding.encode: non-string input=${t}`);for(;r.length*t%8;)r.push(e);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let t of r)if("string"!=typeof t)throw new Error(`padding.decode: non-string input=${t}`);let n=r.length;if(n*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if(!((n-1)*t%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function a(t){if("function"!=typeof t)throw new Error("normalize fn should be function");return{encode:t=>t,decode:e=>t(e)}}function u(t,e,n){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let i=0;const s=[],o=Array.from(t);for(o.forEach((t=>{if(r(t),t<0||t>=e)throw new Error(`Wrong integer: ${t}`)}));;){let t=0,r=!0;for(let s=i;s<o.length;s++){const a=o[s],u=e*t+a;if(!Number.isSafeInteger(u)||e*t/e!==t||u-a!=e*t)throw new Error("convertRadix: carry overflow");t=u%n;const h=Math.floor(u/n);if(o[s]=h,!Number.isSafeInteger(h)||h*n+t!==u)throw new Error("convertRadix: carry overflow");r&&(h?r=!1:i=s)}if(s.push(t),r)break}for(let e=0;e<t.length-1&&0===t[e];e++)s.push(0);return s.reverse()}Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0,e.assertNumber=r;const h=(t,e)=>e?h(e,t%e):t,c=(t,e)=>t+(e-h(t,e));function f(t,e,n,i){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(c(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${c(e,n)}`);let s=0,o=0;const a=2**n-1,u=[];for(const i of t){if(r(i),i>=2**e)throw new Error(`convertRadix2: invalid data word=${i} from=${e}`);if(s=s<<e|i,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=n;o-=n)u.push((s>>o-n&a)>>>0);s&=2**o-1}if(s=s<<n-o&a,!i&&o>=e)throw new Error("Excess padding");if(!i&&s)throw new Error(`Non-zero padding: ${s}`);return i&&o>0&&u.push(s>>>0),u}function l(t){return r(t),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return u(Array.from(e),256,t)},decode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(u(e,t,256))}}}function d(t,e=!1){if(r(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(c(8,t)>32||c(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return f(Array.from(r),8,t,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(f(r,t,8,e))}}}function p(t){if("function"!=typeof t)throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch(t){}}}function m(t,e){if(r(t),"function"!=typeof e)throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-t),i=e(n).slice(0,t),s=r.slice(-t);for(let e=0;e<t;e++)if(i[e]!==s[e])throw new Error("Invalid checksum");return n}}}e.utils={alphabet:i,chain:n,checksum:m,radix:l,radix2:d,join:s,padding:o},e.base16=n(d(4),i("0123456789ABCDEF"),s("")),e.base32=n(d(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o(5),s("")),e.base32hex=n(d(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o(5),s("")),e.base32crockford=n(d(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),s(""),a((t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),e.base64=n(d(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o(6),s("")),e.base64url=n(d(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(6),s("")),e.base64urlnopad=n(d(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(""));const g=t=>n(l(58),i(t),s(""));e.base58=g("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=g("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=g("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const y=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(t){let r="";for(let n=0;n<t.length;n+=8){const i=t.subarray(n,n+8);r+=e.base58.encode(i).padStart(y[i.length],"1")}return r},decode(t){let r=[];for(let n=0;n<t.length;n+=11){const i=t.slice(n,n+11),s=y.indexOf(i.length),o=e.base58.decode(i);for(let t=0;t<o.length-s;t++)if(0!==o[t])throw new Error("base58xmr: wrong padding");r=r.concat(Array.from(o.slice(o.length-s)))}return Uint8Array.from(r)}},e.base58check=t=>n(m(4,(e=>t(t(e)))),e.base58);const b=n(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),s("")),v=[996825010,642813549,513874426,1027748829,705979059];function w(t){const e=t>>25;let r=(33554431&t)<<5;for(let t=0;t<v.length;t++)1==(e>>t&1)&&(r^=v[t]);return r}function _(t,e,r=1){const n=t.length;let i=1;for(let e=0;e<n;e++){const r=t.charCodeAt(e);if(r<33||r>126)throw new Error(`Invalid prefix (${t})`);i=w(i)^r>>5}i=w(i);for(let e=0;e<n;e++)i=w(i)^31&t.charCodeAt(e);for(let t of e)i=w(i)^t;for(let t=0;t<6;t++)i=w(i);return i^=r,b.encode(f([i%2**30],30,5,!1))}function M(t){const e="bech32"===t?1:734539939,r=d(5),n=r.decode,i=r.encode,s=p(n);function o(t,r=90){if("string"!=typeof t)throw new Error("bech32.decode input should be string, not "+typeof t);if(t.length<8||!1!==r&&t.length>r)throw new TypeError(`Wrong string length: ${t.length} (${t}). Expected (8..${r})`);const n=t.toLowerCase();if(t!==n&&t!==t.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(t=n).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)throw new Error("Data must be at least 6 characters long");const a=b.decode(o).slice(0,-6),u=_(s,a,e);if(!o.endsWith(u))throw new Error(`Invalid checksum in ${t}: expected "${u}"`);return{prefix:s,words:a}}return{encode:function(t,r,n=90){if("string"!=typeof t)throw new Error("bech32.encode prefix should be string, not "+typeof t);if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof r);const i=t.length+7+r.length;if(!1!==n&&i>n)throw new TypeError(`Length ${i} exceeds limit ${n}`);const s=t.toLowerCase(),o=_(s,r,e);return`${s}1${b.encode(r)}${o}`},decode:o,decodeToBytes:function(t){const{prefix:e,words:r}=o(t,!1);return{prefix:e,words:r,bytes:n(r)}},decodeUnsafe:p(o),fromWords:n,fromWordsUnsafe:s,toWords:i}}e.bech32=M("bech32"),e.bech32m=M("bech32m"),e.utf8={encode:t=>(new TextDecoder).decode(t),decode:t=>(new TextEncoder).encode(t)},e.hex=n(d(4),i("0123456789abcdef"),s(""),a((t=>{if("string"!=typeof t||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()})));const S={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},k="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";e.bytesToString=(t,e)=>{if("string"!=typeof t||!S.hasOwnProperty(t))throw new TypeError(k);if(!(e instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return S[t].encode(e)},e.str=e.bytesToString,e.stringToBytes=(t,e)=>{if(!S.hasOwnProperty(t))throw new TypeError(k);if("string"!=typeof e)throw new TypeError("stringToBytes() expects string");return S[t].decode(e)},e.bytes=e.stringToBytes},7286:(t,e,r)=>{"use strict";e.Z1=void 0;r(819);const n=r(9705),i=(r(3662),r(1014));r(7443),r(9187);function s(t){if("string"!=typeof t)throw new TypeError("Invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}function o(t){const e=s(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}e.Z1=function(t,e=""){return(0,n.pbkdf2)(i.sha512,o(t).nfkd,(t=>s(`mnemonic${t}`))(e),{c:2048,dkLen:64})}},819:(t,e)=>{"use strict";function r(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function n(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)}function i(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function s(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(t.outputLen),r(t.blockLen)}function o(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function a(t,e){i(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.output=e.exists=e.hash=e.bytes=e.bool=e.number=void 0,e.number=r,e.bool=n,e.bytes=i,e.hash=s,e.exists=o,e.output=a;const u={number:r,bool:n,bytes:i,hash:s,exists:o,output:a};e.default=u},1464:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHA2=void 0;const n=r(819),i=r(7443);class s extends i.Hash{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,i.createView)(this.buffer)}update(t){n.default.exists(this);const{view:e,buffer:r,blockLen:s}=this,o=(t=(0,i.toBytes)(t)).length;for(let n=0;n<o;){const a=Math.min(s-this.pos,o-n);if(a!==s)r.set(t.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(e,0),this.pos=0);else{const e=(0,i.createView)(t);for(;s<=o-n;n+=s)this.process(e,n)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){n.default.exists(this),n.default.output(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let t=a;t<s;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,h=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+h,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const u=(0,i.createView)(t),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=h/4,f=this.get();if(c>f.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<c;t++)u.setUint32(4*t,f[t],o)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return t.length=n,t.pos=o,t.finished=i,t.destroyed=s,n%e&&t.buffer.set(r),t}}e.SHA2=s},905:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=e.toBig=e.split=e.fromBig=void 0;const r=BigInt(2**32-1),n=BigInt(32);function i(t,e=!1){return e?{h:Number(t&r),l:Number(t>>n&r)}:{h:0|Number(t>>n&r),l:0|Number(t&r)}}function s(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:o,l:a}=i(t[s],e);[r[s],n[s]]=[o,a]}return[r,n]}function o(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}}e.fromBig=i,e.split=s,e.toBig=(t,e)=>BigInt(t>>>0)<<n|BigInt(e>>>0),e.add=o;const a={fromBig:i,split:s,toBig:e.toBig,shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,r)=>t<<r|e>>>32-r,rotlSL:(t,e,r)=>e<<r|t>>>32-r,rotlBH:(t,e,r)=>e<<r-32|t>>>64-r,rotlBL:(t,e,r)=>t<<r-32|e>>>64-r,add:o,add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,add5H:(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};e.default=a},8939:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},5116:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const n=r(819),i=r(7443);class s extends i.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,n.default.hash(t);const r=(0,i.toBytes)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let t=0;t<o.length;t++)o[t]^=54;this.iHash.update(o),this.oHash=t.create();for(let t=0;t<o.length;t++)o[t]^=106;this.oHash.update(o),o.fill(0)}update(t){return n.default.exists(this),this.iHash.update(t),this}digestInto(t){n.default.exists(this),n.default.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return t.finished=n,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.hmac=(t,e,r)=>new s(t,e).update(r).digest(),e.hmac.create=(t,e)=>new s(t,e)},9705:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pbkdf2Async=e.pbkdf2=void 0;const n=r(819),i=r(5116),s=r(7443);function o(t,e,r,o){n.default.hash(t);const a=(0,s.checkOpts)({dkLen:32,asyncTick:10},o),{c:u,dkLen:h,asyncTick:c}=a;if(n.default.number(u),n.default.number(h),n.default.number(c),u<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const f=(0,s.toBytes)(e),l=(0,s.toBytes)(r),d=new Uint8Array(h),p=i.hmac.create(t,f),m=p._cloneInto().update(l);return{c:u,dkLen:h,asyncTick:c,DK:d,PRF:p,PRFSalt:m}}function a(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}e.pbkdf2=function(t,e,r,n){const{c:i,dkLen:u,DK:h,PRF:c,PRFSalt:f}=o(t,e,r,n);let l;const d=new Uint8Array(4),p=(0,s.createView)(d),m=new Uint8Array(c.outputLen);for(let t=1,e=0;e<u;t++,e+=c.outputLen){const r=h.subarray(e,e+c.outputLen);p.setInt32(0,t,!1),(l=f._cloneInto(l)).update(d).digestInto(m),r.set(m.subarray(0,r.length));for(let t=1;t<i;t++){c._cloneInto(l).update(m).digestInto(m);for(let t=0;t<r.length;t++)r[t]^=m[t]}}return a(c,f,h,l,m)},e.pbkdf2Async=async function(t,e,r,n){const{c:i,dkLen:u,asyncTick:h,DK:c,PRF:f,PRFSalt:l}=o(t,e,r,n);let d;const p=new Uint8Array(4),m=(0,s.createView)(p),g=new Uint8Array(f.outputLen);for(let t=1,e=0;e<u;t++,e+=f.outputLen){const r=c.subarray(e,e+f.outputLen);m.setInt32(0,t,!1),(d=l._cloneInto(d)).update(p).digestInto(g),r.set(g.subarray(0,r.length)),await(0,s.asyncLoop)(i-1,h,(t=>{f._cloneInto(d).update(g).digestInto(g);for(let t=0;t<r.length;t++)r[t]^=g[t]}))}return a(f,l,c,d,g)}},3662:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha224=e.sha256=void 0;const n=r(1464),i=r(7443),s=(t,e,r)=>t&e^t&r^e&r,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class h extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[t,e,r,n,i,s,o,a]}set(t,e,r,n,i,s,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)u[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=u[t-15],r=u[t-2],n=(0,i.rotr)(e,7)^(0,i.rotr)(e,18)^e>>>3,s=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;u[t]=s+u[t-7]+n+u[t-16]|0}let{A:r,B:n,C:a,D:h,E:c,F:f,G:l,H:d}=this;for(let t=0;t<64;t++){const e=d+((0,i.rotr)(c,6)^(0,i.rotr)(c,11)^(0,i.rotr)(c,25))+((p=c)&f^~p&l)+o[t]+u[t]|0,m=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+s(r,n,a)|0;d=l,l=f,f=c,c=h+e|0,h=a,a=n,n=r,r=e+m|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,h=h+this.D|0,c=c+this.E|0,f=f+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(r,n,a,h,c,f,l,d)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class c extends h{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}e.sha256=(0,i.wrapConstructor)((()=>new h)),e.sha224=(0,i.wrapConstructor)((()=>new c))},1014:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha384=e.sha512_256=e.sha512_224=e.sha512=e.SHA512=void 0;const n=r(1464),i=r(905),s=r(7443),[o,a]=i.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),u=new Uint32Array(80),h=new Uint32Array(80);class c extends n.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:u,El:h,Fh:c,Fl:f,Gh:l,Gl:d,Hh:p,Hl:m}=this;return[t,e,r,n,i,s,o,a,u,h,c,f,l,d,p,m]}set(t,e,r,n,i,s,o,a,u,h,c,f,l,d,p,m){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|h,this.Fh=0|c,this.Fl=0|f,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|m}process(t,e){for(let r=0;r<16;r++,e+=4)u[r]=t.getUint32(e),h[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|u[t-15],r=0|h[t-15],n=i.default.rotrSH(e,r,1)^i.default.rotrSH(e,r,8)^i.default.shrSH(e,r,7),s=i.default.rotrSL(e,r,1)^i.default.rotrSL(e,r,8)^i.default.shrSL(e,r,7),o=0|u[t-2],a=0|h[t-2],c=i.default.rotrSH(o,a,19)^i.default.rotrBH(o,a,61)^i.default.shrSH(o,a,6),f=i.default.rotrSL(o,a,19)^i.default.rotrBL(o,a,61)^i.default.shrSL(o,a,6),l=i.default.add4L(s,f,h[t-7],h[t-16]),d=i.default.add4H(l,n,c,u[t-7],u[t-16]);u[t]=0|d,h[t]=0|l}let{Ah:r,Al:n,Bh:s,Bl:c,Ch:f,Cl:l,Dh:d,Dl:p,Eh:m,El:g,Fh:y,Fl:b,Gh:v,Gl:w,Hh:_,Hl:M}=this;for(let t=0;t<80;t++){const e=i.default.rotrSH(m,g,14)^i.default.rotrSH(m,g,18)^i.default.rotrBH(m,g,41),S=i.default.rotrSL(m,g,14)^i.default.rotrSL(m,g,18)^i.default.rotrBL(m,g,41),k=m&y^~m&v,E=g&b^~g&w,A=i.default.add5L(M,S,E,a[t],h[t]),x=i.default.add5H(A,_,e,k,o[t],u[t]),T=0|A,I=i.default.rotrSH(r,n,28)^i.default.rotrBH(r,n,34)^i.default.rotrBH(r,n,39),B=i.default.rotrSL(r,n,28)^i.default.rotrBL(r,n,34)^i.default.rotrBL(r,n,39),R=r&s^r&f^s&f,P=n&c^n&l^c&l;_=0|v,M=0|w,v=0|y,w=0|b,y=0|m,b=0|g,({h:m,l:g}=i.default.add(0|d,0|p,0|x,0|T)),d=0|f,p=0|l,f=0|s,l=0|c,s=0|r,c=0|n;const O=i.default.add3L(T,B,P);r=i.default.add3H(O,x,I,R),n=0|O}({h:r,l:n}=i.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:s,l:c}=i.default.add(0|this.Bh,0|this.Bl,0|s,0|c)),({h:f,l}=i.default.add(0|this.Ch,0|this.Cl,0|f,0|l)),({h:d,l:p}=i.default.add(0|this.Dh,0|this.Dl,0|d,0|p)),({h:m,l:g}=i.default.add(0|this.Eh,0|this.El,0|m,0|g)),({h:y,l:b}=i.default.add(0|this.Fh,0|this.Fl,0|y,0|b)),({h:v,l:w}=i.default.add(0|this.Gh,0|this.Gl,0|v,0|w)),({h:_,l:M}=i.default.add(0|this.Hh,0|this.Hl,0|_,0|M)),this.set(r,n,s,c,f,l,d,p,m,g,y,b,v,w,_,M)}roundClean(){u.fill(0),h.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}e.SHA512=c;class f extends c{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class l extends c{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class d extends c{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}e.sha512=(0,s.wrapConstructor)((()=>new c)),e.sha512_224=(0,s.wrapConstructor)((()=>new f)),e.sha512_256=(0,s.wrapConstructor)((()=>new l)),e.sha384=(0,s.wrapConstructor)((()=>new d))},7443:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const n=r(8939);if(e.u8=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),e.u32=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),e.createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),e.rotr=(t,e)=>t<<32-e|t>>>e,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function s(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}function o(t){if("string"==typeof t&&(t=s(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}e.bytesToHex=function(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=i[t[r]];return e},e.hexToBytes=function(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e},e.nextTick=async()=>{},e.asyncLoop=async function(t,r,n){let i=Date.now();for(let s=0;s<t;s++){n(s);const t=Date.now()-i;t>=0&&t<r||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=s,e.toBytes=o,e.concatBytes=function(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r},e.Hash=class{clone(){return this._cloneInto()}},e.checkOpts=function(t,e){if(void 0!==e&&("object"!=typeof e||(r=e,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(t,e)},e.wrapConstructor=function(t){const e=e=>t().update(o(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e},e.wrapConstructorWithOpts=function(t){const e=(e,r)=>t(r).update(o(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},e.randomBytes=function(t=32){if(n.crypto.web)return n.crypto.web.getRandomValues(new Uint8Array(t));if(n.crypto.node)return new Uint8Array(n.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}},9386:(t,e,r)=>{"use strict";e._O=e.Jq=e.KB=e.u8=e.cv=void 0,e.Ik=e.A9=e.n_=e.gM=void 0;const n=r(8764);function i(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function s(t){return i(t),n.Buffer.from(t.buffer,t.byteOffset,t.length)}class o{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function a(t,e){return e.property?t+"["+e.property+"]":t}class u extends o{isCount(){throw new Error("ExternalLayout is abstract")}}class h extends u{constructor(t,e=0,r){if(!(t instanceof o))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof c||this.layout instanceof f}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}}class c extends o{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readUIntLE(e,this.span)}encode(t,e,r=0){return s(e).writeUIntLE(t,r,this.span),this.span}}class f extends o{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readUIntBE(e,this.span)}encode(t,e,r=0){return s(e).writeUIntBE(t,r,this.span),this.span}}const l=Math.pow(2,32);function d(t){const e=Math.floor(t/l);return{hi32:e,lo32:t-e*l}}function p(t,e){return t*l+e}class m extends o{constructor(t){super(8,t)}decode(t,e=0){const r=s(t),n=r.readUInt32LE(e);return p(r.readUInt32LE(e+4),n)}encode(t,e,r=0){const n=d(t),i=s(e);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}class g extends o{constructor(t){super(8,t)}decode(t,e=0){const r=s(t),n=r.readUInt32LE(e);return p(r.readInt32LE(e+4),n)}encode(t,e,r=0){const n=d(t),i=s(e);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}class y extends o{constructor(t,e,r){if(!(t instanceof o))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(e instanceof u)&&0<t.span&&(n=e*t.span),super(n,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof u&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e=0){const r=[];let n=0,i=this.count;for(i instanceof u&&(i=i.decode(t,e));n<i;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r}encode(t,e,r=0){const n=this.elementLayout,i=t.reduce(((t,i)=>t+n.encode(i,e,r+t)),0);return this.count instanceof u&&this.count.encode(t.length,e,r),i}}class b extends o{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof o),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===r&&(r=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(t,e);return e+=i,r+i}),0)}catch(t){throw new RangeError("indeterminate span")}return r}decode(t,e=0){i(t);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){const n=r;let i=0,s=0;for(const n of this.fields){let o=n.span;if(s=0<o?o:0,void 0!==n.property){const i=t[n.property];void 0!==i&&(s=n.encode(i,e,r),0>o&&(o=n.getSpan(e,r)))}i=r,r+=o}return i+s-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class v extends o{constructor(t,e){if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof u||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),s(t).slice(e,e+r)}encode(t,e,r){let n=this.length;if(this.length instanceof u&&(n=t.length),!(t instanceof Uint8Array&&n===t.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>e.length)throw new RangeError("encoding overruns Uint8Array");const i=s(t);return s(e).write(i.toString("hex"),r,n,"hex"),this.length instanceof u&&this.length.encode(n,e,r),n}}e.cv=(t,e,r)=>new h(t,e,r),e.u8=t=>new c(1,t),e.KB=t=>new c(2,t),e.Jq=t=>new c(4,t),e._O=t=>new m(t),e.gM=t=>new g(t),e.n_=(t,e,r)=>new b(t,e,r),e.A9=(t,e,r)=>new y(t,e,r),e.Ik=(t,e)=>new v(t,e)},9191:(t,e,r)=>{"use strict";var n=r(9509).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=i}var a=t.length,u=t.charAt(0),h=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,s=0;t[r]===u;)i++,r++;for(var o=(t.length-r)*h+1>>>0,c=new Uint8Array(o);t[r];){var f=e[t.charCodeAt(r)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<s)&&-1!==d;d--,l++)f+=a*c[d]>>>0,c[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");s=l,r++}for(var p=o-s;p!==o&&0===c[p];)p++;var m=n.allocUnsafe(i+(o-p));m.fill(0,0,i);for(var g=i;p!==o;)m[g++]=c[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,s=0,o=e.length;s!==o&&0===e[s];)s++,r++;for(var h=(o-s)*c+1>>>0,f=new Uint8Array(h);s!==o;){for(var l=e[s],d=0,p=h-1;(0!==l||d<i)&&-1!==p;p--,d++)l+=256*f[p]>>>0,f[p]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,s++}for(var m=h-i;m!==h&&0===f[m];)m++;for(var g=u.repeat(r);m<h;++m)g+=t.charAt(f[m]);return g},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},11:(t,e,r)=>{var n=r(9191);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},5863:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},6146:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0});const s=r(5473);e.default=s.PromisePool,i(r(5863),e),i(r(5473),e),i(r(3495),e),i(r(8374),e),i(r(2081),e),i(r(5300),e)},3495:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromisePoolError=void 0;class r extends Error{constructor(t,e){super(),this.raw=t,this.item=e,this.name=this.constructor.name,this.message=this.messageFrom(t),Error.captureStackTrace&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}static createFrom(t,e){return new this(t,e)}messageFrom(t){return t instanceof Error||"object"==typeof t?t.message:"string"==typeof t||"number"==typeof t?t.toString():""}}e.PromisePoolError=r},976:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromisePoolExecutor=void 0;const n=r(5473),i=r(3495),s=r(2081),o=r(5300);e.PromisePoolExecutor=class{constructor(){this.meta={tasks:[],items:[],errors:[],results:[],stopped:!1,concurrency:10,shouldResultsCorrespond:!1,processedItems:[],taskTimeout:0},this.handler=()=>{},this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}useConcurrency(t){if(!this.isValidConcurrency(t))throw o.ValidationError.createFrom(`"concurrency" must be a number, 1 or up. Received "${t}" (${typeof t})`);return this.meta.concurrency=t,this}isValidConcurrency(t){return"number"==typeof t&&t>=1}withTaskTimeout(t){return this.meta.taskTimeout=t,this}concurrency(){return this.meta.concurrency}useCorrespondingResults(t){return this.meta.shouldResultsCorrespond=t,this}shouldUseCorrespondingResults(){return this.meta.shouldResultsCorrespond}taskTimeout(){return this.meta.taskTimeout}for(t){return this.meta.items=t,this}items(){return this.meta.items}itemsCount(){const t=this.items();return Array.isArray(t)?t.length:NaN}tasks(){return this.meta.tasks}activeTaskCount(){return this.activeTasksCount()}activeTasksCount(){return this.tasks().length}processedItems(){return this.meta.processedItems}processedCount(){return this.processedItems().length}processedPercentage(){return this.processedCount()/this.itemsCount()*100}results(){return this.meta.results}errors(){return this.meta.errors}withHandler(t){return this.handler=t,this}hasErrorHandler(){return!!this.errorHandler}handleError(t){return this.errorHandler=t,this}onTaskStarted(t){return this.onTaskStartedHandlers=t,this}onTaskFinished(t){return this.onTaskFinishedHandlers=t,this}hasReachedConcurrencyLimit(){return this.activeTasksCount()>=this.concurrency()}stop(){throw this.markAsStopped(),new s.StopThePromisePoolError}markAsStopped(){return this.meta.stopped=!0,this}isStopped(){return this.meta.stopped}async start(){return await this.validateInputs().prepareResultsArray().process()}validateInputs(){if("function"!=typeof this.handler)throw o.ValidationError.createFrom("The first parameter for the .process(fn) method must be a function");const t=this.taskTimeout();if(!(null==t||"number"==typeof t&&t>=0))throw o.ValidationError.createFrom(`"timeout" must be undefined or a number. A number must be 0 or up. Received "${String(t)}" (${typeof t})`);if(!this.areItemsValid())throw o.ValidationError.createFrom(`"items" must be an array, an iterable or an async iterable. Received "${typeof this.items()}"`);if(this.errorHandler&&"function"!=typeof this.errorHandler)throw o.ValidationError.createFrom(`The error handler must be a function. Received "${typeof this.errorHandler}"`);return this.onTaskStartedHandlers.forEach((t=>{if(t&&"function"!=typeof t)throw o.ValidationError.createFrom(`The onTaskStarted handler must be a function. Received "${typeof t}"`)})),this.onTaskFinishedHandlers.forEach((t=>{if(t&&"function"!=typeof t)throw o.ValidationError.createFrom(`The error handler must be a function. Received "${typeof t}"`)})),this}areItemsValid(){const t=this.items();return!!Array.isArray(t)||"function"==typeof t[Symbol.iterator]||"function"==typeof t[Symbol.asyncIterator]}prepareResultsArray(){const t=this.items();return Array.isArray(t)&&this.shouldUseCorrespondingResults()?(this.meta.results=Array(t.length).fill(n.PromisePool.notRun),this):this}async process(){let t=0;for await(const e of this.items()){if(this.isStopped())break;this.shouldUseCorrespondingResults()&&(this.results()[t]=n.PromisePool.notRun),this.startProcessing(e,t),t+=1,await this.waitForProcessingSlot()}return await this.drained()}async waitForProcessingSlot(){for(;this.hasReachedConcurrencyLimit();)await this.waitForActiveTaskToFinish()}async waitForActiveTaskToFinish(){await Promise.race(this.tasks())}startProcessing(t,e){const r=this.createTaskFor(t,e).then((t=>{this.save(t,e).removeActive(r)})).catch((async n=>{await this.handleErrorFor(n,t,e),this.removeActive(r)})).finally((()=>{this.processedItems().push(t),this.runOnTaskFinishedHandlers(t)}));this.tasks().push(r),this.runOnTaskStartedHandlers(t)}async createTaskFor(t,e){return void 0===this.taskTimeout()?this.handler(t,e,this):Promise.race([this.handler(t,e,this),this.createTaskTimeout(t)])}async createTaskTimeout(t){return new Promise(((e,r)=>{setTimeout((()=>{r(new i.PromisePoolError(`Promise in pool timed out after ${this.taskTimeout()}ms`,t))}),this.taskTimeout())}))}save(t,e){return this.shouldUseCorrespondingResults()?this.results()[e]=t:this.results().push(t),this}removeActive(t){return this.tasks().splice(this.tasks().indexOf(t),1),this}async handleErrorFor(t,e,r){if(this.shouldUseCorrespondingResults()&&(this.results()[r]=n.PromisePool.failed),!this.isStoppingThePoolError(t)){if(this.isValidationError(t))throw this.markAsStopped(),t;this.hasErrorHandler()?await this.runErrorHandlerFor(t,e):this.saveErrorFor(t,e)}}isStoppingThePoolError(t){return t instanceof s.StopThePromisePoolError}isValidationError(t){return t instanceof o.ValidationError}async runErrorHandlerFor(t,e){try{await(this.errorHandler?.(t,e,this))}catch(t){this.rethrowIfNotStoppingThePool(t)}}runOnTaskStartedHandlers(t){this.onTaskStartedHandlers.forEach((e=>{e(t,this)}))}runOnTaskFinishedHandlers(t){this.onTaskFinishedHandlers.forEach((e=>{e(t,this)}))}rethrowIfNotStoppingThePool(t){if(!this.isStoppingThePoolError(t))throw t}saveErrorFor(t,e){this.errors().push(i.PromisePoolError.createFrom(t,e))}async drained(){return await this.drainActiveTasks(),{errors:this.errors(),results:this.results()}}async drainActiveTasks(){await Promise.all(this.tasks())}}},5473:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromisePool=void 0;const n=r(976);class i{constructor(t){this.timeout=void 0,this.concurrency=10,this.shouldResultsCorrespond=!1,this.items=t??[],this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}withConcurrency(t){return this.concurrency=t,this}static withConcurrency(t){return(new this).withConcurrency(t)}withTaskTimeout(t){return this.timeout=t,this}static withTaskTimeout(t){return(new this).withTaskTimeout(t)}for(t){return"number"==typeof this.timeout?new i(t).withConcurrency(this.concurrency).withTaskTimeout(this.timeout):new i(t).withConcurrency(this.concurrency)}static for(t){return(new this).for(t)}handleError(t){return this.errorHandler=t,this}onTaskStarted(t){return this.onTaskStartedHandlers.push(t),this}onTaskFinished(t){return this.onTaskFinishedHandlers.push(t),this}useCorrespondingResults(){return this.shouldResultsCorrespond=!0,this}async process(t){return(new n.PromisePoolExecutor).useConcurrency(this.concurrency).useCorrespondingResults(this.shouldResultsCorrespond).withTaskTimeout(this.timeout).withHandler(t).handleError(this.errorHandler).onTaskStarted(this.onTaskStartedHandlers).onTaskFinished(this.onTaskFinishedHandlers).for(this.items).start()}}e.PromisePool=i,i.notRun=Symbol("notRun"),i.failed=Symbol("failed")},8374:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},2081:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopThePromisePoolError=void 0;class r extends Error{}e.StopThePromisePoolError=r},5300:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValidationError=void 0;class r extends Error{constructor(t){super(t),Error.captureStackTrace&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}static createFrom(t){return new this(t)}}e.ValidationError=r},3026:(t,e,r)=>{t.exports=r(3278)},5112:(t,e,r)=>{"use strict";var n=r(4260),i=r(3507),s=r(1158),o=r(5004),a=r(6383),u=r(9468),h=r(9332),c=r(3546),f=r(2438),l=r(7630),d=r(294);t.exports=function(t){return new Promise((function(e,r){var p,m=t.data,g=t.headers,y=t.responseType;function b(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}n.isFormData(m)&&n.isStandardBrowserEnv()&&delete g["Content-Type"];var v=new XMLHttpRequest;if(t.auth){var w=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+_)}var M=a(t.baseURL,t.url);function S(){if(v){var n="getAllResponseHeaders"in v?u(v.getAllResponseHeaders()):null,s={data:y&&"text"!==y&&"json"!==y?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:n,config:t,request:v};i((function(t){e(t),b()}),(function(t){r(t),b()}),s),v=null}}if(v.open(t.method.toUpperCase(),o(M,t.params,t.paramsSerializer),!0),v.timeout=t.timeout,"onloadend"in v?v.onloadend=S:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(S)},v.onabort=function(){v&&(r(new f("Request aborted",f.ECONNABORTED,t,v)),v=null)},v.onerror=function(){r(new f("Network Error",f.ERR_NETWORK,t,v,v)),v=null},v.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",n=t.transitional||c;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(new f(e,n.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,t,v)),v=null},n.isStandardBrowserEnv()){var k=(t.withCredentials||h(M))&&t.xsrfCookieName?s.read(t.xsrfCookieName):void 0;k&&(g[t.xsrfHeaderName]=k)}"setRequestHeader"in v&&n.forEach(g,(function(t,e){void 0===m&&"content-type"===e.toLowerCase()?delete g[e]:v.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(v.withCredentials=!!t.withCredentials),y&&"json"!==y&&(v.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&v.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(t){v&&(r(!t||t&&t.type?new l:t),v.abort(),v=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),m||(m=null);var E=d(M);E&&-1===["http","https","file"].indexOf(E)?r(new f("Unsupported protocol "+E+":",f.ERR_BAD_REQUEST,t)):v.send(m)}))}},3278:(t,e,r)=>{"use strict";var n=r(4260),i=r(8811),s=r(9975),o=r(2791),a=function t(e){var r=new s(e),a=i(s.prototype.request,r);return n.extend(a,s.prototype,r),n.extend(a,r),a.create=function(r){return t(o(e,r))},a}(r(7538));a.Axios=s,a.CanceledError=r(7630),a.CancelToken=r(3308),a.isCancel=r(6223),a.VERSION=r(3793).version,a.toFormData=r(8826),a.AxiosError=r(2438),a.Cancel=a.CanceledError,a.all=function(t){return Promise.all(t)},a.spread=r(5463),a.isAxiosError=r(2625),t.exports=a,t.exports.default=a},3308:(t,e,r)=>{"use strict";var n=r(7630);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,n=r._listeners.length;for(e=0;e<n;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},7630:(t,e,r)=>{"use strict";var n=r(2438);function i(t){n.call(this,null==t?"canceled":t,n.ERR_CANCELED),this.name="CanceledError"}r(4260).inherits(i,n,{__CANCEL__:!0}),t.exports=i},6223:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},9975:(t,e,r)=>{"use strict";var n=r(4260),i=r(5004),s=r(7618),o=r(3669),a=r(2791),u=r(6383),h=r(6782),c=h.validators;function f(t){this.defaults=t,this.interceptors={request:new s,response:new s}}f.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&h.assertOptions(r,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var s,u=[];if(this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)})),!i){var f=[o,void 0];for(Array.prototype.unshift.apply(f,n),f=f.concat(u),s=Promise.resolve(e);f.length;)s=s.then(f.shift(),f.shift());return s}for(var l=e;n.length;){var d=n.shift(),p=n.shift();try{l=d(l)}catch(t){p(t);break}}try{s=o(l)}catch(t){return Promise.reject(t)}for(;u.length;)s=s.then(u.shift(),u.shift());return s},f.prototype.getUri=function(t){t=a(this.defaults,t);var e=u(t.baseURL,t.url);return i(e,t.params,t.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(t){f.prototype[t]=function(e,r){return this.request(a(r||{},{method:t,url:e,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,i){return this.request(a(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}f.prototype[t]=e(),f.prototype[t+"Form"]=e(!0)})),t.exports=f},2438:(t,e,r)=>{"use strict";var n=r(4260);function i(t,e,r,n,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}n.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var s=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){o[t]={value:t}})),Object.defineProperties(i,o),Object.defineProperty(s,"isAxiosError",{value:!0}),i.from=function(t,e,r,o,a,u){var h=Object.create(s);return n.toFlatObject(t,h,(function(t){return t!==Error.prototype})),i.call(h,t.message,e,r,o,a),h.name=t.name,u&&Object.assign(h,u),h},t.exports=i},7618:(t,e,r)=>{"use strict";var n=r(4260);function i(){this.handlers=[]}i.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},6383:(t,e,r)=>{"use strict";var n=r(3554),i=r(7827);t.exports=function(t,e){return t&&!n(e)?i(t,e):e}},3669:(t,e,r)=>{"use strict";var n=r(4260),i=r(9368),s=r(6223),o=r(7538),a=r(7630);function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new a}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return u(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return s(e)||(u(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},2791:(t,e,r)=>{"use strict";var n=r(4260);t.exports=function(t,e){e=e||{};var r={};function i(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function s(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:i(void 0,t[r]):i(t[r],e[r])}function o(t){if(!n.isUndefined(e[t]))return i(void 0,e[t])}function a(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:i(void 0,t[r]):i(void 0,e[r])}function u(r){return r in e?i(t[r],e[r]):r in t?i(void 0,t[r]):void 0}var h={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return n.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=h[t]||s,i=e(t);n.isUndefined(i)&&e!==u||(r[t]=i)})),r}},3507:(t,e,r)=>{"use strict";var n=r(2438);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}},9368:(t,e,r)=>{"use strict";var n=r(4260),i=r(7538);t.exports=function(t,e,r){var s=this||i;return n.forEach(r,(function(r){t=r.call(s,t,e)})),t}},7538:(t,e,r)=>{"use strict";var n=r(4155),i=r(4260),s=r(898),o=r(2438),a=r(3546),u=r(8826),h={"Content-Type":"application/x-www-form-urlencoded"};function c(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var f,l={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==n&&"[object process]"===Object.prototype.toString.call(n))&&(f=r(5112)),f),transformRequest:[function(t,e){if(s(e,"Accept"),s(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t))return t;if(i.isArrayBufferView(t))return t.buffer;if(i.isURLSearchParams(t))return c(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r,n=i.isObject(t),o=e&&e["Content-Type"];if((r=i.isFileList(t))||n&&"multipart/form-data"===o){var a=this.env&&this.env.FormData;return u(r?{"files[]":t}:t,a&&new a)}return n||"application/json"===o?(c(e,"application/json"),function(t,e,r){if(i.isString(t))try{return(0,JSON.parse)(t),i.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||l.transitional,r=e&&e.silentJSONParsing,n=e&&e.forcedJSONParsing,s=!r&&"json"===this.responseType;if(s||n&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(s){if("SyntaxError"===t.name)throw o.from(t,o.ERR_BAD_RESPONSE,this,null,this.response);throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(3091)},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){l.headers[t]=i.merge(h)})),t.exports=l},3546:t=>{"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},3793:t=>{t.exports={version:"0.27.2"}},8811:t=>{"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},5004:(t,e,r)=>{"use strict";var n=r(4260);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var s;if(r)s=r(e);else if(n.isURLSearchParams(e))s=e.toString();else{var o=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),o.push(i(e)+"="+i(t))})))})),s=o.join("&")}if(s){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},7827:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},1158:(t,e,r)=>{"use strict";var n=r(4260);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,s,o){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},3554:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},2625:(t,e,r)=>{"use strict";var n=r(4260);t.exports=function(t){return n.isObject(t)&&!0===t.isAxiosError}},9332:(t,e,r)=>{"use strict";var n=r(4260);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},898:(t,e,r)=>{"use strict";var n=r(4260);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},3091:t=>{t.exports=null},9468:(t,e,r)=>{"use strict";var n=r(4260),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,s,o={};return t?(n.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=n.trim(t.substr(0,s)).toLowerCase(),r=n.trim(t.substr(s+1)),e){if(o[e]&&i.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([r]):o[e]?o[e]+", "+r:r}})),o):o}},294:t=>{"use strict";t.exports=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}},5463:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},8826:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(4260);t.exports=function(t,e){e=e||new FormData;var r=[];function s(t){return null===t?"":i.isDate(t)?t.toISOString():i.isArrayBuffer(t)||i.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):n.from(t):t}return function t(n,o){if(i.isPlainObject(n)||i.isArray(n)){if(-1!==r.indexOf(n))throw Error("Circular reference detected in "+o);r.push(n),i.forEach(n,(function(r,n){if(!i.isUndefined(r)){var a,u=o?o+"."+n:n;if(r&&!o&&"object"==typeof r)if(i.endsWith(n,"{}"))r=JSON.stringify(r);else if(i.endsWith(n,"[]")&&(a=i.toArray(r)))return void a.forEach((function(t){!i.isUndefined(t)&&e.append(u,s(t))}));t(r,u)}})),r.pop()}else e.append(o,s(n))}(t),e}},6782:(t,e,r)=>{"use strict";var n=r(3793).version,i=r(2438),s={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){s[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var o={};s.transitional=function(t,e,r){function s(t,e){return"[Axios v"+n+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,n,a){if(!1===t)throw new i(s(n," has been removed"+(e?" in "+e:"")),i.ERR_DEPRECATED);return e&&!o[n]&&(o[n]=!0,console.warn(s(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,a)}},t.exports={assertOptions:function(t,e,r){if("object"!=typeof t)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),s=n.length;s-- >0;){var o=n[s],a=e[o];if(a){var u=t[o],h=void 0===u||a(u,o,t);if(!0!==h)throw new i("option "+o+" must be "+h,i.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}},validators:s}},4260:(t,e,r)=>{"use strict";var n,i=r(8811),s=Object.prototype.toString,o=(n=Object.create(null),function(t){var e=s.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())});function a(t){return t=t.toLowerCase(),function(e){return o(e)===t}}function u(t){return Array.isArray(t)}function h(t){return void 0===t}var c=a("ArrayBuffer");function f(t){return null!==t&&"object"==typeof t}function l(t){if("object"!==o(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var d=a("Date"),p=a("File"),m=a("Blob"),g=a("FileList");function y(t){return"[object Function]"===s.call(t)}var b=a("URLSearchParams");function v(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),u(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var w,_=(w="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(t){return w&&t instanceof w});t.exports={isArray:u,isArrayBuffer:c,isBuffer:function(t){return null!==t&&!h(t)&&null!==t.constructor&&!h(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){var e="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||s.call(t)===e||y(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&c(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:f,isPlainObject:l,isUndefined:h,isDate:d,isFile:p,isBlob:m,isFunction:y,isStream:function(t){return f(t)&&y(t.pipe)},isURLSearchParams:b,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:v,merge:function t(){var e={};function r(r,n){l(e[n])&&l(r)?e[n]=t(e[n],r):l(r)?e[n]=t({},r):u(r)?e[n]=r.slice():e[n]=r}for(var n=0,i=arguments.length;n<i;n++)v(arguments[n],r);return e},extend:function(t,e,r){return v(e,(function(e,n){t[n]=r&&"function"==typeof e?i(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)},toFlatObject:function(t,e,r){var n,i,s,o={};e=e||{};do{for(i=(n=Object.getOwnPropertyNames(t)).length;i-- >0;)o[s=n[i]]||(e[s]=t[s],o[s]=!0);t=Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:o,kindOfTest:a,endsWith:function(t,e,r){t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return-1!==n&&n===r},toArray:function(t){if(!t)return null;var e=t.length;if(h(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r},isTypedArray:_,isFileList:g}},9669:(t,e,r)=>{"use strict";var n=r(9509).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=i}var a=t.length,u=t.charAt(0),h=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,s=0;t[r]===u;)i++,r++;for(var o=(t.length-r)*h+1>>>0,c=new Uint8Array(o);t[r];){var f=e[t.charCodeAt(r)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<s)&&-1!==d;d--,l++)f+=a*c[d]>>>0,c[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");s=l,r++}for(var p=o-s;p!==o&&0===c[p];)p++;var m=n.allocUnsafe(i+(o-p));m.fill(0,0,i);for(var g=i;p!==o;)m[g++]=c[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,s=0,o=e.length;s!==o&&0===e[s];)s++,r++;for(var h=(o-s)*c+1>>>0,f=new Uint8Array(h);s!==o;){for(var l=e[s],d=0,p=h-1;(0!==l||d<i)&&-1!==p;p--,d++)l+=256*f[p]>>>0,f[p]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,s++}for(var m=h-i;m!==h&&0===f[m];)m++;for(var g=u.repeat(r);m<h;++m)g+=t.charAt(f[m]);return g},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},3581:(t,e,r)=>{var n=r(9669);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},9809:(t,e,r)=>{"use strict";const n=e;n.bignum=r(4590),n.define=r(2500).define,n.base=r(1979),n.constants=r(6826),n.decoders=r(8307),n.encoders=r(6579)},2500:(t,e,r)=>{"use strict";const n=r(6579),i=r(8307),s=r(5717);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){const e=this.name;function r(t){this._initNamed(t,e)}return s(r,t),r.prototype._initNamed=function(e,r){t.call(this,e,r)},new r(this)},o.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(i[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},6625:(t,e,r)=>{"use strict";const n=r(5717),i=r(8465).b,s=r(2399).Buffer;function o(t,e){i.call(this,e),s.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return a.isEncoderBuffer(t)||(t=new a(t,e)),this.length+=t.length,t}),this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=s.byteLength(t);else{if(!s.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}n(o,i),e.C=o,o.isDecoderBuffer=function(t){return t instanceof o||"object"==typeof t&&s.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"==typeof t.offset&&"number"==typeof t.length&&"function"==typeof t.save&&"function"==typeof t.restore&&"function"==typeof t.isEmpty&&"function"==typeof t.readUInt8&&"function"==typeof t.skip&&"function"==typeof t.raw},o.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},o.prototype.restore=function(t){const e=new o(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},o.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");const r=new o(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},o.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.R=a,a.isEncoderBuffer=function(t){return t instanceof a||"object"==typeof t&&"EncoderBuffer"===t.constructor.name&&"number"==typeof t.length&&"function"==typeof t.join},a.prototype.join=function(t,e){return t||(t=s.alloc(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(t,e),e+=r.length})):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):s.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}},1979:(t,e,r)=>{"use strict";const n=e;n.Reporter=r(8465).b,n.DecoderBuffer=r(6625).C,n.EncoderBuffer=r(6625).R,n.Node=r(1949)},1949:(t,e,r)=>{"use strict";const n=r(8465).b,i=r(6625).R,s=r(6625).C,o=r(9746),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function h(t,e,r){const n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=h;const c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const t=this._baseState,e={};c.forEach((function(r){e[r]=t[r]}));const r=new this.constructor(e.parent);return r._baseState=e,r},h.prototype._wrap=function(){const t=this._baseState;u.forEach((function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}}),this)},h.prototype._init=function(t){const e=this._baseState;o(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),o.equal(e.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(t){const e=this._baseState,r=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==r.length&&(o(null===e.children),e.children=r,r.forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(o(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach((function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){h.prototype[t]=function(){const e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),a.forEach((function(t){h.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return o(null===e.tag),e.tag=t,this._useArgs(r),this}})),h.prototype.use=function(t){o(t);const e=this._baseState;return o(null===e.use),e.use=t,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(t){const e=this._baseState;return o(null===e.default),e.default=t,e.optional=!0,this},h.prototype.explicit=function(t){const e=this._baseState;return o(null===e.explicit&&null===e.implicit),e.explicit=t,this},h.prototype.implicit=function(t){const e=this._baseState;return o(null===e.explicit&&null===e.implicit),e.implicit=t,this},h.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},h.prototype.key=function(t){const e=this._baseState;return o(null===e.key),e.key=t,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(t){const e=this._baseState;return o(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},h.prototype.contains=function(t){const e=this._baseState;return o(null===e.use),e.contains=t,this},h.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,o=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(o=this._peekTag(t,n,r.any),t.isError(o))return o}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),o=!0}catch(t){o=!1}t.restore(n)}}if(r.obj&&o&&(n=t.enterObject()),o){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,"tagged"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(t,e)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const n=new s(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&o&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==o?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},h.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):"objid"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):"objid"===t?this._decodeObjid(e,null,null,r):"gentime"===t||"utctime"===t?this._decodeTime(e,t,r):"null_"===t?this._decodeNull(e,r):"bool"===t?this._decodeBool(e,r):"objDesc"===t?this._decodeStr(e,t,r):"int"===t||"enum"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error("unknown tag: "+t)},h.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),o(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},h.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some((function(s){const o=t.save(),a=r.choice[s];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:s,value:r},i=!0}catch(e){return t.restore(o),!1}return!0}),this),i?n:t.error("Choice not matched")},h.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},h.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},h.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let s=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let o=null,a=!1;if(i.any)s=this._createEncoderBuffer(t);else if(i.choice)s=this._encodeChoice(t,e);else if(i.contains)o=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)o=i.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error("Child should have a key");const n=e.enterKey(r._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i}),this).filter((function(t){return t})),o=this._createEncoderBuffer(o);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,o=this._createEncoderBuffer(t.map((function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)}),r))}else null!==i.use?s=this._getUse(i.use,r)._encode(t,e):(o=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?"universal":"context";null===t?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(s=this._encodeComposite(t,a,r,o))}return null!==i.explicit&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},h.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||o(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},h.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},h.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},h.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},8465:(t,e,r)=>{"use strict";const n=r(5717);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function s(t,e){this.path=t,this.rethrow(e)}e.b=i,i.prototype.isError=function(t){return t instanceof s},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof s;if(e=n?t:new s(r.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(s,Error),s.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},160:(t,e)=>{"use strict";function r(t){const e={};return Object.keys(t).forEach((function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r})),e}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=r(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=r(e.tag)},6826:(t,e,r)=>{"use strict";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach((function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r})),e},n.der=r(160)},1671:(t,e,r)=>{"use strict";const n=r(5717),i=r(4590),s=r(6625).C,o=r(1949),a=r(160);function u(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new h,this.tree._init(t.body)}function h(t){o.call(this,"der",t)}function c(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function f(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error("length octect is too long");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return s.isDecoderBuffer(t)||(t=new s(t,e)),this.tree._decode(t,e)},n(h,o),h.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=c(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||r)},h.prototype._decodeTag=function(t,e,r){const n=c(t,'Failed to decode tag of "'+e+'"');if(t.isError(n))return n;let i=f(t,n.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');const s=t.save(),o=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(o)?o:(i=t.offset-s.offset,t.restore(s),t.skip(i,'Failed to match body of: "'+e+'"'))},h.prototype._skipUntilEnd=function(t,e){for(;;){const r=c(t,e);if(t.isError(r))return r;const n=f(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===r.tagStr)break}},h.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,"end");if(t.isError(e))return e;const s=r.decode(t,"der",n);if(t.isError(s)&&e)break;i.push(s)}return i},h.prototype._decodeStr=function(t,e){if("bitstr"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if("bmpstr"===e){const e=t.raw();if(e.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let r="";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if("numstr"===e){const e=t.raw().toString("ascii");return this._isNumstr(e)?e:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){const e=t.raw().toString("ascii");return this._isPrintstr(e)?e:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},h.prototype._decodeObjid=function(t,e,r){let n;const i=[];let s=0,o=0;for(;!t.isEmpty();)o=t.readUInt8(),s<<=7,s|=127&o,0==(128&o)&&(i.push(s),s=0);128&o&&i.push(s);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(" ")];void 0===t&&(t=e[n.join(".")]),void 0!==t&&(n=t)}return n},h.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,s,o,a,u;if("gentime"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),s=0|r.slice(6,8),o=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),s=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,s,o,a,u,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},h.prototype._decodeInt=function(t,e){const r=t.raw();let n=new i(r);return e&&(n=e[n.toString(10)]||n),n},h.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},8307:(t,e,r)=>{"use strict";const n=e;n.der=r(1671),n.pem=r(9631)},9631:(t,e,r)=>{"use strict";const n=r(5717),i=r(2399).Buffer,s=r(1671);function o(t){s.call(this,t),this.enc="pem"}n(o,s),t.exports=o,o.prototype.decode=function(t,e){const r=t.toString().split(/[\r\n]+/g),n=e.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(o);if(null!==e&&e[2]===n){if(-1!==a){if("END"!==e[1])break;u=t;break}if("BEGIN"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error("PEM section not found for: "+n);const h=r.slice(a+1,u).join("");h.replace(/[^a-z0-9+/=]+/gi,"");const c=i.from(h,"base64");return s.prototype.decode.call(this,c,e)}},6984:(t,e,r)=>{"use strict";const n=r(5717),i=r(2399).Buffer,s=r(1949),o=r(160);function a(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){s.call(this,"der",t)}function h(t){return t<10?"0"+t:t}t.exports=a,a.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(u,s),u.prototype._encodeComposite=function(t,e,r,n){const s=function(t,e,r,n){let i;if("seqof"===t?t="seq":"setof"===t&&(t="set"),o.tagByName.hasOwnProperty(t))i=o.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return n.error("Unknown tag: "+t);i=t}return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=o.tagClassByName[r||"universal"]<<6,i)}(t,e,r,this.reporter);if(n.length<128){const t=i.alloc(2);return t[0]=s,t[1]=n.length,this._createEncoderBuffer([t,n])}let a=1;for(let t=n.length;t>=256;t>>=8)a++;const u=i.alloc(2+a);u[0]=s,u[1]=128|a;for(let t=1+a,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},u.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){const e=i.alloc(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},u.prototype._encodeObjid=function(t,e,r){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const s=i.alloc(n);let o=s.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(s[o--]=127&r;(r>>=7)>0;)s[o--]=128|127&r}return this._createEncoderBuffer(s)},u.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return"gentime"===e?r=[h(n.getUTCFullYear()),h(n.getUTCMonth()+1),h(n.getUTCDate()),h(n.getUTCHours()),h(n.getUTCMinutes()),h(n.getUTCSeconds()),"Z"].join(""):"utctime"===e?r=[h(n.getUTCFullYear()%100),h(n.getUTCMonth()+1),h(n.getUTCDate()),h(n.getUTCHours()),h(n.getUTCMinutes()),h(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(r,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=i.from(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=i.alloc(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(i.from(n))},u.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},u.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const s=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),s.length!==n.defaultBuffer.length)return!1;for(i=0;i<s.length;i++)if(s[i]!==n.defaultBuffer[i])return!1;return!0}},6579:(t,e,r)=>{"use strict";const n=e;n.der=r(6984),n.pem=r(2883)},2883:(t,e,r)=>{"use strict";const n=r(5717),i=r(6984);function s(t){i.call(this,t),this.enc="pem"}n(s,i),t.exports=s,s.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString("base64"),n=["-----BEGIN "+e.label+"-----"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push("-----END "+e.label+"-----"),n.join("\n")}},4590:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(950).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function h(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=n)u=h(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var c=u>>>26,f=67108863&u,l=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=l;d++){var p=h-d|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,u=0|c}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!=(s=a>>>24-i&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,h=new t(s),c=this.clone();if(u){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[a]=o;for(;a<s;a++)h[a]=0}else{for(a=0;a<s-i;a++)h[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[s-a-1]=o}return h},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,h=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,_=v>>>13,M=0|o[4],S=8191&M,k=M>>>13,E=0|o[5],A=8191&E,x=E>>>13,T=0|o[6],I=8191&T,B=T>>>13,R=0|o[7],P=8191&R,O=R>>>13,C=0|o[8],U=8191&C,N=C>>>13,L=0|o[9],q=8191&L,z=L>>>13,D=0|a[0],j=8191&D,H=D>>>13,F=0|a[1],K=8191&F,$=F>>>13,W=0|a[2],V=8191&W,G=W>>>13,J=0|a[3],Z=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,H))+Math.imul(l,j)|0))<<13)|0;h=((s=Math.imul(l,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,H))+Math.imul(m,j)|0,s=Math.imul(m,H);var yt=(h+(n=n+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(l,K)|0))<<13)|0;h=((s=s+Math.imul(l,$)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,H))+Math.imul(b,j)|0,s=Math.imul(b,H),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var bt=(h+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(l,V)|0))<<13)|0;h=((s=s+Math.imul(l,G)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,H))+Math.imul(_,j)|0,s=Math.imul(_,H),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,G)|0;var vt=(h+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,Z)|0))<<13)|0;h=((s=s+Math.imul(l,X)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,j),i=(i=Math.imul(S,H))+Math.imul(k,j)|0,s=Math.imul(k,H),n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var wt=(h+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;h=((s=s+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,H))+Math.imul(x,j)|0,s=Math.imul(x,H),n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(k,K)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(h+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(l,rt)|0))<<13)|0;h=((s=s+Math.imul(l,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,H))+Math.imul(B,j)|0,s=Math.imul(B,H),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(k,V)|0,s=s+Math.imul(k,G)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Mt=(h+(n=n+Math.imul(f,st)|0)|0)+((8191&(i=(i=i+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;h=((s=s+Math.imul(l,ot)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,H))+Math.imul(O,j)|0,s=Math.imul(O,H),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(B,K)|0,s=s+Math.imul(B,$)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,G)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(h+(n=n+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((s=s+Math.imul(l,ht)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,H))+Math.imul(N,j)|0,s=Math.imul(N,H),n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,$)|0,n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ht)|0;var kt=(h+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;h=((s=s+Math.imul(l,lt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(q,j),i=(i=Math.imul(q,H))+Math.imul(z,j)|0,s=Math.imul(z,H),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ht)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ht)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,s=s+Math.imul(m,lt)|0;var Et=(h+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;h=((s=s+Math.imul(l,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(q,K),i=(i=Math.imul(q,$))+Math.imul(z,K)|0,s=Math.imul(z,$),n=n+Math.imul(U,V)|0,i=(i=i+Math.imul(U,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,X)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ht)|0,n=n+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var At=(h+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(q,V),i=(i=Math.imul(q,G))+Math.imul(z,V)|0,s=Math.imul(z,G),n=n+Math.imul(U,Z)|0,i=(i=i+Math.imul(U,X)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,X)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(B,rt)|0,s=s+Math.imul(B,nt)|0,n=n+Math.imul(A,st)|0,i=(i=i+Math.imul(A,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ht)|0)+Math.imul(k,ut)|0,s=s+Math.imul(k,ht)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(_,ft)|0,s=s+Math.imul(_,lt)|0;var xt=(h+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(q,Z),i=(i=Math.imul(q,X))+Math.imul(z,Z)|0,s=Math.imul(z,X),n=n+Math.imul(U,Q)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ht)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ht)|0,n=n+Math.imul(S,ft)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(k,ft)|0,s=s+Math.imul(k,lt)|0;var Tt=(h+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(q,Q),i=(i=Math.imul(q,tt))+Math.imul(z,Q)|0,s=Math.imul(z,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(B,ut)|0,s=s+Math.imul(B,ht)|0,n=n+Math.imul(A,ft)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var It=(h+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;h=((s=s+Math.imul(k,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(q,rt),i=(i=Math.imul(q,nt))+Math.imul(z,rt)|0,s=Math.imul(z,nt),n=n+Math.imul(U,st)|0,i=(i=i+Math.imul(U,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ht)|0,n=n+Math.imul(I,ft)|0,i=(i=i+Math.imul(I,lt)|0)+Math.imul(B,ft)|0,s=s+Math.imul(B,lt)|0;var Bt=(h+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(q,st),i=(i=Math.imul(q,ot))+Math.imul(z,st)|0,s=Math.imul(z,ot),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,ht)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ht)|0,n=n+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ft)|0,s=s+Math.imul(O,lt)|0;var Rt=(h+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(B,pt)|0))<<13)|0;h=((s=s+Math.imul(B,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(q,ut),i=(i=Math.imul(q,ht))+Math.imul(z,ut)|0,s=Math.imul(z,ht),n=n+Math.imul(U,ft)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(N,ft)|0,s=s+Math.imul(N,lt)|0;var Pt=(h+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;h=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(q,ft),i=(i=Math.imul(q,lt))+Math.imul(z,ft)|0,s=Math.imul(z,lt);var Ot=(h+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(h+(n=Math.imul(q,pt))|0)+((8191&(i=(i=Math.imul(q,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((s=Math.imul(z,mt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=gt,u[1]=yt,u[2]=bt,u[3]=vt,u[4]=wt,u[5]=_t,u[6]=Mt,u[7]=St,u[8]=kt,u[9]=Et,u[10]=At,u[11]=xt,u[12]=Tt,u[13]=It,u[14]=Bt,u[15]=Rt,u[16]=Pt,u[17]=Ot,u[18]=Ct,0!==h&&(u[19]=h,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=u;h++){var c=s-h,f=(0|t.words[c])*(0|e.words[h]),l=67108863&f;a=67108863&(l=l+a|0),i+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},g.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var f=u,l=h,d=0;d<o;d++){var p=r[c+d],m=n[c+d],g=r[c+d+o],y=n[c+d+o],b=f*g-l*y;y=f*y+l*g,g=b,r[c+d]=p+g,n[c+d]=m+y,r[c+d+o]=p-g,n[c+d+o]=m-y,d!==a&&(b=u*f-h*l,l=u*l+h*f,f=b)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),c=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,h,n),this.transform(o,s,a,u,n,i),this.transform(h,s,c,f,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,s,n,i),this.conjugate(l,s,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var h=0;h<o;h++)u.words[h]=this.words[h];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=i);h--){var f=0|this.words[h];this.words[h]=c<<26-s|f>>>s,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(l=Math.min(l/o|0,67108863),n._ishlnsubmul(i,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=l)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(h)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},i(v,b),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,b),i(_,b),i(M,b),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,h).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),l=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var h=e.words[n],c=u-1;c>=0;c--){var f=h>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==o?(o<<=1,o|=f,(4==++a||0===n&&0===c)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},i(k,S),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},2047:(t,e,r)=>{var n=r(9353);t.exports=function(t,e){return new Promise((function(r,i){var s,o=e||{};function a(t){i(t||new Error("Aborted"))}function u(t,e){t.bail?a(t):s.retry(t)?o.onRetry&&o.onRetry(t,e):i(s.mainError())}"randomize"in o||(o.randomize=!0),(s=n.operation(o)).attempt((function(e){var n;try{n=t(a,e)}catch(t){return void u(t,e)}Promise.resolve(n).then(r).catch((function(t){u(t,e)}))}))}))}},8162:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(255!==e[s])throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function c(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,n=0,i=0;t[r]===a;)n++,r++;for(var s=(t.length-r)*u+1>>>0,h=new Uint8Array(s);t[r];){var c=e[t.charCodeAt(r)];if(255===c)return;for(var f=0,l=s-1;(0!==c||f<i)&&-1!==l;l--,f++)c+=o*h[l]>>>0,h[l]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");i=f,r++}for(var d=s-i;d!==s&&0===h[d];)d++;for(var p=new Uint8Array(n+(s-d)),m=n;d!==s;)p[m++]=h[d++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,s=e.length;i!==s&&0===e[i];)i++,r++;for(var u=(s-i)*h+1>>>0,c=new Uint8Array(u);i!==s;){for(var f=e[i],l=0,d=u-1;(0!==f||l<n)&&-1!==d;d--,l++)f+=256*c[d]>>>0,c[d]=f%o>>>0,f=f/o>>>0;if(0!==f)throw new Error("Non-zero carry");n=l,i++}for(var p=u-n;p!==u&&0===c[p];)p++;for(var m=a.repeat(r);p<u;++p)m+=t.charAt(c[p]);return m},decodeUnsafe:c,decode:function(t){var e=c(t);if(e)return e;throw new Error("Non-base"+o+" character")}}}},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],u=s[1],h=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,u)),c=0,f=u>0?o-4:o;for(r=0;r<f;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],h[c++]=e>>16&255,h[c++]=e>>8&255,h[c++]=255&e;return 2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,h[c++]=255&e),1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,h[c++]=e>>8&255,h[c++]=255&e),h},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,a=0,h=n-i;a<h;a+=o)s.push(u(t,a,a+o>h?h:a+o));return 1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,n){for(var i,s,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},2240:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(1518);function s(t,e){return void 0===e&&(e="utf8"),n.isBuffer(t)?a(t.toString("base64")):a(n.from(t,e).toString("base64"))}function o(t){return t=t.toString(),i.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function a(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var u=s;u.encode=s,u.decode=function(t,e){return void 0===e&&(e="utf8"),n.from(o(t),"base64").toString(e)},u.toBase64=o,u.fromBase64=a,u.toBuffer=function(t){return n.from(o(t),"base64")},e.default=u},1518:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.length,r=e%4;if(!r)return t;var i=e,s=4-r,o=e+s,a=n.alloc(o);for(a.write(t);s--;)a.write("=",i++);return a.toString()}},3363:(t,e,r)=>{t.exports=r(2240).default,t.exports.default=t.exports},475:(t,e,r)=>{"use strict";var n=r(8764).Buffer;e.oU=function(t){{const e=n.from(t);e.reverse();const r=e.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},e.k$=function(t,e){{const r=t.toString(16),i=n.from(r.padStart(2*e,"0").slice(0,2*e),"hex");return i.reverse(),i}}},3550:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6601).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function h(t,e,r,i){for(var s=0,o=0,a=Math.min(t.length,r),u=e;u<a;u++){var h=t.charCodeAt(u)-48;s*=i,o=h>=49?h-49+10:h>=17?h-17+10:h,n(h>=0&&o<i,"Invalid character"),s+=o}return s}function c(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=n)u=h(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){c(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(t){s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var c=u>>>26,f=67108863&u,l=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=l;d++){var p=h-d|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,u=0|c}return 0!==u?r.words[h]=0|u:r.length--,r._strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?l[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=d[t],c=p[t];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var m=f.modrn(c).toString(t);r=(f=f.idivn(c)).isZero()?m+r:l[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,h=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,_=v>>>13,M=0|o[4],S=8191&M,k=M>>>13,E=0|o[5],A=8191&E,x=E>>>13,T=0|o[6],I=8191&T,B=T>>>13,R=0|o[7],P=8191&R,O=R>>>13,C=0|o[8],U=8191&C,N=C>>>13,L=0|o[9],q=8191&L,z=L>>>13,D=0|a[0],j=8191&D,H=D>>>13,F=0|a[1],K=8191&F,$=F>>>13,W=0|a[2],V=8191&W,G=W>>>13,J=0|a[3],Z=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,H))+Math.imul(l,j)|0))<<13)|0;h=((s=Math.imul(l,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,H))+Math.imul(m,j)|0,s=Math.imul(m,H);var yt=(h+(n=n+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(l,K)|0))<<13)|0;h=((s=s+Math.imul(l,$)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,H))+Math.imul(b,j)|0,s=Math.imul(b,H),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var bt=(h+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(l,V)|0))<<13)|0;h=((s=s+Math.imul(l,G)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,H))+Math.imul(_,j)|0,s=Math.imul(_,H),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,G)|0;var vt=(h+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,Z)|0))<<13)|0;h=((s=s+Math.imul(l,X)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,j),i=(i=Math.imul(S,H))+Math.imul(k,j)|0,s=Math.imul(k,H),n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var wt=(h+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;h=((s=s+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,H))+Math.imul(x,j)|0,s=Math.imul(x,H),n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(k,K)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(h+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(l,rt)|0))<<13)|0;h=((s=s+Math.imul(l,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,H))+Math.imul(B,j)|0,s=Math.imul(B,H),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(k,V)|0,s=s+Math.imul(k,G)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Mt=(h+(n=n+Math.imul(f,st)|0)|0)+((8191&(i=(i=i+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;h=((s=s+Math.imul(l,ot)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,H))+Math.imul(O,j)|0,s=Math.imul(O,H),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(B,K)|0,s=s+Math.imul(B,$)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,G)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(h+(n=n+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((s=s+Math.imul(l,ht)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,H))+Math.imul(N,j)|0,s=Math.imul(N,H),n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,$)|0,n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ht)|0;var kt=(h+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;h=((s=s+Math.imul(l,lt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(q,j),i=(i=Math.imul(q,H))+Math.imul(z,j)|0,s=Math.imul(z,H),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ht)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ht)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,s=s+Math.imul(m,lt)|0;var Et=(h+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;h=((s=s+Math.imul(l,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(q,K),i=(i=Math.imul(q,$))+Math.imul(z,K)|0,s=Math.imul(z,$),n=n+Math.imul(U,V)|0,i=(i=i+Math.imul(U,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,X)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ht)|0,n=n+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var At=(h+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(q,V),i=(i=Math.imul(q,G))+Math.imul(z,V)|0,s=Math.imul(z,G),n=n+Math.imul(U,Z)|0,i=(i=i+Math.imul(U,X)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,X)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(B,rt)|0,s=s+Math.imul(B,nt)|0,n=n+Math.imul(A,st)|0,i=(i=i+Math.imul(A,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ht)|0)+Math.imul(k,ut)|0,s=s+Math.imul(k,ht)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(_,ft)|0,s=s+Math.imul(_,lt)|0;var xt=(h+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(q,Z),i=(i=Math.imul(q,X))+Math.imul(z,Z)|0,s=Math.imul(z,X),n=n+Math.imul(U,Q)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ht)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ht)|0,n=n+Math.imul(S,ft)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(k,ft)|0,s=s+Math.imul(k,lt)|0;var Tt=(h+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(q,Q),i=(i=Math.imul(q,tt))+Math.imul(z,Q)|0,s=Math.imul(z,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(B,ut)|0,s=s+Math.imul(B,ht)|0,n=n+Math.imul(A,ft)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var It=(h+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;h=((s=s+Math.imul(k,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(q,rt),i=(i=Math.imul(q,nt))+Math.imul(z,rt)|0,s=Math.imul(z,nt),n=n+Math.imul(U,st)|0,i=(i=i+Math.imul(U,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ht)|0,n=n+Math.imul(I,ft)|0,i=(i=i+Math.imul(I,lt)|0)+Math.imul(B,ft)|0,s=s+Math.imul(B,lt)|0;var Bt=(h+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(q,st),i=(i=Math.imul(q,ot))+Math.imul(z,st)|0,s=Math.imul(z,ot),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,ht)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ht)|0,n=n+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ft)|0,s=s+Math.imul(O,lt)|0;var Rt=(h+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(B,pt)|0))<<13)|0;h=((s=s+Math.imul(B,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(q,ut),i=(i=Math.imul(q,ht))+Math.imul(z,ut)|0,s=Math.imul(z,ht),n=n+Math.imul(U,ft)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(N,ft)|0,s=s+Math.imul(N,lt)|0;var Pt=(h+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;h=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(q,ft),i=(i=Math.imul(q,lt))+Math.imul(z,ft)|0,s=Math.imul(z,lt);var Ot=(h+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(h+(n=Math.imul(q,pt))|0)+((8191&(i=(i=Math.imul(q,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((s=Math.imul(z,mt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=gt,u[1]=yt,u[2]=bt,u[3]=vt,u[4]=wt,u[5]=_t,u[6]=Mt,u[7]=St,u[8]=kt,u[9]=Et,u[10]=At,u[11]=xt,u[12]=Tt,u[13]=It,u[14]=Bt,u[15]=Rt,u[16]=Pt,u[17]=Ot,u[18]=Ct,0!==h&&(u[19]=h,r.length++),r};function y(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=u;h++){var c=s-h,f=(0|t.words[c])*(0|e.words[h]),l=67108863&f;a=67108863&(l=l+a|0),i+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function b(t,e,r){return y(t,e,r)}function v(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?y(this,t,e):b(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},v.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},v.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},v.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var f=u,l=h,d=0;d<o;d++){var p=r[c+d],m=n[c+d],g=r[c+d+o],y=n[c+d+o],b=f*g-l*y;y=f*y+l*g,g=b,r[c+d]=p+g,n[c+d]=m+y,r[c+d+o]=p-g,n[c+d+o]=m-y,d!==a&&(b=u*f-h*l,l=u*l+h*f,f=b)}},v.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},v.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},v.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},v.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),c=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,h,n),this.transform(o,s,a,u,n,i),this.transform(h,s,c,f,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,s,n,i),this.conjugate(l,s,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),b(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var h=0;h<o;h++)u.words[h]=this.words[h];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=i);h--){var f=0|this.words[h];this.words[h]=c<<26-s|f>>>s,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(l=Math.min(l/o|0,67108863),n._ishlnsubmul(i,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=l)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/t|0,r=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(h)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new A(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(M,_),M.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(S,_),i(k,_),i(E,_),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new S;else if("p192"===t)e=new k;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return w[t]=e,e},A.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(c(t,t.umod(this.m)._forceRed(this)),t)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,h).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),l=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var h=e.words[n],c=u-1;c>=0;c--){var f=h>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==o?(o<<=1,o|=f,(4==++a||0===n&&0===c)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new x(t)},i(x,A),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},5532:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const h=u(r(3550)),c=u(r(7304)),f=a(r(1379)),l=new("function"!=typeof TextDecoder?f.TextDecoder:TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=n.from(t,"utf8")),c.default.encode(n.from(t))},e.baseDecode=function(t){return n.from(c.default.decode(t))};const d=1024;class p extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=p;class m{constructor(){this.buf=n.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(d)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(n.from(new h.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(n.from(new h.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(n.from(new h.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(n.from(new h.default(t).toArray("le",64)))}writeBuffer(t){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),t,n.alloc(d)]),this.length+=t.length}writeString(t){this.maybeResize();const e=n.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(n.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}function g(t,e,r){const n=r.value;r.value=function(...t){try{return n.apply(this,t)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new p("Reached the end of buffer when deserializing")}throw t}}}e.BinaryWriter=m;class y{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new h.default(t,"le")}readU128(){const t=this.readBuffer(16);return new h.default(t,"le")}readU256(){const t=this.readBuffer(32);return new h.default(t,"le")}readU512(){const t=this.readBuffer(64);return new h.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new p(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return l.decode(e)}catch(t){throw new p(`Error decoding UTF-8 string: ${t}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let n=0;n<e;++n)r.push(t());return r}}function b(t){return t.charAt(0).toUpperCase()+t.slice(1)}function v(t,e,r,n,i){try{if("string"==typeof n)i[`write${b(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new p(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new p(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let e=0;e<n[1];e++)v(t,null,r[e],n[0],i)}else i.writeArray(r,(r=>{v(t,e,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),v(t,e,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach(((r,s)=>{v(t,e,s,n.key,i),v(t,e,r,n.value,i)}));break;default:throw new p(`FieldType ${n} unrecognized`)}else w(t,r,i)}catch(t){throw t instanceof p&&t.addToFieldPath(e),t}}function w(t,e,r){if("function"==typeof e.borshSerialize)return void e.borshSerialize(r);const n=t.get(e.constructor);if(!n)throw new p(`Class ${e.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((([n,i])=>{v(t,n,e[n],i,r)}));else{if("enum"!==n.kind)throw new p(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`);{const i=e[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),v(t,o,e[o],a,r);break}}}}}function _(t,e,r,n){try{if("string"==typeof r)return n[`read${b(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"==typeof r[1]){const e=[];for(let i=0;i<r[1];i++)e.push(_(t,null,r[0],n));return e}return n.readArray((()=>_(t,e,r[0],n)))}if("option"===r.kind)return n.readU8()?_(t,e,r.type,n):void 0;if("map"===r.kind){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const s=_(t,e,r.key,n),o=_(t,e,r.value,n);i.set(s,o)}return i}return M(t,r,n)}catch(t){throw t instanceof p&&t.addToFieldPath(e),t}}function M(t,e,r){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new p(`Class ${e.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,s]of t.get(e).fields)n[i]=_(t,i,s,r);return new e(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new p(`Enum index: ${i} is out of range`);const[s,o]=n.values[i];return new e({[s]:_(t,s,o,r)})}throw new p(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}o([g],y.prototype,"readU8",null),o([g],y.prototype,"readU16",null),o([g],y.prototype,"readU32",null),o([g],y.prototype,"readU64",null),o([g],y.prototype,"readU128",null),o([g],y.prototype,"readU256",null),o([g],y.prototype,"readU512",null),o([g],y.prototype,"readString",null),o([g],y.prototype,"readFixedArray",null),o([g],y.prototype,"readArray",null),e.BinaryReader=y,e.serialize=function(t,e,r=m){const n=new r;return w(t,e,n),n.toArray()},e.deserialize=function(t,e,r,n=y){const i=new n(r),s=M(t,e,i);if(i.offset<r.length)throw new p(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s},e.deserializeUnchecked=function(t,e,r,n=y){return M(t,e,new n(r))}},1709:(t,e,r)=>{"use strict";var n=r(9509).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=i}var a=t.length,u=t.charAt(0),h=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,s=0;t[r]===u;)i++,r++;for(var o=(t.length-r)*h+1>>>0,c=new Uint8Array(o);t[r];){var f=e[t.charCodeAt(r)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<s)&&-1!==d;d--,l++)f+=a*c[d]>>>0,c[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");s=l,r++}for(var p=o-s;p!==o&&0===c[p];)p++;var m=n.allocUnsafe(i+(o-p));m.fill(0,0,i);for(var g=i;p!==o;)m[g++]=c[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,s=0,o=e.length;s!==o&&0===e[s];)s++,r++;for(var h=(o-s)*c+1>>>0,f=new Uint8Array(h);s!==o;){for(var l=e[s],d=0,p=h-1;(0!==l||d<i)&&-1!==p;p--,d++)l+=256*f[p]>>>0,f[p]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,s++}for(var m=h-i;m!==h&&0===f[m];)m++;for(var g=u.repeat(r);m<h;++m)g+=t.charAt(f[m]);return g},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},7304:(t,e,r)=>{var n=r(1709);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},9931:(t,e,r)=>{var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r(5835);if("function"!=typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return s.randomBytes(t)}}catch(t){}},4497:(t,e,r)=>{var n=r(9509).Buffer;function i(t){n.isBuffer(t)||(t=n.from(t));for(var e=t.length/4|0,r=new Array(e),i=0;i<e;i++)r[i]=t.readUInt32BE(4*i);return r}function s(t){for(;0<t.length;t++)t[0]=0}function o(t,e,r,n,i){for(var s,o,a,u,h=r[0],c=r[1],f=r[2],l=r[3],d=t[0]^e[0],p=t[1]^e[1],m=t[2]^e[2],g=t[3]^e[3],y=4,b=1;b<i;b++)s=h[d>>>24]^c[p>>>16&255]^f[m>>>8&255]^l[255&g]^e[y++],o=h[p>>>24]^c[m>>>16&255]^f[g>>>8&255]^l[255&d]^e[y++],a=h[m>>>24]^c[g>>>16&255]^f[d>>>8&255]^l[255&p]^e[y++],u=h[g>>>24]^c[d>>>16&255]^f[p>>>8&255]^l[255&m]^e[y++],d=s,p=o,m=a,g=u;return s=(n[d>>>24]<<24|n[p>>>16&255]<<16|n[m>>>8&255]<<8|n[255&g])^e[y++],o=(n[p>>>24]<<24|n[m>>>16&255]<<16|n[g>>>8&255]<<8|n[255&d])^e[y++],a=(n[m>>>24]<<24|n[g>>>16&255]<<16|n[d>>>8&255]<<8|n[255&p])^e[y++],u=(n[g>>>24]<<24|n[d>>>16&255]<<16|n[p>>>8&255]<<8|n[255&m])^e[y++],[s>>>=0,o>>>=0,a>>>=0,u>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,u=0;u<256;++u){var h=a^a<<1^a<<2^a<<3^a<<4;h=h>>>8^255&h^99,r[o]=h,n[h]=o;var c=t[o],f=t[c],l=t[f],d=257*t[h]^16843008*h;i[0][o]=d<<24|d>>>8,i[1][o]=d<<16|d>>>16,i[2][o]=d<<8|d>>>24,i[3][o]=d,d=16843009*l^65537*f^257*c^16843008*o,s[0][h]=d<<24|d>>>8,s[1][h]=d<<16|d>>>16,s[2][h]=d<<8|d>>>24,s[3][h]=d,0===o?o=a=1:(o=c^t[t[t[l^c]]],a^=t[t[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function h(t){this._key=i(t),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=4*(r+1),i=[],s=0;s<e;s++)i[s]=t[s];for(s=e;s<n;s++){var o=i[s-1];s%e==0?(o=o<<8|o>>>24,o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o],o^=a[s/e|0]<<24):e>6&&s%e==4&&(o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o]),i[s]=i[s-e]^o}for(var h=[],c=0;c<n;c++){var f=n-c,l=i[f-(c%4?0:4)];h[c]=c<4||f<=4?l:u.INV_SUB_MIX[0][u.SBOX[l>>>24]]^u.INV_SUB_MIX[1][u.SBOX[l>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[l>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&l]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=h},h.prototype.encryptBlockRaw=function(t){return o(t=i(t),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},h.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=n.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r},h.prototype.decryptBlock=function(t){var e=(t=i(t))[1];t[1]=t[3],t[3]=e;var r=o(t,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),s=n.allocUnsafe(16);return s.writeUInt32BE(r[0],0),s.writeUInt32BE(r[3],4),s.writeUInt32BE(r[2],8),s.writeUInt32BE(r[1],12),s},h.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},t.exports.AES=h},2422:(t,e,r)=>{var n=r(4497),i=r(9509).Buffer,s=r(1027),o=r(5717),a=r(3288),u=r(7295),h=r(685);function c(t,e,r,o){s.call(this);var u=i.alloc(4,0);this._cipher=new n.AES(e);var c=this._cipher.encryptBlock(u);this._ghash=new a(c),r=function(t,e,r){if(12===e.length)return t._finID=i.concat([e,i.from([0,0,0,1])]),i.concat([e,i.from([0,0,0,2])]);var n=new a(r),s=e.length,o=s%16;n.update(e),o&&(o=16-o,n.update(i.alloc(o,0))),n.update(i.alloc(8,0));var u=8*s,c=i.alloc(8);c.writeUIntBE(u,0,8),n.update(c),t._finID=n.state;var f=i.from(t._finID);return h(f),f}(this,r,c),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}o(c,s),c.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=i.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},c.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},c.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},c.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=c},4696:(t,e,r)=>{var n=r(1494),i=r(6193),s=r(4946);e.createCipher=e.Cipher=n.createCipher,e.createCipheriv=e.Cipheriv=n.createCipheriv,e.createDecipher=e.Decipher=i.createDecipher,e.createDecipheriv=e.Decipheriv=i.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(s)}},6193:(t,e,r)=>{var n=r(2422),i=r(9509).Buffer,s=r(45),o=r(5969),a=r(1027),u=r(4497),h=r(3048);function c(t,e,r){a.call(this),this._cache=new f,this._last=void 0,this._cipher=new u.AES(e),this._prev=i.from(r),this._mode=t,this._autopadding=!0}function f(){this.cache=i.allocUnsafe(0)}function l(t,e,r){var a=s[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof e&&(e=i.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===a.type?new o(a.module,e,r,!0):"auth"===a.type?new n(a.module,e,r,!0):new c(a.module,e,r)}r(5717)(c,a),c.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return i.concat(n)},c.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(16!==e)return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},f.prototype.add=function(t){this.cache=i.concat([this.cache,t])},f.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var r=s[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=h(e,!1,r.key,r.iv);return l(t,n.key,n.iv)},e.createDecipheriv=l},1494:(t,e,r)=>{var n=r(45),i=r(2422),s=r(9509).Buffer,o=r(5969),a=r(1027),u=r(4497),h=r(3048);function c(t,e,r){a.call(this),this._cache=new l,this._cipher=new u.AES(e),this._prev=s.from(r),this._mode=t,this._autopadding=!0}r(5717)(c,a),c.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return s.concat(n)};var f=s.alloc(16,16);function l(){this.cache=s.allocUnsafe(0)}function d(t,e,r){var a=n[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=s.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof r&&(r=s.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===a.type?new o(a.module,e,r):"auth"===a.type?new i(a.module,e,r):new c(a.module,e,r)}c.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},l.prototype.add=function(t){this.cache=s.concat([this.cache,t])},l.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},l.prototype.flush=function(){for(var t=16-this.cache.length,e=s.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return s.concat([this.cache,e])},e.createCipheriv=d,e.createCipher=function(t,e){var r=n[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=h(e,!1,r.key,r.iv);return d(t,i.key,i.iv)}},3288:(t,e,r)=>{var n=r(9509).Buffer,i=n.alloc(16,0);function s(t){var e=n.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function o(t){this.h=t,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}o.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},o.prototype._multiply=function(){for(var t,e,r,n=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],i=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=0!=(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=s(i)},o.prototype.update=function(t){var e;for(this.cache=n.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},o.prototype.final=function(t,e){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(s([0,t,0,e])),this.state},t.exports=o},685:t=>{t.exports=function(t){for(var e,r=t.length;r--;){if(255!==(e=t.readUInt8(r))){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}},5292:(t,e,r)=>{var n=r(7295);e.encrypt=function(t,e){var r=n(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev},e.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return n(i,r)}},6311:(t,e,r)=>{var n=r(9509).Buffer,i=r(7295);function s(t,e,r){var s=e.length,o=i(e,t._cache);return t._cache=t._cache.slice(s),t._prev=n.concat([t._prev,r?e:o]),o}e.encrypt=function(t,e,r){for(var i,o=n.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=n.allocUnsafe(0)),!(t._cache.length<=e.length)){o=n.concat([o,s(t,e,r)]);break}i=t._cache.length,o=n.concat([o,s(t,e.slice(0,i),r)]),e=e.slice(i)}return o}},1510:(t,e,r)=>{var n=r(9509).Buffer;function i(t,e,r){for(var n,i,o=-1,a=0;++o<8;)n=e&1<<7-o?128:0,a+=(128&(i=t._cipher.encryptBlock(t._prev)[0]^n))>>o%8,t._prev=s(t._prev,r?n:i);return a}function s(t,e){var r=t.length,i=-1,s=n.allocUnsafe(t.length);for(t=n.concat([t,n.from([e])]);++i<r;)s[i]=t[i]<<1|t[i+1]>>7;return s}e.encrypt=function(t,e,r){for(var s=e.length,o=n.allocUnsafe(s),a=-1;++a<s;)o[a]=i(t,e[a],r);return o}},1964:(t,e,r)=>{var n=r(9509).Buffer;function i(t,e,r){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=n.concat([t._prev.slice(1),n.from([r?e:i])]),i}e.encrypt=function(t,e,r){for(var s=e.length,o=n.allocUnsafe(s),a=-1;++a<s;)o[a]=i(t,e[a],r);return o}},6009:(t,e,r)=>{var n=r(7295),i=r(9509).Buffer,s=r(685);function o(t){var e=t._cipher.encryptBlockRaw(t._prev);return s(t._prev),e}e.encrypt=function(t,e){var r=Math.ceil(e.length/16),s=t._cache.length;t._cache=i.concat([t._cache,i.allocUnsafe(16*r)]);for(var a=0;a<r;a++){var u=o(t),h=s+16*a;t._cache.writeUInt32BE(u[0],h+0),t._cache.writeUInt32BE(u[1],h+4),t._cache.writeUInt32BE(u[2],h+8),t._cache.writeUInt32BE(u[3],h+12)}var c=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),n(e,c)}},1084:(t,e)=>{e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},45:(t,e,r)=>{var n={ECB:r(1084),CBC:r(5292),CFB:r(6311),CFB8:r(1964),CFB1:r(1510),OFB:r(8861),CTR:r(6009),GCM:r(6009)},i=r(4946);for(var s in i)i[s].module=n[i[s].mode];t.exports=i},8861:(t,e,r)=>{var n=r(8764).Buffer,i=r(7295);function s(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=n.concat([t._cache,s(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),i(e,r)}},5969:(t,e,r)=>{var n=r(4497),i=r(9509).Buffer,s=r(1027);function o(t,e,r,o){s.call(this),this._cipher=new n.AES(e),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=o,this._mode=t}r(5717)(o,s),o.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},t.exports=o},3614:(t,e,r)=>{var n=r(7667),i=r(4696),s=r(45),o=r(9715),a=r(3048);function u(t,e,r){if(t=t.toLowerCase(),s[t])return i.createCipheriv(t,e,r);if(o[t])return new n({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function h(t,e,r){if(t=t.toLowerCase(),s[t])return i.createDecipheriv(t,e,r);if(o[t])return new n({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var r,n;if(t=t.toLowerCase(),s[t])r=s[t].key,n=s[t].iv;else{if(!o[t])throw new TypeError("invalid suite type");r=8*o[t].key,n=o[t].iv}var i=a(e,!1,r,n);return u(t,i.key,i.iv)},e.createCipheriv=e.Cipheriv=u,e.createDecipher=e.Decipher=function(t,e){var r,n;if(t=t.toLowerCase(),s[t])r=s[t].key,n=s[t].iv;else{if(!o[t])throw new TypeError("invalid suite type");r=8*o[t].key,n=o[t].iv}var i=a(e,!1,r,n);return h(t,i.key,i.iv)},e.createDecipheriv=e.Decipheriv=h,e.listCiphers=e.getCiphers=function(){return Object.keys(o).concat(i.getCiphers())}},7667:(t,e,r)=>{var n=r(1027),i=r(5251),s=r(5717),o=r(9509).Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function u(t){n.call(this);var e,r=t.mode.toLowerCase(),i=a[r];e=t.decrypt?"decrypt":"encrypt";var s=t.key;o.isBuffer(s)||(s=o.from(s)),"des-ede"!==r&&"des-ede-cbc"!==r||(s=o.concat([s,s.slice(0,8)]));var u=t.iv;o.isBuffer(u)||(u=o.from(u)),this._des=i.create({key:s,iv:u,type:e})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=u,s(u,n),u.prototype._update=function(t){return o.from(this._des.update(t))},u.prototype._final=function(){return o.from(this._des.final())}},9715:(t,e)=>{e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},3663:(t,e,r)=>{var n=r(8764).Buffer,i=r(3550),s=r(1798);function o(t){var e,r=t.modulus.byteLength();do{e=new i(s(r))}while(e.cmp(t.modulus)>=0||!e.umod(t.prime1)||!e.umod(t.prime2));return e}function a(t,e){var r=function(t){var e=o(t);return{blinder:e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(e),s=e.modulus.byteLength(),a=new i(t).mul(r.blinder).umod(e.modulus),u=a.toRed(i.mont(e.prime1)),h=a.toRed(i.mont(e.prime2)),c=e.coefficient,f=e.prime1,l=e.prime2,d=u.redPow(e.exponent1).fromRed(),p=h.redPow(e.exponent2).fromRed(),m=d.isub(p).imul(c).umod(f).imul(l);return p.iadd(m).imul(r.unblinder).umod(e.modulus).toArrayLike(n,"be",s)}a.getr=o,t.exports=a},6042:(t,e,r)=>{t.exports=r(5207)},4743:(t,e,r)=>{var n=r(9509).Buffer,i=r(3482),s=r(8473),o=r(5717),a=r(2957),u=r(7753),h=r(5207);function c(t){s.Writable.call(this);var e=h[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function f(t){s.Writable.call(this);var e=h[t];if(!e)throw new Error("Unknown message digest");this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function l(t){return new c(t)}function d(t){return new f(t)}Object.keys(h).forEach((function(t){h[t].id=n.from(h[t].id,"hex"),h[t.toLowerCase()]=h[t]})),o(c,s.Writable),c.prototype._write=function(t,e,r){this._hash.update(t),r()},c.prototype.update=function(t,e){return"string"==typeof t&&(t=n.from(t,e)),this._hash.update(t),this},c.prototype.sign=function(t,e){this.end();var r=this._hash.digest(),n=a(r,t,this._hashType,this._signType,this._tag);return e?n.toString(e):n},o(f,s.Writable),f.prototype._write=function(t,e,r){this._hash.update(t),r()},f.prototype.update=function(t,e){return"string"==typeof t&&(t=n.from(t,e)),this._hash.update(t),this},f.prototype.verify=function(t,e,r){"string"==typeof e&&(e=n.from(e,r)),this.end();var i=this._hash.digest();return u(e,i,t,this._signType,this._tag)},t.exports={Sign:l,Verify:d,createSign:l,createVerify:d}},2957:(t,e,r)=>{var n=r(9509).Buffer,i=r(8355),s=r(3663),o=r(6266).ec,a=r(3550),u=r(980),h=r(1308);function c(t,e,r,s){if((t=n.from(t.toArray())).length<e.byteLength()){var o=n.alloc(e.byteLength()-t.length);t=n.concat([o,t])}var a=r.length,u=function(t,e){t=(t=f(t,e)).mod(e);var r=n.from(t.toArray());if(r.length<e.byteLength()){var i=n.alloc(e.byteLength()-r.length);r=n.concat([i,r])}return r}(r,e),h=n.alloc(a);h.fill(1);var c=n.alloc(a);return c=i(s,c).update(h).update(n.from([0])).update(t).update(u).digest(),h=i(s,c).update(h).digest(),{k:c=i(s,c).update(h).update(n.from([1])).update(t).update(u).digest(),v:h=i(s,c).update(h).digest()}}function f(t,e){var r=new a(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function l(t,e,r){var s,o;do{for(s=n.alloc(0);8*s.length<t.bitLength();)e.v=i(r,e.k).update(e.v).digest(),s=n.concat([s,e.v]);o=f(s,t),e.k=i(r,e.k).update(e.v).update(n.from([0])).digest(),e.v=i(r,e.k).update(e.v).digest()}while(-1!==o.cmp(t));return o}function d(t,e,r,n){return t.toRed(a.mont(r)).redPow(e).fromRed().mod(n)}t.exports=function(t,e,r,i,p){var m=u(e);if(m.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(t,e){var r=h[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var i=new o(r).keyFromPrivate(e.privateKey).sign(t);return n.from(i.toDER())}(t,m)}if("dsa"===m.type){if("dsa"!==i)throw new Error("wrong private key type");return function(t,e,r){for(var i,s=e.params.priv_key,o=e.params.p,u=e.params.q,h=e.params.g,p=new a(0),m=f(t,u).mod(u),g=!1,y=c(s,u,t,r);!1===g;)p=d(h,i=l(u,y,r),o,u),0===(g=i.invm(u).imul(m.add(s.mul(p))).mod(u)).cmpn(0)&&(g=!1,p=new a(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t)),128&e[0]&&(e=[0].concat(e));var r=[48,t.length+e.length+4,2,t.length];return r=r.concat(t,[2,e.length],e),n.from(r)}(p,g)}(t,m,r)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");t=n.concat([p,t]);for(var g=m.modulus.byteLength(),y=[0,1];t.length+y.length+1<g;)y.push(255);y.push(0);for(var b=-1;++b<t.length;)y.push(t[b]);return s(y,m)},t.exports.getKey=c,t.exports.makeKey=l},7753:(t,e,r)=>{var n=r(9509).Buffer,i=r(3550),s=r(6266).ec,o=r(980),a=r(1308);function u(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,e,r,h,c){var f=o(r);if("ec"===f.type){if("ecdsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong public key type");return function(t,e,r){var n=a[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new s(n),o=r.data.subjectPrivateKey.data;return i.verify(e,t,o)}(t,e,f)}if("dsa"===f.type){if("dsa"!==h)throw new Error("wrong public key type");return function(t,e,r){var n=r.data.p,s=r.data.q,a=r.data.g,h=r.data.pub_key,c=o.signature.decode(t,"der"),f=c.s,l=c.r;u(f,s),u(l,s);var d=i.mont(n),p=f.invm(s);return 0===a.toRed(d).redPow(new i(e).mul(p).mod(s)).fromRed().mul(h.toRed(d).redPow(l.mul(p).mod(s)).fromRed()).mod(n).mod(s).cmp(l)}(t,e,f)}if("rsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong public key type");e=n.concat([c,e]);for(var l=f.modulus.byteLength(),d=[1],p=0;e.length+d.length+2<l;)d.push(255),p++;d.push(0);for(var m=-1;++m<e.length;)d.push(e[m]);d=n.from(d);var g=i.mont(f.modulus);t=(t=new i(t).toRed(g)).redPow(new i(f.publicExponent)),t=n.from(t.fromRed().toArray());var y=p<8?1:0;for(l=Math.min(t.length,d.length),t.length!==d.length&&(y=1),m=-1;++m<l;)y|=t[m]^d[m];return 0===y}},7191:(t,e,r)=>{const n=r(8162);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},7295:(t,e,r)=>{var n=r(8764).Buffer;t.exports=function(t,e){for(var r=Math.min(t.length,e.length),i=new n(r),s=0;s<r;++s)i[s]=t[s]^e[s];return i}},8764:(t,e,r)=>{"use strict";const n=r(9742),i=r(645),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return h(t,e,r)}function h(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|m(t,e);let n=a(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(J(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);const i=function(t){if(u.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||Z(t.length)?a(0):l(t):"Buffer"===t.type&&Array.isArray(t.data)?l(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return c(t),a(t<0?0:0|p(t))}function l(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return T(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){let s,o=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,u/=2,r/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(s=r;s<a;s++)if(h(t,s)===h(e,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(h(t,s+n)!==h(e,n)){r=!1;break}if(r)return s}return-1}function w(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=e.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(Z(n))return o;t[r+o]=n}return o}function _(t,e,r,n){return G(W(e,t.length-r),t,r,n)}function M(t,e,r,n){return G(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function S(t,e,r,n){return G(V(e),t,r,n)}function k(t,e,r,n){return G(function(t,e){let r,n,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[i+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(s=u));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(u=(15&e)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(t){const e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=x));return r}(n)}e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return h(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return c(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return f(t)},u.allocUnsafeSlow=function(t){return f(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(J(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),J(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=u.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(J(e,Uint8Array))i+e.length>n.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(J(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const a=Math.min(s,o),h=this.slice(n,i),c=t.slice(e,r);for(let t=0;t<a;++t)if(h[t]!==c[t]){s=h[t],o=c[t];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return M(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function I(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function B(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=X[t[n]];return i}function R(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function P(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,r,n,i,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function C(t,e,r,n,i){H(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function U(t,e,r,n,i){H(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function N(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(t,e,r,n,s){return e=+e,r>>>=0,s||N(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function q(t,e,r,n,s){return e=+e,r>>>=0,s||N(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Y((function(t){F(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(t){F(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=e,i=1,s=this[t+--n];for(;n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Y((function(t){F(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Y((function(t){F(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||O(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||O(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Y((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(t,e=0){return U(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,t,e,r,n-1,-n)}let i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,t,e,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Y((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(t,e=0){return U(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return q(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return q(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const s=u.isBuffer(t)?t:u.from(t,n),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=s[i%o]}return this};const z={};function D(t,e,r){z[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function j(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function H(t,e,r,n,i,s){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new z.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){F(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||K(e,t.length-(r+1))}(n,i,s)}function F(t,e){if("number"!=typeof t)throw new z.ERR_INVALID_ARG_TYPE(e,"number",t)}function K(t,e,r){if(Math.floor(t)!==t)throw F(t,r),new z.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new z.ERR_BUFFER_OUT_OF_BOUNDS;throw new z.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=j(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function V(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace($,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function J(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Z(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Y(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},1027:(t,e,r)=>{var n=r(9509).Buffer,i=r(2830).Transform,s=r(2553).s;function o(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(5717)(o,i),o.prototype.update=function(t,e,r){"string"==typeof t&&(t=n.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){n=t}finally{r(n)}},o.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},o.prototype._finalOrDigest=function(t){var e=this.__final()||n.alloc(0);return t&&(e=this._toString(e,t,!0)),e},o.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new s(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n},t.exports=o},6393:(t,e,r)=>{var n=r(8764).Buffer,i=r(6266),s=r(6426);t.exports=function(t){return new a(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function u(t,e,r){Array.isArray(t)||(t=t.toArray());var i=new n(t);if(r&&i.length<r){var s=new n(r-i.length);s.fill(0),i=n.concat([s,i])}return e?i.toString(e):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},a.prototype.computeSecret=function(t,e,r){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),u(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(r[r.length-1]%2?r[0]=7:r[0]=6),u(r,t)},a.prototype.getPrivateKey=function(t){return u(this.keys.getPrivate(),t)},a.prototype.setPublicKey=function(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this.keys._importPublic(t),this},a.prototype.setPrivateKey=function(t,e){e=e||"utf8",n.isBuffer(t)||(t=new n(t,e));var r=new s(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}},6426:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(8623).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function h(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=n)u=h(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var c=u>>>26,f=67108863&u,l=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=l;d++){var p=h-d|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,u=0|c}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!=(s=a>>>24-i&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,h=new t(s),c=this.clone();if(u){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[a]=o;for(;a<s;a++)h[a]=0}else{for(a=0;a<s-i;a++)h[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[s-a-1]=o}return h},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,h=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,_=v>>>13,M=0|o[4],S=8191&M,k=M>>>13,E=0|o[5],A=8191&E,x=E>>>13,T=0|o[6],I=8191&T,B=T>>>13,R=0|o[7],P=8191&R,O=R>>>13,C=0|o[8],U=8191&C,N=C>>>13,L=0|o[9],q=8191&L,z=L>>>13,D=0|a[0],j=8191&D,H=D>>>13,F=0|a[1],K=8191&F,$=F>>>13,W=0|a[2],V=8191&W,G=W>>>13,J=0|a[3],Z=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,H))+Math.imul(l,j)|0))<<13)|0;h=((s=Math.imul(l,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,H))+Math.imul(m,j)|0,s=Math.imul(m,H);var yt=(h+(n=n+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(l,K)|0))<<13)|0;h=((s=s+Math.imul(l,$)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,H))+Math.imul(b,j)|0,s=Math.imul(b,H),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var bt=(h+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(l,V)|0))<<13)|0;h=((s=s+Math.imul(l,G)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,H))+Math.imul(_,j)|0,s=Math.imul(_,H),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,G)|0;var vt=(h+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,Z)|0))<<13)|0;h=((s=s+Math.imul(l,X)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,j),i=(i=Math.imul(S,H))+Math.imul(k,j)|0,s=Math.imul(k,H),n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var wt=(h+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;h=((s=s+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,H))+Math.imul(x,j)|0,s=Math.imul(x,H),n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(k,K)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(h+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(l,rt)|0))<<13)|0;h=((s=s+Math.imul(l,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,H))+Math.imul(B,j)|0,s=Math.imul(B,H),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(k,V)|0,s=s+Math.imul(k,G)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Mt=(h+(n=n+Math.imul(f,st)|0)|0)+((8191&(i=(i=i+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;h=((s=s+Math.imul(l,ot)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,H))+Math.imul(O,j)|0,s=Math.imul(O,H),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(B,K)|0,s=s+Math.imul(B,$)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,G)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(h+(n=n+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((s=s+Math.imul(l,ht)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,H))+Math.imul(N,j)|0,s=Math.imul(N,H),n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,$)|0,n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ht)|0;var kt=(h+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;h=((s=s+Math.imul(l,lt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(q,j),i=(i=Math.imul(q,H))+Math.imul(z,j)|0,s=Math.imul(z,H),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ht)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ht)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,s=s+Math.imul(m,lt)|0;var Et=(h+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;h=((s=s+Math.imul(l,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(q,K),i=(i=Math.imul(q,$))+Math.imul(z,K)|0,s=Math.imul(z,$),n=n+Math.imul(U,V)|0,i=(i=i+Math.imul(U,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,X)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ht)|0,n=n+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var At=(h+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(q,V),i=(i=Math.imul(q,G))+Math.imul(z,V)|0,s=Math.imul(z,G),n=n+Math.imul(U,Z)|0,i=(i=i+Math.imul(U,X)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,X)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(B,rt)|0,s=s+Math.imul(B,nt)|0,n=n+Math.imul(A,st)|0,i=(i=i+Math.imul(A,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ht)|0)+Math.imul(k,ut)|0,s=s+Math.imul(k,ht)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(_,ft)|0,s=s+Math.imul(_,lt)|0;var xt=(h+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(q,Z),i=(i=Math.imul(q,X))+Math.imul(z,Z)|0,s=Math.imul(z,X),n=n+Math.imul(U,Q)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ht)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ht)|0,n=n+Math.imul(S,ft)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(k,ft)|0,s=s+Math.imul(k,lt)|0;var Tt=(h+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(q,Q),i=(i=Math.imul(q,tt))+Math.imul(z,Q)|0,s=Math.imul(z,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(B,ut)|0,s=s+Math.imul(B,ht)|0,n=n+Math.imul(A,ft)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var It=(h+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;h=((s=s+Math.imul(k,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(q,rt),i=(i=Math.imul(q,nt))+Math.imul(z,rt)|0,s=Math.imul(z,nt),n=n+Math.imul(U,st)|0,i=(i=i+Math.imul(U,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ht)|0,n=n+Math.imul(I,ft)|0,i=(i=i+Math.imul(I,lt)|0)+Math.imul(B,ft)|0,s=s+Math.imul(B,lt)|0;var Bt=(h+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(q,st),i=(i=Math.imul(q,ot))+Math.imul(z,st)|0,s=Math.imul(z,ot),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,ht)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ht)|0,n=n+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ft)|0,s=s+Math.imul(O,lt)|0;var Rt=(h+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(B,pt)|0))<<13)|0;h=((s=s+Math.imul(B,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(q,ut),i=(i=Math.imul(q,ht))+Math.imul(z,ut)|0,s=Math.imul(z,ht),n=n+Math.imul(U,ft)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(N,ft)|0,s=s+Math.imul(N,lt)|0;var Pt=(h+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;h=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(q,ft),i=(i=Math.imul(q,lt))+Math.imul(z,ft)|0,s=Math.imul(z,lt);var Ot=(h+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(h+(n=Math.imul(q,pt))|0)+((8191&(i=(i=Math.imul(q,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((s=Math.imul(z,mt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=gt,u[1]=yt,u[2]=bt,u[3]=vt,u[4]=wt,u[5]=_t,u[6]=Mt,u[7]=St,u[8]=kt,u[9]=Et,u[10]=At,u[11]=xt,u[12]=Tt,u[13]=It,u[14]=Bt,u[15]=Rt,u[16]=Pt,u[17]=Ot,u[18]=Ct,0!==h&&(u[19]=h,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=u;h++){var c=s-h,f=(0|t.words[c])*(0|e.words[h]),l=67108863&f;a=67108863&(l=l+a|0),i+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},g.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var f=u,l=h,d=0;d<o;d++){var p=r[c+d],m=n[c+d],g=r[c+d+o],y=n[c+d+o],b=f*g-l*y;y=f*y+l*g,g=b,r[c+d]=p+g,n[c+d]=m+y,r[c+d+o]=p-g,n[c+d+o]=m-y,d!==a&&(b=u*f-h*l,l=u*l+h*f,f=b)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),c=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,h,n),this.transform(o,s,a,u,n,i),this.transform(h,s,c,f,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,s,n,i),this.conjugate(l,s,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var h=0;h<o;h++)u.words[h]=this.words[h];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=i);h--){var f=0|this.words[h];this.words[h]=c<<26-s|f>>>s,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(l=Math.min(l/o|0,67108863),n._ishlnsubmul(i,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=l)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(h)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},i(v,b),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,b),i(_,b),i(M,b),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,h).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),l=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var h=e.words[n],c=u-1;c>=0;c--){var f=h>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==o?(o<<=1,o|=f,(4==++a||0===n&&0===c)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},i(k,S),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},3482:(t,e,r)=>{"use strict";var n=r(5717),i=r(2318),s=r(9785),o=r(9072),a=r(1027);function u(t){a.call(this,"digest"),this._hash=t}n(u,a),u.prototype._update=function(t){this._hash.update(t)},u.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new s:new u(o(t))}},8028:(t,e,r)=>{var n=r(2318);t.exports=function(t){return(new n).update(t).digest()}},8355:(t,e,r)=>{"use strict";var n=r(5717),i=r(1031),s=r(1027),o=r(9509).Buffer,a=r(8028),u=r(9785),h=r(9072),c=o.alloc(128);function f(t,e){s.call(this,"digest"),"string"==typeof e&&(e=o.from(e));var r="sha512"===t||"sha384"===t?128:64;this._alg=t,this._key=e,e.length>r?e=("rmd160"===t?new u:h(t)).update(e).digest():e.length<r&&(e=o.concat([e,c],r));for(var n=this._ipad=o.allocUnsafe(r),i=this._opad=o.allocUnsafe(r),a=0;a<r;a++)n[a]=54^e[a],i[a]=92^e[a];this._hash="rmd160"===t?new u:h(t),this._hash.update(n)}n(f,s),f.prototype._update=function(t){this._hash.update(t)},f.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new u:h(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new f("rmd160",e):"md5"===t?new i(a,e):new f(t,e)}},1031:(t,e,r)=>{"use strict";var n=r(5717),i=r(9509).Buffer,s=r(1027),o=i.alloc(128),a=64;function u(t,e){s.call(this,"digest"),"string"==typeof e&&(e=i.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=i.concat([e,o],a));for(var r=this._ipad=i.allocUnsafe(a),n=this._opad=i.allocUnsafe(a),u=0;u<a;u++)r[u]=54^e[u],n[u]=92^e[u];this._hash=[r]}n(u,s),u.prototype._update=function(t){this._hash.push(t)},u.prototype._final=function(){var t=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,t]))},t.exports=u},5835:(t,e,r)=>{"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=r(1798),e.createHash=e.Hash=r(3482),e.createHmac=e.Hmac=r(8355);var n=r(6042),i=Object.keys(n),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);e.getHashes=function(){return s};var o=r(5632);e.pbkdf2=o.pbkdf2,e.pbkdf2Sync=o.pbkdf2Sync;var a=r(3614);e.Cipher=a.Cipher,e.createCipher=a.createCipher,e.Cipheriv=a.Cipheriv,e.createCipheriv=a.createCipheriv,e.Decipher=a.Decipher,e.createDecipher=a.createDecipher,e.Decipheriv=a.Decipheriv,e.createDecipheriv=a.createDecipheriv,e.getCiphers=a.getCiphers,e.listCiphers=a.listCiphers;var u=r(2607);e.DiffieHellmanGroup=u.DiffieHellmanGroup,e.createDiffieHellmanGroup=u.createDiffieHellmanGroup,e.getDiffieHellman=u.getDiffieHellman,e.createDiffieHellman=u.createDiffieHellman,e.DiffieHellman=u.DiffieHellman;var h=r(4743);e.createSign=h.createSign,e.Sign=h.Sign,e.createVerify=h.createVerify,e.Verify=h.Verify,e.createECDH=r(6393);var c=r(7900);e.publicEncrypt=c.publicEncrypt,e.privateEncrypt=c.privateEncrypt,e.publicDecrypt=c.publicDecrypt,e.privateDecrypt=c.privateDecrypt;var f=r(7963);e.randomFill=f.randomFill,e.randomFillSync=f.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},5251:(t,e,r)=>{"use strict";e.utils=r(1278),e.Cipher=r(5756),e.DES=r(778),e.CBC=r(9051),e.EDE=r(651)},9051:(t,e,r)=>{"use strict";var n=r(9746),i=r(5717),s={};function o(t){n.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var r=Object.keys(s),n=0;n<r.length;n++){var o=r[n];e.prototype[o]=s[o]}return e.create=function(t){return new e(t)},e},s._cbcInit=function(){var t=new o(this.options.iv);this._cbcState=t},s._update=function(t,e,r,n){var i=this._cbcState,s=this.constructor.super_.prototype,o=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=t[e+a];for(s._update.call(this,o,0,r,n),a=0;a<this.blockSize;a++)o[a]=r[n+a]}else{for(s._update.call(this,t,e,r,n),a=0;a<this.blockSize;a++)r[n+a]^=o[a];for(a=0;a<this.blockSize;a++)o[a]=t[e+a]}}},5756:(t,e,r)=>{"use strict";var n=r(9746);function i(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==t.padding}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},i.prototype._buffer=function(t,e){for(var r=Math.min(this.buffer.length-this.bufferOff,t.length-e),n=0;n<r;n++)this.buffer[this.bufferOff+n]=t[e+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(t){var e=0,r=0,n=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var s=t.length-(t.length-e)%this.blockSize;e<s;e+=this.blockSize)this._update(t,e,i,r),r+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},i.prototype._updateDecrypt=function(t){for(var e=0,r=0,n=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)e+=this._buffer(t,e),r+=this._flushBuffer(i,r);return e+=this._buffer(t,e),i},i.prototype.final=function(t){var e,r;return t&&(e=this.update(t)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(r):r},i.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},i.prototype._unpad=function(t){return t},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},778:(t,e,r)=>{"use strict";var n=r(9746),i=r(5717),s=r(1278),o=r(5756);function a(){this.tmp=new Array(2),this.keys=null}function u(t){o.call(this,t);var e=new a;this._desState=e,this.deriveKeys(e,t.key)}i(u,o),t.exports=u,u.create=function(t){return new u(t)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(t,e){t.keys=new Array(32),n.equal(e.length,this.blockSize,"Invalid key length");var r=s.readUInt32BE(e,0),i=s.readUInt32BE(e,4);s.pc1(r,i,t.tmp,0),r=t.tmp[0],i=t.tmp[1];for(var o=0;o<t.keys.length;o+=2){var a=h[o>>>1];r=s.r28shl(r,a),i=s.r28shl(i,a),s.pc2(r,i,t.keys,o)}},u.prototype._update=function(t,e,r,n){var i=this._desState,o=s.readUInt32BE(t,e),a=s.readUInt32BE(t,e+4);s.ip(o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,a,i.tmp,0):this._decrypt(i,o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],s.writeUInt32BE(r,o,n),s.writeUInt32BE(r,a,n+4)},u.prototype._pad=function(t,e){if(!1===this.padding)return!1;for(var r=t.length-e,n=e;n<t.length;n++)t[n]=r;return!0},u.prototype._unpad=function(t){if(!1===this.padding)return t;for(var e=t[t.length-1],r=t.length-e;r<t.length;r++)n.equal(t[r],e);return t.slice(0,t.length-e)},u.prototype._encrypt=function(t,e,r,n,i){for(var o=e,a=r,u=0;u<t.keys.length;u+=2){var h=t.keys[u],c=t.keys[u+1];s.expand(a,t.tmp,0),h^=t.tmp[0],c^=t.tmp[1];var f=s.substitute(h,c),l=a;a=(o^s.permute(f))>>>0,o=l}s.rip(a,o,n,i)},u.prototype._decrypt=function(t,e,r,n,i){for(var o=r,a=e,u=t.keys.length-2;u>=0;u-=2){var h=t.keys[u],c=t.keys[u+1];s.expand(o,t.tmp,0),h^=t.tmp[0],c^=t.tmp[1];var f=s.substitute(h,c),l=o;o=(a^s.permute(f))>>>0,a=l}s.rip(o,a,n,i)}},651:(t,e,r)=>{"use strict";var n=r(9746),i=r(5717),s=r(5756),o=r(778);function a(t,e){n.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),i=e.slice(8,16),s=e.slice(16,24);this.ciphers="encrypt"===t?[o.create({type:"encrypt",key:r}),o.create({type:"decrypt",key:i}),o.create({type:"encrypt",key:s})]:[o.create({type:"decrypt",key:s}),o.create({type:"encrypt",key:i}),o.create({type:"decrypt",key:r})]}function u(t){s.call(this,t);var e=new a(this.type,this.options.key);this._edeState=e}i(u,s),t.exports=u,u.create=function(t){return new u(t)},u.prototype._update=function(t,e,r,n){var i=this._edeState;i.ciphers[0]._update(t,e,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},u.prototype._pad=o.prototype._pad,u.prototype._unpad=o.prototype._unpad},1278:(t,e)=>{"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,r){t[0+r]=e>>>24,t[1+r]=e>>>16&255,t[2+r]=e>>>8&255,t[3+r]=255&e},e.ip=function(t,e,r,n){for(var i=0,s=0,o=6;o>=0;o-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>>a+o&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>>a+o&1}for(o=6;o>=0;o-=2){for(a=1;a<=25;a+=8)s<<=1,s|=e>>>a+o&1;for(a=1;a<=25;a+=8)s<<=1,s|=t>>>a+o&1}r[n+0]=i>>>0,r[n+1]=s>>>0},e.rip=function(t,e,r,n){for(var i=0,s=0,o=0;o<4;o++)for(var a=24;a>=0;a-=8)i<<=1,i|=e>>>a+o&1,i<<=1,i|=t>>>a+o&1;for(o=4;o<8;o++)for(a=24;a>=0;a-=8)s<<=1,s|=e>>>a+o&1,s<<=1,s|=t>>>a+o&1;r[n+0]=i>>>0,r[n+1]=s>>>0},e.pc1=function(t,e,r,n){for(var i=0,s=0,o=7;o>=5;o--){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>a+o&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+o&1}for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+o&1;for(o=1;o<=3;o++){for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1;for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1}for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1;r[n+0]=i>>>0,r[n+1]=s>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,n,i){for(var s=0,o=0,a=r.length>>>1,u=0;u<a;u++)s<<=1,s|=t>>>r[u]&1;for(u=a;u<r.length;u++)o<<=1,o|=e>>>r[u]&1;n[i+0]=s>>>0,n[i+1]=o>>>0},e.expand=function(t,e,r){var n=0,i=0;n=(1&t)<<5|t>>>27;for(var s=23;s>=15;s-=4)n<<=6,n|=t>>>s&63;for(s=11;s>=3;s-=4)i|=t>>>s&63,i<<=6;i|=(31&t)<<1|t>>>31,e[r+0]=n>>>0,e[r+1]=i>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var r=0,i=0;i<4;i++)r<<=4,r|=n[64*i+(t>>>18-6*i&63)];for(i=0;i<4;i++)r<<=4,r|=n[256+64*i+(e>>>18-6*i&63)];return r>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,r=0;r<i.length;r++)e<<=1,e|=t>>>i[r]&1;return e>>>0},e.padSplit=function(t,e,r){for(var n=t.toString(2);n.length<e;)n="0"+n;for(var i=[],s=0;s<e;s+=r)i.push(n.slice(s,s+r));return i.join(" ")}},2607:(t,e,r)=>{var n=r(8764).Buffer,i=r(3590),s=r(9799),o=r(7426),a={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(t){var e=new n(s[t].prime,"hex"),r=new n(s[t].gen,"hex");return new o(e,r)},e.createDiffieHellman=e.DiffieHellman=function t(e,r,s,u){return n.isBuffer(r)||void 0===a[r]?t(e,"binary",r,s):(r=r||"binary",u=u||"binary",s=s||new n([2]),n.isBuffer(s)||(s=new n(s,u)),"number"==typeof e?new o(i(e,s),s,!0):(n.isBuffer(e)||(e=new n(e,r)),new o(e,s,!0)))}},7426:(t,e,r)=>{var n=r(8764).Buffer,i=r(3620),s=new(r(3047)),o=new i(24),a=new i(11),u=new i(10),h=new i(3),c=new i(7),f=r(3590),l=r(1798);function d(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._pub=new i(t),this}function p(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._priv=new i(t),this}t.exports=g;var m={};function g(t,e,r){this.setGenerator(e),this.__prime=new i(t),this._prime=i.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=d,this.setPrivateKey=p):this._primeCode=8}function y(t,e){var r=new n(t.toArray());return e?r.toString(e):r}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in m)return m[n];var i,l=0;if(t.isEven()||!f.simpleSieve||!f.fermatTest(t)||!s.test(t))return l+=1,l+="02"===r||"05"===r?8:4,m[n]=l,l;switch(s.test(t.shrn(1))||(l+=2),r){case"02":t.mod(o).cmp(a)&&(l+=8);break;case"05":(i=t.mod(u)).cmp(h)&&i.cmp(c)&&(l+=8);break;default:l+=4}return m[n]=l,l}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new i(l(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(t){var e=(t=(t=new i(t)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new n(e.toArray()),s=this.getPrime();if(r.length<s.length){var o=new n(s.length-r.length);o.fill(0),r=n.concat([o,r])}return r},g.prototype.getPublicKey=function(t){return y(this._pub,t)},g.prototype.getPrivateKey=function(t){return y(this._priv,t)},g.prototype.getPrime=function(t){return y(this.__prime,t)},g.prototype.getGenerator=function(t){return y(this._gen,t)},g.prototype.setGenerator=function(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this.__gen=t,this._gen=new i(t),this}},3590:(t,e,r)=>{var n=r(1798);t.exports=b,b.simpleSieve=g,b.fermatTest=y;var i=r(3620),s=new i(24),o=new(r(3047)),a=new i(1),u=new i(2),h=new i(5),c=(new i(16),new i(8),new i(10)),f=new i(3),l=(new i(7),new i(11)),d=new i(4),p=(new i(12),null);function m(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<e&&t[i]<=n&&r%t[i]!=0;i++);e!==i&&t[i]<=n||(t[e++]=r)}return p=t,t}function g(t){for(var e=m(),r=0;r<e.length;r++)if(0===t.modn(e[r]))return 0===t.cmpn(e[r]);return!0}function y(t){var e=i.mont(t);return 0===u.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function b(t,e){if(t<16)return new i(2===e||5===e?[140,123]:[140,39]);var r,p;for(e=new i(e);;){for(r=new i(n(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(u),e.cmp(u)){if(!e.cmp(h))for(;r.mod(c).cmp(f);)r.iadd(d)}else for(;r.mod(s).cmp(l);)r.iadd(d);if(g(p=r.shrn(1))&&g(r)&&y(p)&&y(r)&&o.test(p)&&o.test(r))return r}}},3620:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(7748).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function h(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=n)u=h(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var c=u>>>26,f=67108863&u,l=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=l;d++){var p=h-d|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,u=0|c}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!=(s=a>>>24-i&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,h=new t(s),c=this.clone();if(u){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[a]=o;for(;a<s;a++)h[a]=0}else{for(a=0;a<s-i;a++)h[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[s-a-1]=o}return h},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,h=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,_=v>>>13,M=0|o[4],S=8191&M,k=M>>>13,E=0|o[5],A=8191&E,x=E>>>13,T=0|o[6],I=8191&T,B=T>>>13,R=0|o[7],P=8191&R,O=R>>>13,C=0|o[8],U=8191&C,N=C>>>13,L=0|o[9],q=8191&L,z=L>>>13,D=0|a[0],j=8191&D,H=D>>>13,F=0|a[1],K=8191&F,$=F>>>13,W=0|a[2],V=8191&W,G=W>>>13,J=0|a[3],Z=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,H))+Math.imul(l,j)|0))<<13)|0;h=((s=Math.imul(l,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,H))+Math.imul(m,j)|0,s=Math.imul(m,H);var yt=(h+(n=n+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(l,K)|0))<<13)|0;h=((s=s+Math.imul(l,$)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,H))+Math.imul(b,j)|0,s=Math.imul(b,H),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var bt=(h+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(l,V)|0))<<13)|0;h=((s=s+Math.imul(l,G)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,H))+Math.imul(_,j)|0,s=Math.imul(_,H),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,G)|0;var vt=(h+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,Z)|0))<<13)|0;h=((s=s+Math.imul(l,X)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,j),i=(i=Math.imul(S,H))+Math.imul(k,j)|0,s=Math.imul(k,H),n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var wt=(h+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;h=((s=s+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,H))+Math.imul(x,j)|0,s=Math.imul(x,H),n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(k,K)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(h+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(l,rt)|0))<<13)|0;h=((s=s+Math.imul(l,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,H))+Math.imul(B,j)|0,s=Math.imul(B,H),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(k,V)|0,s=s+Math.imul(k,G)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Mt=(h+(n=n+Math.imul(f,st)|0)|0)+((8191&(i=(i=i+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;h=((s=s+Math.imul(l,ot)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,H))+Math.imul(O,j)|0,s=Math.imul(O,H),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(B,K)|0,s=s+Math.imul(B,$)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,G)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(h+(n=n+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((s=s+Math.imul(l,ht)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,H))+Math.imul(N,j)|0,s=Math.imul(N,H),n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,$)|0,n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ht)|0;var kt=(h+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;h=((s=s+Math.imul(l,lt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(q,j),i=(i=Math.imul(q,H))+Math.imul(z,j)|0,s=Math.imul(z,H),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ht)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ht)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,s=s+Math.imul(m,lt)|0;var Et=(h+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;h=((s=s+Math.imul(l,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(q,K),i=(i=Math.imul(q,$))+Math.imul(z,K)|0,s=Math.imul(z,$),n=n+Math.imul(U,V)|0,i=(i=i+Math.imul(U,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,X)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ht)|0,n=n+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var At=(h+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(q,V),i=(i=Math.imul(q,G))+Math.imul(z,V)|0,s=Math.imul(z,G),n=n+Math.imul(U,Z)|0,i=(i=i+Math.imul(U,X)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,X)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(B,rt)|0,s=s+Math.imul(B,nt)|0,n=n+Math.imul(A,st)|0,i=(i=i+Math.imul(A,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ht)|0)+Math.imul(k,ut)|0,s=s+Math.imul(k,ht)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(_,ft)|0,s=s+Math.imul(_,lt)|0;var xt=(h+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(q,Z),i=(i=Math.imul(q,X))+Math.imul(z,Z)|0,s=Math.imul(z,X),n=n+Math.imul(U,Q)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ht)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ht)|0,n=n+Math.imul(S,ft)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(k,ft)|0,s=s+Math.imul(k,lt)|0;var Tt=(h+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(q,Q),i=(i=Math.imul(q,tt))+Math.imul(z,Q)|0,s=Math.imul(z,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(B,ut)|0,s=s+Math.imul(B,ht)|0,n=n+Math.imul(A,ft)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var It=(h+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;h=((s=s+Math.imul(k,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(q,rt),i=(i=Math.imul(q,nt))+Math.imul(z,rt)|0,s=Math.imul(z,nt),n=n+Math.imul(U,st)|0,i=(i=i+Math.imul(U,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ht)|0,n=n+Math.imul(I,ft)|0,i=(i=i+Math.imul(I,lt)|0)+Math.imul(B,ft)|0,s=s+Math.imul(B,lt)|0;var Bt=(h+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(q,st),i=(i=Math.imul(q,ot))+Math.imul(z,st)|0,s=Math.imul(z,ot),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,ht)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ht)|0,n=n+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ft)|0,s=s+Math.imul(O,lt)|0;var Rt=(h+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(B,pt)|0))<<13)|0;h=((s=s+Math.imul(B,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(q,ut),i=(i=Math.imul(q,ht))+Math.imul(z,ut)|0,s=Math.imul(z,ht),n=n+Math.imul(U,ft)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(N,ft)|0,s=s+Math.imul(N,lt)|0;var Pt=(h+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;h=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(q,ft),i=(i=Math.imul(q,lt))+Math.imul(z,ft)|0,s=Math.imul(z,lt);var Ot=(h+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(h+(n=Math.imul(q,pt))|0)+((8191&(i=(i=Math.imul(q,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((s=Math.imul(z,mt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=gt,u[1]=yt,u[2]=bt,u[3]=vt,u[4]=wt,u[5]=_t,u[6]=Mt,u[7]=St,u[8]=kt,u[9]=Et,u[10]=At,u[11]=xt,u[12]=Tt,u[13]=It,u[14]=Bt,u[15]=Rt,u[16]=Pt,u[17]=Ot,u[18]=Ct,0!==h&&(u[19]=h,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=u;h++){var c=s-h,f=(0|t.words[c])*(0|e.words[h]),l=67108863&f;a=67108863&(l=l+a|0),i+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},g.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var f=u,l=h,d=0;d<o;d++){var p=r[c+d],m=n[c+d],g=r[c+d+o],y=n[c+d+o],b=f*g-l*y;y=f*y+l*g,g=b,r[c+d]=p+g,n[c+d]=m+y,r[c+d+o]=p-g,n[c+d+o]=m-y,d!==a&&(b=u*f-h*l,l=u*l+h*f,f=b)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),c=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,h,n),this.transform(o,s,a,u,n,i),this.transform(h,s,c,f,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,s,n,i),this.conjugate(l,s,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var h=0;h<o;h++)u.words[h]=this.words[h];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=i);h--){var f=0|this.words[h];this.words[h]=c<<26-s|f>>>s,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(l=Math.min(l/o|0,67108863),n._ishlnsubmul(i,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=l)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(h)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},i(v,b),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,b),i(_,b),i(M,b),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,h).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),l=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var h=e.words[n],c=u-1;c>=0;c--){var f=h>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==o?(o<<=1,o|=f,(4==++a||0===n&&0===c)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},i(k,S),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},6266:(t,e,r)=>{"use strict";var n=e;n.version=r(8597).i8,n.utils=r(953),n.rand=r(9931),n.curve=r(8254),n.curves=r(5427),n.ec=r(7954),n.eddsa=r(5980)},4918:(t,e,r)=>{"use strict";var n=r(3785),i=r(953),s=i.getNAF,o=i.getJSF,a=i.assert;function u(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),n=s(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,u,h=[];for(o=0;o<n.length;o+=r.step){u=0;for(var c=o+r.step-1;c>=o;c--)u=(u<<1)+n[c];h.push(u)}for(var f=this.jpoint(null,null,null),l=this.jpoint(null,null,null),d=i;d>0;d--){for(o=0;o<h.length;o++)(u=h[o])===d?l=l.mixedAdd(r.points[o]):u===-d&&(l=l.mixedAdd(r.points[o].neg()));f=f.add(l)}return f.toP()},u.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=s(e,r,this._bitLength),u=this.jpoint(null,null,null),h=o.length-1;h>=0;h--){for(var c=0;h>=0&&0===o[h];h--)c++;if(h>=0&&c++,u=u.dblp(c),h<0)break;var f=o[h];a(0!==f),u="affine"===t.type?f>0?u.mixedAdd(i[f-1>>1]):u.mixedAdd(i[-f-1>>1].neg()):f>0?u.add(i[f-1>>1]):u.add(i[-f-1>>1].neg())}return"affine"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,r,n,i){var a,u,h,c=this._wnafT1,f=this._wnafT2,l=this._wnafT3,d=0;for(a=0;a<n;a++){var p=(h=e[a])._getNAFPoints(t);c[a]=p.wnd,f[a]=p.points}for(a=n-1;a>=1;a-=2){var m=a-1,g=a;if(1===c[m]&&1===c[g]){var y=[e[m],null,null,e[g]];0===e[m].y.cmp(e[g].y)?(y[1]=e[m].add(e[g]),y[2]=e[m].toJ().mixedAdd(e[g].neg())):0===e[m].y.cmp(e[g].y.redNeg())?(y[1]=e[m].toJ().mixedAdd(e[g]),y[2]=e[m].add(e[g].neg())):(y[1]=e[m].toJ().mixedAdd(e[g]),y[2]=e[m].toJ().mixedAdd(e[g].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],v=o(r[m],r[g]);for(d=Math.max(v[0].length,d),l[m]=new Array(d),l[g]=new Array(d),u=0;u<d;u++){var w=0|v[0][u],_=0|v[1][u];l[m][u]=b[3*(w+1)+(_+1)],l[g][u]=0,f[m]=y}}else l[m]=s(r[m],c[m],this._bitLength),l[g]=s(r[g],c[g],this._bitLength),d=Math.max(l[m].length,d),d=Math.max(l[g].length,d)}var M=this.jpoint(null,null,null),S=this._wnafT4;for(a=d;a>=0;a--){for(var k=0;a>=0;){var E=!0;for(u=0;u<n;u++)S[u]=0|l[u][a],0!==S[u]&&(E=!1);if(!E)break;k++,a--}if(a>=0&&k++,M=M.dblp(k),a<0)break;for(u=0;u<n;u++){var A=S[u];0!==A&&(A>0?h=f[u][A-1>>1]:A<0&&(h=f[u][-A-1>>1].neg()),M="affine"===h.type?M.mixedAdd(h):M.add(h))}}for(a=0;a<n;a++)f[a]=null;return i?M:M.toP()},u.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(t){return this.encode(t,!0)},h.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},h.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},h.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},h.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},h.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},h.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},1138:(t,e,r)=>{"use strict";var n=r(953),i=r(3785),s=r(5717),o=r(4918),a=n.assert;function u(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,o.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function h(t,e,r,n,s){o.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=s&&new i(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(u,o),t.exports=u,u.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},u.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},u.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(e&&!u||!e&&u)&&(a=a.redNeg()),this.point(t,a)},u.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},u.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},s(h,o.BasePoint),u.prototype.pointFromJSON=function(t){return h.fromJSON(this,t)},u.prototype.point=function(t,e,r,n){return new h(this,t,e,r,n)},h.fromJSON=function(t,e){return new h(t,e[0],e[1],e[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},h.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=n.redAdd(e),o=s.redSub(r),a=n.redSub(e),u=i.redMul(o),h=s.redMul(a),c=i.redMul(a),f=o.redMul(s);return this.curve.point(u,h,f,c)},h.prototype._projDbl=function(){var t,e,r,n,i,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var h=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(t=o.redSub(a).redSub(u).redMul(h.redSub(this.curve.two)),e=h.redMul(n.redSub(u)),r=h.redSqr().redSub(h).redSub(h)):(i=this.z.redSqr(),s=h.redSub(i).redISub(i),t=o.redSub(a).redISub(u).redMul(s),e=h.redMul(n.redSub(u)),r=h.redMul(s))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),s=n.redSub(i).redSub(i),t=this.curve._mulC(o.redISub(n)).redMul(s),e=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(s);return this.curve.point(t,e,r)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),s=r.redSub(e),o=i.redSub(n),a=i.redAdd(n),u=r.redAdd(e),h=s.redMul(o),c=a.redMul(u),f=s.redMul(u),l=o.redMul(a);return this.curve.point(h,c,l,f)},h.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),s=this.x.redMul(t.x),o=this.y.redMul(t.y),a=this.curve.d.redMul(s).redMul(o),u=i.redSub(a),h=i.redAdd(a),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(o),f=n.redMul(u).redMul(c);return this.curve.twisted?(e=n.redMul(h).redMul(o.redSub(this.curve._mulA(s))),r=u.redMul(h)):(e=n.redMul(h).redMul(o.redSub(s)),r=this.curve._mulC(u).redMul(h)),this.curve.point(f,e,r)},h.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},h.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},h.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},h.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},h.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},8254:(t,e,r)=>{"use strict";var n=e;n.base=r(4918),n.short=r(6673),n.mont=r(2881),n.edwards=r(1138)},2881:(t,e,r)=>{"use strict";var n=r(3785),i=r(5717),s=r(4918),o=r(953);function a(t){s.call(this,"mont",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(t,e,r){s.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(e,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},i(u,s.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(o.toArray(t,e),1)},a.prototype.point=function(t,e){return new u(this,t,e)},a.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(t,e){return new u(t,e[0],e[1]||t.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),s=t.x.redSub(t.z).redMul(r),o=i.redMul(n),a=e.z.redMul(s.redAdd(o).redSqr()),u=e.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,u)},u.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:(t,e,r)=>{"use strict";var n=r(953),i=r(3785),s=r(5717),o=r(4918),a=n.assert;function u(t){o.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(t,e,r,n){o.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(t,e,r,n){o.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(u,o),t.exports=u,u.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new i(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?r=s[0]:(r=s[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),r=new i(2).toRed(e).redInvm(),n=r.redNeg(),s=new i(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(s).fromRed(),n.redSub(s).fromRed()]},u.prototype._getEndoBasis=function(t){for(var e,r,n,s,o,a,u,h,c,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=t,d=this.n.clone(),p=new i(1),m=new i(0),g=new i(0),y=new i(1),b=0;0!==l.cmpn(0);){var v=d.div(l);h=d.sub(v.mul(l)),c=g.sub(v.mul(p));var w=y.sub(v.mul(m));if(!n&&h.cmp(f)<0)e=u.neg(),r=p,n=h.neg(),s=c;else if(n&&2==++b)break;u=h,d=l,l=h,g=p,p=c,y=m,m=w}o=h.neg(),a=c;var _=n.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(_)>=0&&(o=e,a=r),n.negative&&(n=n.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:s},{a:o,b:a}]},u.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),u=i.mul(r.b),h=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:u.add(h).neg()}},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=n.fromRed().isOdd();return(e&&!s||!e&&s)&&(n=n.redNeg()),this.point(t,n)},u.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],u=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*s]=a,n[2*s+1]=u,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var h=this._wnafMulAdd(1,n,i,2*s,r),c=0;c<2*s;c++)n[c]=null,i[c]=null;return h},s(h,o.BasePoint),u.prototype.point=function(t,e,r){return new h(this,t,e,r)},u.prototype.pointFromJSON=function(t,e){return h.fromJSON(this,t,e)},h.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},h.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},h.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},h.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},h.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},h.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(c,o.BasePoint),u.prototype.jpoint=function(t,e,r){return new c(this,t,e,r)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=s.redSub(o);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=a.redSqr(),c=h.redMul(a),f=n.redMul(h),l=u.redSqr().redIAdd(c).redISub(f).redISub(f),d=u.redMul(f.redISub(l)).redISub(s.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,d,p)},c.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),h=u.redMul(o),c=r.redMul(u),f=a.redSqr().redIAdd(h).redISub(c).redISub(c),l=a.redMul(c.redISub(f)).redISub(i.redMul(h)),d=this.z.redMul(o);return this.curve.jpoint(f,l,d)},c.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,u=a.redSqr().redSqr(),h=o.redAdd(o);for(e=0;e<t;e++){var c=s.redSqr(),f=h.redSqr(),l=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=s.redMul(f),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=d.redMul(g);y=y.redIAdd(y).redISub(l);var b=h.redMul(a);e+1<t&&(u=u.redMul(l)),s=m,a=b,h=y}return this.curve.jpoint(s,h.redMul(i),a)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(o).redISub(o),h=s.redIAdd(s);h=(h=h.redIAdd(h)).redIAdd(h),t=u,e=a.redMul(o.redISub(u)).redISub(h),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(l);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),m=p.redSqr(),g=l.redIAdd(l);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},c.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(o).redISub(o);t=u;var h=s.redIAdd(s);h=(h=h.redIAdd(h)).redIAdd(h),e=a.redMul(o.redISub(u)).redISub(h),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var g=f.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},c.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),u=e.redAdd(e),h=(u=u.redIAdd(u)).redMul(o),c=a.redSqr().redISub(h.redAdd(h)),f=h.redISub(c),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(f).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var h=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(u),c=e.redMul(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(a).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(h.redMul(u.redISub(h)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,l,d)},c.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},c.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},c.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},5427:(t,e,r)=>{"use strict";var n,i=e,s=r(3715),o=r(8254),a=r(953).assert;function u(t){"short"===t.type?this.curve=new o.short(t):"edwards"===t.type?this.curve=new o.edwards(t):this.curve=new o.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new u(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(1037)}catch(t){n=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},7954:(t,e,r)=>{"use strict";var n=r(3785),i=r(2156),s=r(953),o=r(5427),a=r(9931),u=s.assert,h=r(1251),c=r(611);function f(t){if(!(this instanceof f))return new f(t);"string"==typeof t&&(u(Object.prototype.hasOwnProperty.call(o,t),"Unknown curve "+t),t=o[t]),t instanceof o.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=f,f.prototype.keyPair=function(t){return new h(this,t)},f.prototype.keyFromPrivate=function(t,e){return h.fromPrivate(this,t,e)},f.prototype.keyFromPublic=function(t,e){return h.fromPublic(this,t,e)},f.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var o=new n(e.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},f.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},f.prototype.sign=function(t,e,r,s){"object"==typeof r&&(s=r,r=null),s||(s={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var o=this.n.byteLength(),a=e.getPrivate().toArray("be",o),u=t.toArray("be",o),h=new i({hash:this.hash,entropy:a,nonce:u,pers:s.pers,persEnc:s.persEnc||"utf8"}),f=this.n.sub(new n(1)),l=0;;l++){var d=s.k?s.k(l):new n(h.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(f)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var y=d.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(y=y.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return s.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),b^=1),new c({r:g,s:y,recoveryParam:b})}}}}}},f.prototype.verify=function(t,e,r,i){t=this._truncateToN(new n(t,16)),r=this.keyFromPublic(r,i);var s=(e=new c(e,"hex")).r,o=e.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,u=o.invm(this.n),h=u.mul(t).umod(this.n),f=u.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(h,r.getPublic(),f)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(h,r.getPublic(),f)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},f.prototype.recoverPubKey=function(t,e,r,i){u((3&r)===r,"The recovery param is more than two bits"),e=new c(e,i);var s=this.n,o=new n(t),a=e.r,h=e.s,f=1&r,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");a=l?this.curve.pointFromX(a.add(this.curve.n),f):this.curve.pointFromX(a,f);var d=e.r.invm(s),p=s.sub(o).mul(d).umod(s),m=h.mul(d).umod(s);return this.g.mulAdd(p,a,m)},f.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new c(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch(t){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},1251:(t,e,r)=>{"use strict";var n=r(3785),i=r(953).assert;function s(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=s,s.fromPublic=function(t,e,r){return e instanceof s?e:new s(t,{pub:e,pubEnc:r})},s.fromPrivate=function(t,e,r){return e instanceof s?e:new s(t,{priv:e,privEnc:r})},s.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},s.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},s.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},s.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},s.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},611:(t,e,r)=>{"use strict";var n=r(3785),i=r(953),s=i.assert;function o(t,e){if(t instanceof o)return t;this._importDER(t,e)||(s(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function u(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return!(i<=127)&&(e.place=o,i)}function h(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function c(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=o,o.prototype._importDER=function(t,e){t=i.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var s=u(t,r);if(!1===s)return!1;if(s+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var o=u(t,r);if(!1===o)return!1;var h=t.slice(r.place,o+r.place);if(r.place+=o,2!==t[r.place++])return!1;var c=u(t,r);if(!1===c)return!1;if(t.length!==c+r.place)return!1;var f=t.slice(r.place,c+r.place);if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new n(h),this.s=new n(f),this.recoveryParam=null,!0},o.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=h(e),r=h(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];c(n,e.length),(n=n.concat(e)).push(2),c(n,r.length);var s=n.concat(r),o=[48];return c(o,s.length),o=o.concat(s),i.encode(o,t)}},5980:(t,e,r)=>{"use strict";var n=r(3715),i=r(5427),s=r(953),o=s.assert,a=s.parseBytes,u=r(9087),h=r(3622);function c(t){if(o("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof c))return new c(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}t.exports=c,c.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),s=this.encodePoint(i),o=this.hashInt(s,r.pubBytes(),t).mul(r.priv()),u=n.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:s})},c.prototype.verify=function(t,e,r){t=a(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(s)},c.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return s.intFromLE(t.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(t){return u.fromPublic(this,t)},c.prototype.keyFromSecret=function(t){return u.fromSecret(this,t)},c.prototype.makeSignature=function(t){return t instanceof h?t:new h(this,t)},c.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},c.prototype.decodePoint=function(t){var e=(t=s.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),i=s.intFromLE(r);return this.curve.pointFromY(i,n)},c.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(t){return s.intFromLE(t)},c.prototype.isPoint=function(t){return t instanceof this.pointClass}},9087:(t,e,r)=>{"use strict";var n=r(953),i=n.assert,s=n.parseBytes,o=n.cachedProperty;function a(t,e){this.eddsa=t,this._secret=s(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=s(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),t)},a.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},t.exports=a},3622:(t,e,r)=>{"use strict";var n=r(3785),i=r(953),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function u(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),s(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=u},1037:t=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},953:(t,e,r)=>{"use strict";var n=e,i=r(3785),s=r(9746),o=r(4504);n.assert=s,n.toArray=o.toArray,n.zero2=o.zero2,n.toHex=o.toHex,n.encode=o.encode,n.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,u=s.andln(i-1);s.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,s=0;t.cmpn(-i)>0||e.cmpn(-s)>0;){var o,a,u=t.andln(3)+i&3,h=e.andln(3)+s&3;3===u&&(u=-1),3===h&&(h=-1),o=0==(1&u)?0:3!=(n=t.andln(7)+i&7)&&5!==n||2!==h?u:-u,r[0].push(o),a=0==(1&h)?0:3!=(n=e.andln(7)+s&7)&&5!==n||2!==u?h:-h,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},n.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(t){return"string"==typeof t?n.toArray(t,"hex"):t},n.intFromLE=function(t){return new i(t,"hex","le")}},3785:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(5568).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function h(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=n)u=h(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var c=u>>>26,f=67108863&u,l=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=l;d++){var p=h-d|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,u=0|c}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!=(s=a>>>24-i&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,h=new t(s),c=this.clone();if(u){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[a]=o;for(;a<s;a++)h[a]=0}else{for(a=0;a<s-i;a++)h[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[s-a-1]=o}return h},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,h=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,_=v>>>13,M=0|o[4],S=8191&M,k=M>>>13,E=0|o[5],A=8191&E,x=E>>>13,T=0|o[6],I=8191&T,B=T>>>13,R=0|o[7],P=8191&R,O=R>>>13,C=0|o[8],U=8191&C,N=C>>>13,L=0|o[9],q=8191&L,z=L>>>13,D=0|a[0],j=8191&D,H=D>>>13,F=0|a[1],K=8191&F,$=F>>>13,W=0|a[2],V=8191&W,G=W>>>13,J=0|a[3],Z=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,H))+Math.imul(l,j)|0))<<13)|0;h=((s=Math.imul(l,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,H))+Math.imul(m,j)|0,s=Math.imul(m,H);var yt=(h+(n=n+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(l,K)|0))<<13)|0;h=((s=s+Math.imul(l,$)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,H))+Math.imul(b,j)|0,s=Math.imul(b,H),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var bt=(h+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(l,V)|0))<<13)|0;h=((s=s+Math.imul(l,G)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,H))+Math.imul(_,j)|0,s=Math.imul(_,H),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,G)|0;var vt=(h+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,Z)|0))<<13)|0;h=((s=s+Math.imul(l,X)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,j),i=(i=Math.imul(S,H))+Math.imul(k,j)|0,s=Math.imul(k,H),n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var wt=(h+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;h=((s=s+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,H))+Math.imul(x,j)|0,s=Math.imul(x,H),n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(k,K)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(h+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(l,rt)|0))<<13)|0;h=((s=s+Math.imul(l,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,H))+Math.imul(B,j)|0,s=Math.imul(B,H),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(k,V)|0,s=s+Math.imul(k,G)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Mt=(h+(n=n+Math.imul(f,st)|0)|0)+((8191&(i=(i=i+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;h=((s=s+Math.imul(l,ot)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,H))+Math.imul(O,j)|0,s=Math.imul(O,H),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(B,K)|0,s=s+Math.imul(B,$)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,G)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(h+(n=n+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((s=s+Math.imul(l,ht)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,H))+Math.imul(N,j)|0,s=Math.imul(N,H),n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,$)|0,n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ht)|0;var kt=(h+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;h=((s=s+Math.imul(l,lt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(q,j),i=(i=Math.imul(q,H))+Math.imul(z,j)|0,s=Math.imul(z,H),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ht)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ht)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,s=s+Math.imul(m,lt)|0;var Et=(h+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;h=((s=s+Math.imul(l,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(q,K),i=(i=Math.imul(q,$))+Math.imul(z,K)|0,s=Math.imul(z,$),n=n+Math.imul(U,V)|0,i=(i=i+Math.imul(U,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,X)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ht)|0,n=n+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var At=(h+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(q,V),i=(i=Math.imul(q,G))+Math.imul(z,V)|0,s=Math.imul(z,G),n=n+Math.imul(U,Z)|0,i=(i=i+Math.imul(U,X)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,X)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(B,rt)|0,s=s+Math.imul(B,nt)|0,n=n+Math.imul(A,st)|0,i=(i=i+Math.imul(A,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ht)|0)+Math.imul(k,ut)|0,s=s+Math.imul(k,ht)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(_,ft)|0,s=s+Math.imul(_,lt)|0;var xt=(h+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(q,Z),i=(i=Math.imul(q,X))+Math.imul(z,Z)|0,s=Math.imul(z,X),n=n+Math.imul(U,Q)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ht)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ht)|0,n=n+Math.imul(S,ft)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(k,ft)|0,s=s+Math.imul(k,lt)|0;var Tt=(h+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(q,Q),i=(i=Math.imul(q,tt))+Math.imul(z,Q)|0,s=Math.imul(z,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(B,ut)|0,s=s+Math.imul(B,ht)|0,n=n+Math.imul(A,ft)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var It=(h+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;h=((s=s+Math.imul(k,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(q,rt),i=(i=Math.imul(q,nt))+Math.imul(z,rt)|0,s=Math.imul(z,nt),n=n+Math.imul(U,st)|0,i=(i=i+Math.imul(U,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ht)|0,n=n+Math.imul(I,ft)|0,i=(i=i+Math.imul(I,lt)|0)+Math.imul(B,ft)|0,s=s+Math.imul(B,lt)|0;var Bt=(h+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(q,st),i=(i=Math.imul(q,ot))+Math.imul(z,st)|0,s=Math.imul(z,ot),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,ht)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ht)|0,n=n+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ft)|0,s=s+Math.imul(O,lt)|0;var Rt=(h+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(B,pt)|0))<<13)|0;h=((s=s+Math.imul(B,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(q,ut),i=(i=Math.imul(q,ht))+Math.imul(z,ut)|0,s=Math.imul(z,ht),n=n+Math.imul(U,ft)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(N,ft)|0,s=s+Math.imul(N,lt)|0;var Pt=(h+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;h=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(q,ft),i=(i=Math.imul(q,lt))+Math.imul(z,ft)|0,s=Math.imul(z,lt);var Ot=(h+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(h+(n=Math.imul(q,pt))|0)+((8191&(i=(i=Math.imul(q,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((s=Math.imul(z,mt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=gt,u[1]=yt,u[2]=bt,u[3]=vt,u[4]=wt,u[5]=_t,u[6]=Mt,u[7]=St,u[8]=kt,u[9]=Et,u[10]=At,u[11]=xt,u[12]=Tt,u[13]=It,u[14]=Bt,u[15]=Rt,u[16]=Pt,u[17]=Ot,u[18]=Ct,0!==h&&(u[19]=h,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=u;h++){var c=s-h,f=(0|t.words[c])*(0|e.words[h]),l=67108863&f;a=67108863&(l=l+a|0),i+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},g.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var f=u,l=h,d=0;d<o;d++){var p=r[c+d],m=n[c+d],g=r[c+d+o],y=n[c+d+o],b=f*g-l*y;y=f*y+l*g,g=b,r[c+d]=p+g,n[c+d]=m+y,r[c+d+o]=p-g,n[c+d+o]=m-y,d!==a&&(b=u*f-h*l,l=u*l+h*f,f=b)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),c=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,h,n),this.transform(o,s,a,u,n,i),this.transform(h,s,c,f,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,s,n,i),this.conjugate(l,s,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var h=0;h<o;h++)u.words[h]=this.words[h];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=i);h--){var f=0|this.words[h];this.words[h]=c<<26-s|f>>>s,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(l=Math.min(l/o|0,67108863),n._ishlnsubmul(i,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=l)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(h)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},i(v,b),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,b),i(_,b),i(M,b),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,h).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),l=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var h=e.words[n],c=u-1;c>=0;c--){var f=h>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==o?(o<<=1,o|=f,(4==++a||0===n&&0===c)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},i(k,S),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},6729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||t,o),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var u,h,c=this._events[a],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,s),!0;case 6:return c.fn.call(c.context,e,n,i,s,o),!0}for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];c.fn.apply(c.context,u)}else{var l,d=c.length;for(h=0;h<d;h++)switch(c[h].once&&this.removeListener(t,c[h].fn,void 0,!0),f){case 1:c[h].fn.call(c[h].context);break;case 2:c[h].fn.call(c[h].context,e);break;case 3:c[h].fn.call(c[h].context,e,n);break;case 4:c[h].fn.call(c[h].context,e,n,i);break;default:if(!u)for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c[h].fn.apply(c[h].context,u)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var u=0,h=[],c=a.length;u<c;u++)(a[u].fn!==e||i&&!a[u].once||n&&a[u].context!==n)&&h.push(a[u]);h.length?this._events[s]=1===h.length?h[0]:h:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},7187:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,s),n(r)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}m(t,e,s,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&m(t,"error",e,{once:!0})}(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,r,n){var i,s,o,h;if(a(r),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),void 0===o)o=s[e]=r,++t._eventsCount;else if("function"==typeof o?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=u(t))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=o.length,h=c,console&&console.warn&&console.warn(h)}return t}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=c.bind(n);return i.listener=r,n.wrapFn=i,i}function l(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function m(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(s){n.once&&t.removeEventListener(e,i),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[t];if(void 0===u)return!1;if("function"==typeof u)n(u,this,e);else{var h=u.length,c=p(u,h);for(r=0;r<h;++r)n(c[r],this,e)}return!0},s.prototype.addListener=function(t,e){return h(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return h(this,t,e,!0)},s.prototype.once=function(t,e){return a(e),this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,f(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,i,s,o;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return l(this,t,!0)},s.prototype.rawListeners=function(t){return l(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},3048:(t,e,r)=>{var n=r(9509).Buffer,i=r(2318);t.exports=function(t,e,r,s){if(n.isBuffer(t)||(t=n.from(t,"binary")),e&&(n.isBuffer(e)||(e=n.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=r/8,a=n.alloc(o),u=n.alloc(s||0),h=n.alloc(0);o>0||s>0;){var c=new i;c.update(h),c.update(t),e&&c.update(e),h=c.digest();var f=0;if(o>0){var l=a.length-o;f=Math.min(o,h.length),h.copy(a,l,0,f),o-=f}if(f<h.length&&s>0){var d=u.length-s,p=Math.min(s,h.length-f);h.copy(u,d,f,f+p),s-=p}}return h.fill(0),{key:a,iv:u}}},6230:t=>{t.exports="object"==typeof self?self.FormData:window.FormData},3349:(t,e,r)=>{"use strict";var n=r(9509).Buffer,i=r(8473).Transform;function s(t){i.call(this),this._block=n.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(5717)(s,i),s.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},s.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},s.prototype.update=function(t,e){if(function(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer")}(t),this._finalized)throw new Error("Digest already called");n.isBuffer(t)||(t=n.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var o=0,a=8*t.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},s.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=s},3715:(t,e,r)=>{var n=e;n.utils=r(6436),n.common=r(5772),n.sha=r(9041),n.ripemd=r(2949),n.hmac=r(2344),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},5772:(t,e,r)=>{"use strict";var n=r(6436),i=r(9746);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=s,s.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},s.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},s.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n}},2344:(t,e,r)=>{"use strict";var n=r(6436),i=r(9746);function s(t,e,r){if(!(this instanceof s))return new s(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=s,s.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},s.prototype.update=function(t,e){return this.inner.update(t,e),this},s.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},2949:(t,e,r)=>{"use strict";var n=r(6436),i=r(5772),s=n.rotl32,o=n.sum32,a=n.sum32_3,u=n.sum32_4,h=i.BlockHash;function c(){if(!(this instanceof c))return new c;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function l(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function d(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(c,h),e.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],h=this.h[3],c=this.h[4],b=r,v=n,w=i,_=h,M=c,S=0;S<80;S++){var k=o(s(u(r,f(S,n,i,h),t[p[S]+e],l(S)),g[S]),c);r=c,c=h,h=s(i,10),i=n,n=k,k=o(s(u(b,f(79-S,v,w,_),t[m[S]+e],d(S)),y[S]),M),b=M,M=_,_=s(w,10),w=v,v=k}k=a(this.h[1],i,_),this.h[1]=a(this.h[2],h,M),this.h[2]=a(this.h[3],c,b),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,w),this.h[0]=k},c.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9041:(t,e,r)=>{"use strict";e.sha1=r(4761),e.sha224=r(799),e.sha256=r(9344),e.sha384=r(772),e.sha512=r(5900)},4761:(t,e,r)=>{"use strict";var n=r(6436),i=r(5772),s=r(7038),o=n.rotl32,a=n.sum32,u=n.sum32_5,h=s.ft_1,c=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(l,c),t.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=o(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],c=this.h[2],l=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),m=u(o(i,5),h(p,s,c,l),d,r[n],f[p]);d=l,l=c,c=o(s,30),s=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],c),this.h[3]=a(this.h[3],l),this.h[4]=a(this.h[4],d)},l.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},799:(t,e,r)=>{"use strict";var n=r(6436),i=r(9344);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),t.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},9344:(t,e,r)=>{"use strict";var n=r(6436),i=r(5772),s=r(7038),o=r(9746),a=n.sum32,u=n.sum32_4,h=n.sum32_5,c=s.ch32,f=s.maj32,l=s.s0_256,d=s.s1_256,p=s.g0_256,m=s.g1_256,g=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}n.inherits(b,g),t.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=u(m(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],g=this.h[2],y=this.h[3],b=this.h[4],v=this.h[5],w=this.h[6],_=this.h[7];for(o(this.k.length===r.length),n=0;n<r.length;n++){var M=h(_,d(b),c(b,v,w),this.k[n],r[n]),S=a(l(i),f(i,s,g));_=w,w=v,v=b,b=a(y,M),y=g,g=s,s=i,i=a(M,S)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],b),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},b.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},772:(t,e,r)=>{"use strict";var n=r(6436),i=r(5900);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),t.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},5900:(t,e,r)=>{"use strict";var n=r(6436),i=r(5772),s=r(9746),o=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,h=n.shr64_lo,c=n.sum64,f=n.sum64_hi,l=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,m=n.sum64_5_hi,g=n.sum64_5_lo,y=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function w(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function _(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function M(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function S(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function k(t,e){var r=o(t,e,28)^o(e,t,2)^o(e,t,7);return r<0&&(r+=4294967296),r}function E(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function A(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function x(t,e){var r=o(t,e,1)^o(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function T(t,e){var r=a(t,e,1)^a(t,e,8)^h(t,e,7);return r<0&&(r+=4294967296),r}function I(t,e){var r=a(t,e,19)^a(e,t,29)^h(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(v,y),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=(g=r[n-4],y=r[n-3],b=void 0,(b=o(g,y,19)^o(y,g,29)^u(g,y,6))<0&&(b+=4294967296),b),s=I(r[n-4],r[n-3]),a=r[n-14],h=r[n-13],c=x(r[n-30],r[n-29]),f=T(r[n-30],r[n-29]),l=r[n-32],m=r[n-31];r[n]=d(i,s,a,h,c,f,l,m),r[n+1]=p(i,s,a,h,c,f,l,m)}var g,y,b},v.prototype._update=function(t,e){this._prepareBlock(t,e);var r,n,i,a=this.W,u=this.h[0],h=this.h[1],d=this.h[2],p=this.h[3],y=this.h[4],b=this.h[5],v=this.h[6],x=this.h[7],T=this.h[8],I=this.h[9],B=this.h[10],R=this.h[11],P=this.h[12],O=this.h[13],C=this.h[14],U=this.h[15];s(this.k.length===a.length);for(var N=0;N<a.length;N+=2){var L=C,q=U,z=(i=void 0,(i=o(r=T,n=I,14)^o(r,n,18)^o(n,r,9))<0&&(i+=4294967296),i),D=A(T,I),j=w(T,0,B,0,P),H=_(0,I,0,R,0,O),F=this.k[N],K=this.k[N+1],$=a[N],W=a[N+1],V=m(L,q,z,D,j,H,F,K,$,W),G=g(L,q,z,D,j,H,F,K,$,W);L=k(u,h),q=E(u,h),z=M(u,0,d,0,y),D=S(0,h,0,p,0,b);var J=f(L,q,z,D),Z=l(L,q,z,D);C=P,U=O,P=B,O=R,B=T,R=I,T=f(v,x,V,G),I=l(x,x,V,G),v=y,x=b,y=d,b=p,d=u,p=h,u=f(V,G,J,Z),h=l(V,G,J,Z)}c(this.h,0,u,h),c(this.h,2,d,p),c(this.h,4,y,b),c(this.h,6,v,x),c(this.h,8,T,I),c(this.h,10,B,R),c(this.h,12,P,O),c(this.h,14,C,U)},v.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},7038:(t,e,r)=>{"use strict";var n=r(6436).rotr32;function i(t,e,r){return t&e^~t&r}function s(t,e,r){return t&e^t&r^e&r}function o(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?o(e,r,n):2===t?s(e,r,n):void 0},e.ch32=i,e.maj32=s,e.p32=o,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},6436:(t,e,r)=>{"use strict";var n=r(9746),i=r(5717);function s(t,e){return 55296==(64512&t.charCodeAt(e))&&!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function u(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):s(t,i)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=a(t[r].toString(16));return e},e.htonl=o,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=o(i)),r+=u(i.toString(16))}return r},e.zero2=a,e.zero8=u,e.join32=function(t,e,r,i){var s=r-e;n(s%4==0);for(var o=new Array(s/4),a=0,u=e;a<o.length;a++,u+=4){var h;h="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],o[a]=h>>>0}return o},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];"big"===e?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],s=n+t[e+1]>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,s,o,a){var u=0,h=e;return u+=(h=h+n>>>0)<e?1:0,u+=(h=h+s>>>0)<s?1:0,t+r+i+o+(u+=(h=h+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,s,o,a){return e+n+s+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,s,o,a,u,h){var c=0,f=e;return c+=(f=f+n>>>0)<e?1:0,c+=(f=f+s>>>0)<s?1:0,c+=(f=f+a>>>0)<a?1:0,t+r+i+o+u+(c+=(f=f+h>>>0)<h?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,s,o,a,u,h){return e+n+s+a+h>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},2156:(t,e,r)=>{"use strict";var n=r(3715),i=r(4504),s=r(9746);function o(t){if(!(this instanceof o))return new o(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),r=i.toArray(t.nonce,t.nonceEnc||"hex"),n=i.toArray(t.pers,t.persEnc||"hex");s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}t.exports=o,o.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},o.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=i.toArray(t,e),r=i.toArray(r,n),s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},o.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(r),this._reseed++,i.encode(o,e)}},645:(t,e)=>{e.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,h=u>>1,c=-7,f=r?i-1:0,l=r?-1:1,d=t[e+f];for(f+=l,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=256*s+t[e+f],f+=l,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+t[e+f],f+=l,c-=8);if(0===s)s=1-h;else{if(s===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=h}return(d?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,a,u,h=8*s-i-1,c=(1<<h)-1,f=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+f>=1?l/u:l*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=c?(a=0,o=c):o+f>=1?(a=(e*u-1)*Math.pow(2,i),o+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,h+=i;h>0;t[r+d]=255&o,d+=p,o/=256,h-=8);t[r+d-p]|=128*m}},5717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},1198:(t,e,r)=>{"use strict";const n=r(4608).v4,i=r(7741),s=function(t,e){if(!(this instanceof s))return new s(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return n()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=s,s.prototype.request=function(t,e,r,n){const s=this;let o=null;const a=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&"object"==typeof t&&"function"==typeof e)n=e,o=t;else{"function"==typeof r&&(n=r,r=void 0);const s="function"==typeof n;try{o=i(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(t){if(s)return n(t);throw t}if(!s)return o}let u;try{u=JSON.stringify(o,this.options.replacer)}catch(t){return n(t)}return this.callServer(u,(function(t,e){s._parseResponse(t,e,n)})),o},s.prototype._parseResponse=function(t,e,r){if(t)return void r(t);if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(t){return r(t)}if(3===r.length){if(Array.isArray(n)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return r(null,n.filter(t),n.filter(e))}return r(null,n.error,n.result)}r(null,n)}},7741:(t,e,r)=>{"use strict";const n=r(4608).v4;t.exports=function(t,e,r,i){if("string"!=typeof t)throw new TypeError(t+" must be a string");const s="number"==typeof(i=i||{}).version?i.version:2;if(1!==s&&2!==s)throw new TypeError(s+" must be 1 or 2");const o={method:t};if(2===s&&(o.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(void 0===r){const t="function"==typeof i.generator?i.generator:function(){return n()};o.id=t(o,i)}else 2===s&&null===r?i.notificationIdNull&&(o.id=null):o.id=r;return o}},2023:(module,exports,__webpack_require__)=>{var process=__webpack_require__(4155),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null==t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,r){return e.create(t).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,r){var n,i=typeof t;if("string"===i){var s,o=[],a=t.length,u=0;for(n=0;n<a;++n)(s=t.charCodeAt(n))<128?o[u++]=s:s<2048?(o[u++]=192|s>>6,o[u++]=128|63&s):s<55296||s>=57344?(o[u++]=224|s>>12,o[u++]=128|s>>6&63,o[u++]=128|63&s):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++n)),o[u++]=240|s>>18,o[u++]=128|s>>12&63,o[u++]=128|s>>6&63,o[u++]=128|63&s);t=o}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var h=[],c=[];for(n=0;n<64;++n){var f=t[n]||0;h[n]=92^f,c[n]=54^f}Sha256.call(this,e,r),this.update(c),this.oKeyPad=h,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var n,i,s=0,o=t.length,a=this.blocks;s<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(i=this.start;s<o&&i<64;++s)a[i>>2]|=t[s]<<SHIFT[3&i++];else for(i=this.start;s<o&&i<64;++s)(n=t.charCodeAt(s))<128?a[i>>2]|=n<<SHIFT[3&i++]:n<2048?(a[i>>2]|=(192|n>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++s)),a[i>>2]|=(240|n>>18)<<SHIFT[3&i++],a[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,r,n,i,s,o,a,u,h=this.h0,c=this.h1,f=this.h2,l=this.h3,d=this.h4,p=this.h5,m=this.h6,g=this.h7,y=this.blocks;for(t=16;t<64;++t)e=((i=y[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=y[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,y[t]=y[t-16]+e+y[t-7]+r<<0;for(u=c&f,t=0;t<64;t+=4)this.first?(this.is224?(s=300032,g=(i=y[0]-1413257819)-150054599<<0,l=i+24177077<<0):(s=704751109,g=(i=y[0]-210244248)-1521486534<<0,l=i+143694565<<0),this.first=!1):(e=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(s=h&c)^h&f^u,g=l+(i=g+(r=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&p^~d&m)+K[t]+y[t])<<0,l=i+(e+n)<<0),e=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(o=l&h)^l&c^s,m=f+(i=m+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&d^~g&p)+K[t+1]+y[t+1])<<0,e=((f=i+(e+n)<<0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(a=f&l)^f&h^o,p=c+(i=p+(r=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&d)+K[t+2]+y[t+2])<<0,e=((c=i+(e+n)<<0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(u=c&f)^c&l^a,d=h+(i=d+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&m^~p&g)+K[t+3]+y[t+3])<<0,h=i+(e+n)<<0;this.h0=this.h0+h<<0,this.h1=this.h1+c<<0,this.h2=this.h2+f<<0,this.h3=this.h3+l<<0,this.h4=this.h4+d<<0,this.h5=this.h5+p<<0,this.h6=this.h6+m<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s,o>>24&255,o>>16&255,o>>8&255,255&o];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,255&a),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},1094:(t,e,r)=>{var n,i=r(4155);!function(){"use strict";var s="input is invalid type",o="object"==typeof window,a=o?window:{};a.JS_SHA3_NO_WINDOW&&(o=!1);var u=!o&&"object"==typeof self;!a.JS_SHA3_NO_NODE_JS&&"object"==typeof i&&i.versions&&i.versions.node?a=r.g:u&&(a=self);var h=!a.JS_SHA3_NO_COMMON_JS&&t.exports,c=r.amdO,f=!a.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,l="0123456789abcdef".split(""),d=[4,1024,262144,67108864],p=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],g=[224,256,384,512],y=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};!a.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!f||!a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var w=function(t,e,r){return function(n){return new U(t,e,t).update(n)[r]()}},_=function(t,e,r){return function(n,i){return new U(t,e,i).update(n)[r]()}},M=function(t,e,r){return function(e,n,i,s){return x["cshake"+t].update(e,n,i,s)[r]()}},S=function(t,e,r){return function(e,n,i,s){return x["kmac"+t].update(e,n,i,s)[r]()}},k=function(t,e,r,n){for(var i=0;i<b.length;++i){var s=b[i];t[s]=e(r,n,s)}return t},E=function(t,e){var r=w(t,e,"hex");return r.create=function(){return new U(t,e,t)},r.update=function(t){return r.create().update(t)},k(r,w,t,e)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:g,createMethod:E},{name:"sha3",padding:[6,1536,393216,100663296],bits:g,createMethod:E},{name:"shake",padding:[31,7936,2031616,520093696],bits:y,createMethod:function(t,e){var r=_(t,e,"hex");return r.create=function(r){return new U(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},k(r,_,t,e)}},{name:"cshake",padding:d,bits:y,createMethod:function(t,e){var r=v[t],n=M(t,0,"hex");return n.create=function(n,i,s){return i||s?new U(t,e,n).bytepad([i,s],r):x["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},k(n,M,t,e)}},{name:"kmac",padding:d,bits:y,createMethod:function(t,e){var r=v[t],n=S(t,0,"hex");return n.create=function(n,i,s){return new N(t,e,i).bytepad(["KMAC",s],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},k(n,S,t,e)}}],x={},T=[],I=0;I<A.length;++I)for(var B=A[I],R=B.bits,P=0;P<R.length;++P){var O=B.name+"_"+R[P];if(T.push(O),x[O]=B.createMethod(R[P],B.padding),"sha3"!==B.name){var C=B.name+R[P];T.push(C),x[C]=x[O]}}function U(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function N(t,e,r){U.call(this,t,e,r)}U.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(s);if(null===t)throw new Error(s);if(f&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||f&&ArrayBuffer.isView(t)))throw new Error(s);e=!0}for(var n,i,o=this.blocks,a=this.byteCount,u=t.length,h=this.blockCount,c=0,l=this.s;c<u;){if(this.reset)for(this.reset=!1,o[0]=this.block,n=1;n<h+1;++n)o[n]=0;if(e)for(n=this.start;c<u&&n<a;++c)o[n>>2]|=t[c]<<p[3&n++];else for(n=this.start;c<u&&n<a;++c)(i=t.charCodeAt(c))<128?o[n>>2]|=i<<p[3&n++]:i<2048?(o[n>>2]|=(192|i>>6)<<p[3&n++],o[n>>2]|=(128|63&i)<<p[3&n++]):i<55296||i>=57344?(o[n>>2]|=(224|i>>12)<<p[3&n++],o[n>>2]|=(128|i>>6&63)<<p[3&n++],o[n>>2]|=(128|63&i)<<p[3&n++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++c)),o[n>>2]|=(240|i>>18)<<p[3&n++],o[n>>2]|=(128|i>>12&63)<<p[3&n++],o[n>>2]|=(128|i>>6&63)<<p[3&n++],o[n>>2]|=(128|63&i)<<p[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=o[h],n=0;n<h;++n)l[n]^=o[n];L(l),this.reset=!0}else this.start=n}return this},U.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},U.prototype.encodeString=function(t){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(s);if(null===t)throw new Error(s);if(f&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||f&&ArrayBuffer.isView(t)))throw new Error(s);e=!0}var n=0,i=t.length;if(e)n=i;else for(var o=0;o<t.length;++o){var a=t.charCodeAt(o);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&t.charCodeAt(++o)),n+=4)}return n+=this.encode(8*n),this.update(t),n},U.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,s=[];return s.length=i,this.update(s),this},U.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];L(n)}},U.prototype.toString=U.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a="";o<n;){for(s=0;s<e&&o<n;++s,++o)t=r[s],a+=l[t>>4&15]+l[15&t]+l[t>>12&15]+l[t>>8&15]+l[t>>20&15]+l[t>>16&15]+l[t>>28&15]+l[t>>24&15];o%e==0&&(L(r),s=0)}return i&&(t=r[s],a+=l[t>>4&15]+l[15&t],i>1&&(a+=l[t>>12&15]+l[t>>8&15]),i>2&&(a+=l[t>>20&15]+l[t>>16&15])),a},U.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(t);o<n;){for(s=0;s<e&&o<n;++s,++o)u[o]=r[s];o%e==0&&L(r)}return i&&(u[s]=r[s],t=t.slice(0,a)),t},U.prototype.buffer=U.prototype.arrayBuffer,U.prototype.digest=U.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,u=[];a<i;){for(o=0;o<r&&a<i;++o,++a)t=a<<2,e=n[o],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;a%r==0&&L(n)}return s&&(t=a<<2,e=n[o],u[t]=255&e,s>1&&(u[t+1]=e>>8&255),s>2&&(u[t+2]=e>>16&255)),u},N.prototype=new U,N.prototype.finalize=function(){return this.encode(this.outputBits,!0),U.prototype.finalize.call(this)};var L=function(t){var e,r,n,i,s,o,a,u,h,c,f,l,d,p,g,y,b,v,w,_,M,S,k,E,A,x,T,I,B,R,P,O,C,U,N,L,q,z,D,j,H,F,K,$,W,V,G,J,Z,X,Y,Q,tt,et,rt,nt,it,st,ot,at,ut,ht,ct;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],h=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],e=(l=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|a>>>31),r=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|o>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(u<<1|h>>>31),r=s^(h<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=o^(c<<1|f>>>31),r=a^(f<<1|c>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(l<<1|d>>>31),r=h^(d<<1|l>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=c^(i<<1|s>>>31),r=f^(s<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,p=t[0],g=t[1],V=t[11]<<4|t[10]>>>28,G=t[10]<<4|t[11]>>>28,I=t[20]<<3|t[21]>>>29,B=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,F=t[40]<<18|t[41]>>>14,K=t[41]<<18|t[40]>>>14,U=t[2]<<1|t[3]>>>31,N=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,b=t[12]<<12|t[13]>>>20,J=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,R=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,ht=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,L=t[14]<<6|t[15]>>>26,q=t[15]<<6|t[14]>>>26,v=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,Y=t[35]<<15|t[34]>>>17,O=t[45]<<29|t[44]>>>3,C=t[44]<<29|t[45]>>>3,E=t[6]<<28|t[7]>>>4,A=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,z=t[26]<<25|t[27]>>>7,D=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,M=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,$=t[8]<<27|t[9]>>>5,W=t[9]<<27|t[8]>>>5,x=t[18]<<20|t[19]>>>12,T=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,j=t[38]<<8|t[39]>>>24,H=t[39]<<8|t[38]>>>24,S=t[48]<<14|t[49]>>>18,k=t[49]<<14|t[48]>>>18,t[0]=p^~y&v,t[1]=g^~b&w,t[10]=E^~x&I,t[11]=A^~T&B,t[20]=U^~L&z,t[21]=N^~q&D,t[30]=$^~V&J,t[31]=W^~G&Z,t[40]=et^~nt&st,t[41]=rt^~it&ot,t[2]=y^~v&_,t[3]=b^~w&M,t[12]=x^~I&R,t[13]=T^~B&P,t[22]=L^~z&j,t[23]=q^~D&H,t[32]=V^~J&X,t[33]=G^~Z&Y,t[42]=nt^~st&at,t[43]=it^~ot&ut,t[4]=v^~_&S,t[5]=w^~M&k,t[14]=I^~R&O,t[15]=B^~P&C,t[24]=z^~j&F,t[25]=D^~H&K,t[34]=J^~X&Q,t[35]=Z^~Y&tt,t[44]=st^~at&ht,t[45]=ot^~ut&ct,t[6]=_^~S&p,t[7]=M^~k&g,t[16]=R^~O&E,t[17]=P^~C&A,t[26]=j^~F&U,t[27]=H^~K&N,t[36]=X^~Q&$,t[37]=Y^~tt&W,t[46]=at^~ht&et,t[47]=ut^~ct&rt,t[8]=S^~p&y,t[9]=k^~g&b,t[18]=O^~E&x,t[19]=C^~A&T,t[28]=F^~U&L,t[29]=K^~N&q,t[38]=Q^~$&V,t[39]=tt^~W&G,t[48]=ht^~et&nt,t[49]=ct^~rt&it,t[0]^=m[n],t[1]^=m[n+1]};if(h)t.exports=x;else{for(I=0;I<T.length;++I)a[T[I]]=x[T[I]];c&&(void 0===(n=function(){return x}.call(e,r,e,t))||(t.exports=n))}}()},5811:(t,e,r)=>{t.exports=r(6066)(r(9653))},6066:(t,e,r)=>{const n=r(7016),i=r(5675);t.exports=function(t){const e=n(t),r=i(t);return function(t,n){switch("string"==typeof t?t.toLowerCase():t){case"keccak224":return new e(1152,448,null,224,n);case"keccak256":return new e(1088,512,null,256,n);case"keccak384":return new e(832,768,null,384,n);case"keccak512":return new e(576,1024,null,512,n);case"sha3-224":return new e(1152,448,6,224,n);case"sha3-256":return new e(1088,512,6,256,n);case"sha3-384":return new e(832,768,6,384,n);case"sha3-512":return new e(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+t)}}}},7016:(t,e,r)=>{var n=r(8764).Buffer;const{Transform:i}=r(8473);t.exports=t=>class e extends i{constructor(e,r,n,i,s){super(s),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=i,this._options=s,this._state=new t,this._state.initialize(e,r),this._finalized=!1}_transform(t,e,r){let n=null;try{this.update(t,e)}catch(t){n=t}r(n)}_flush(t){let e=null;try{this.push(this.digest())}catch(t){e=t}t(e)}update(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return n.isBuffer(t)||(t=n.from(t,e)),this._state.absorb(t),this}digest(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let e=this._state.squeeze(this._hashBitLength/8);return void 0!==t&&(e=e.toString(t)),this._resetState(),e}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const t=new e(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t}}},5675:(t,e,r)=>{var n=r(8764).Buffer;const{Transform:i}=r(8473);t.exports=t=>class e extends i{constructor(e,r,n,i){super(i),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._options=i,this._state=new t,this._state.initialize(e,r),this._finalized=!1}_transform(t,e,r){let n=null;try{this.update(t,e)}catch(t){n=t}r(n)}_flush(){}_read(t){this.push(this.squeeze(t))}update(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return n.isBuffer(t)||(t=n.from(t,e)),this._state.absorb(t),this}squeeze(t,e){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(t);return void 0!==e&&(r=r.toString(e)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const t=new e(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t}}},4040:(t,e)=>{const r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];e.p1600=function(t){for(let e=0;e<24;++e){const n=t[0]^t[10]^t[20]^t[30]^t[40],i=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],a=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],f=t[8]^t[18]^t[28]^t[38]^t[48],l=t[9]^t[19]^t[29]^t[39]^t[49];let d=f^(s<<1|o>>>31),p=l^(o<<1|s>>>31);const m=t[0]^d,g=t[1]^p,y=t[10]^d,b=t[11]^p,v=t[20]^d,w=t[21]^p,_=t[30]^d,M=t[31]^p,S=t[40]^d,k=t[41]^p;d=n^(a<<1|u>>>31),p=i^(u<<1|a>>>31);const E=t[2]^d,A=t[3]^p,x=t[12]^d,T=t[13]^p,I=t[22]^d,B=t[23]^p,R=t[32]^d,P=t[33]^p,O=t[42]^d,C=t[43]^p;d=s^(h<<1|c>>>31),p=o^(c<<1|h>>>31);const U=t[4]^d,N=t[5]^p,L=t[14]^d,q=t[15]^p,z=t[24]^d,D=t[25]^p,j=t[34]^d,H=t[35]^p,F=t[44]^d,K=t[45]^p;d=a^(f<<1|l>>>31),p=u^(l<<1|f>>>31);const $=t[6]^d,W=t[7]^p,V=t[16]^d,G=t[17]^p,J=t[26]^d,Z=t[27]^p,X=t[36]^d,Y=t[37]^p,Q=t[46]^d,tt=t[47]^p;d=h^(n<<1|i>>>31),p=c^(i<<1|n>>>31);const et=t[8]^d,rt=t[9]^p,nt=t[18]^d,it=t[19]^p,st=t[28]^d,ot=t[29]^p,at=t[38]^d,ut=t[39]^p,ht=t[48]^d,ct=t[49]^p,ft=m,lt=g,dt=b<<4|y>>>28,pt=y<<4|b>>>28,mt=v<<3|w>>>29,gt=w<<3|v>>>29,yt=M<<9|_>>>23,bt=_<<9|M>>>23,vt=S<<18|k>>>14,wt=k<<18|S>>>14,_t=E<<1|A>>>31,Mt=A<<1|E>>>31,St=T<<12|x>>>20,kt=x<<12|T>>>20,Et=I<<10|B>>>22,At=B<<10|I>>>22,xt=P<<13|R>>>19,Tt=R<<13|P>>>19,It=O<<2|C>>>30,Bt=C<<2|O>>>30,Rt=N<<30|U>>>2,Pt=U<<30|N>>>2,Ot=L<<6|q>>>26,Ct=q<<6|L>>>26,Ut=D<<11|z>>>21,Nt=z<<11|D>>>21,Lt=j<<15|H>>>17,qt=H<<15|j>>>17,zt=K<<29|F>>>3,Dt=F<<29|K>>>3,jt=$<<28|W>>>4,Ht=W<<28|$>>>4,Ft=G<<23|V>>>9,Kt=V<<23|G>>>9,$t=J<<25|Z>>>7,Wt=Z<<25|J>>>7,Vt=X<<21|Y>>>11,Gt=Y<<21|X>>>11,Jt=tt<<24|Q>>>8,Zt=Q<<24|tt>>>8,Xt=et<<27|rt>>>5,Yt=rt<<27|et>>>5,Qt=nt<<20|it>>>12,te=it<<20|nt>>>12,ee=ot<<7|st>>>25,re=st<<7|ot>>>25,ne=at<<8|ut>>>24,ie=ut<<8|at>>>24,se=ht<<14|ct>>>18,oe=ct<<14|ht>>>18;t[0]=ft^~St&Ut,t[1]=lt^~kt&Nt,t[10]=jt^~Qt&mt,t[11]=Ht^~te&gt,t[20]=_t^~Ot&$t,t[21]=Mt^~Ct&Wt,t[30]=Xt^~dt&Et,t[31]=Yt^~pt&At,t[40]=Rt^~Ft&ee,t[41]=Pt^~Kt&re,t[2]=St^~Ut&Vt,t[3]=kt^~Nt&Gt,t[12]=Qt^~mt&xt,t[13]=te^~gt&Tt,t[22]=Ot^~$t&ne,t[23]=Ct^~Wt&ie,t[32]=dt^~Et&Lt,t[33]=pt^~At&qt,t[42]=Ft^~ee&yt,t[43]=Kt^~re&bt,t[4]=Ut^~Vt&se,t[5]=Nt^~Gt&oe,t[14]=mt^~xt&zt,t[15]=gt^~Tt&Dt,t[24]=$t^~ne&vt,t[25]=Wt^~ie&wt,t[34]=Et^~Lt&Jt,t[35]=At^~qt&Zt,t[44]=ee^~yt&It,t[45]=re^~bt&Bt,t[6]=Vt^~se&ft,t[7]=Gt^~oe&lt,t[16]=xt^~zt&jt,t[17]=Tt^~Dt&Ht,t[26]=ne^~vt&_t,t[27]=ie^~wt&Mt,t[36]=Lt^~Jt&Xt,t[37]=qt^~Zt&Yt,t[46]=yt^~It&Rt,t[47]=bt^~Bt&Pt,t[8]=se^~ft&St,t[9]=oe^~lt&kt,t[18]=zt^~jt&Qt,t[19]=Dt^~Ht&te,t[28]=vt^~_t&Ot,t[29]=wt^~Mt&Ct,t[38]=Jt^~Xt&dt,t[39]=Zt^~Yt&pt,t[48]=It^~Rt&Ft,t[49]=Bt^~Pt&Kt,t[0]^=r[2*e],t[1]^=r[2*e+1]}}},9653:(t,e,r)=>{var n=r(8764).Buffer;const i=r(4040);function s(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}s.prototype.initialize=function(t,e){for(let t=0;t<50;++t)this.state[t]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1},s.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0)},s.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<this.count%4*8,0!=(128&t)&&this.count===this.blockSize-1&&i.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,i.p1600(this.state),this.count=0,this.squeezing=!0},s.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=n.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0);return e},s.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing},t.exports=s},2318:(t,e,r)=>{"use strict";var n=r(5717),i=r(3349),s=r(9509).Buffer,o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(t,e){return t<<e|t>>>32-e}function h(t,e,r,n,i,s,o){return u(t+(e&r|~e&n)+i+s|0,o)+e|0}function c(t,e,r,n,i,s,o){return u(t+(e&n|r&~n)+i+s|0,o)+e|0}function f(t,e,r,n,i,s,o){return u(t+(e^r^n)+i+s|0,o)+e|0}function l(t,e,r,n,i,s,o){return u(t+(r^(e|~n))+i+s|0,o)+e|0}n(a,i),a.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,s=this._d;r=h(r,n,i,s,t[0],3614090360,7),s=h(s,r,n,i,t[1],3905402710,12),i=h(i,s,r,n,t[2],606105819,17),n=h(n,i,s,r,t[3],3250441966,22),r=h(r,n,i,s,t[4],4118548399,7),s=h(s,r,n,i,t[5],1200080426,12),i=h(i,s,r,n,t[6],2821735955,17),n=h(n,i,s,r,t[7],4249261313,22),r=h(r,n,i,s,t[8],1770035416,7),s=h(s,r,n,i,t[9],2336552879,12),i=h(i,s,r,n,t[10],4294925233,17),n=h(n,i,s,r,t[11],2304563134,22),r=h(r,n,i,s,t[12],1804603682,7),s=h(s,r,n,i,t[13],4254626195,12),i=h(i,s,r,n,t[14],2792965006,17),r=c(r,n=h(n,i,s,r,t[15],1236535329,22),i,s,t[1],4129170786,5),s=c(s,r,n,i,t[6],3225465664,9),i=c(i,s,r,n,t[11],643717713,14),n=c(n,i,s,r,t[0],3921069994,20),r=c(r,n,i,s,t[5],3593408605,5),s=c(s,r,n,i,t[10],38016083,9),i=c(i,s,r,n,t[15],3634488961,14),n=c(n,i,s,r,t[4],3889429448,20),r=c(r,n,i,s,t[9],568446438,5),s=c(s,r,n,i,t[14],3275163606,9),i=c(i,s,r,n,t[3],4107603335,14),n=c(n,i,s,r,t[8],1163531501,20),r=c(r,n,i,s,t[13],2850285829,5),s=c(s,r,n,i,t[2],4243563512,9),i=c(i,s,r,n,t[7],1735328473,14),r=f(r,n=c(n,i,s,r,t[12],2368359562,20),i,s,t[5],4294588738,4),s=f(s,r,n,i,t[8],2272392833,11),i=f(i,s,r,n,t[11],1839030562,16),n=f(n,i,s,r,t[14],4259657740,23),r=f(r,n,i,s,t[1],2763975236,4),s=f(s,r,n,i,t[4],1272893353,11),i=f(i,s,r,n,t[7],4139469664,16),n=f(n,i,s,r,t[10],3200236656,23),r=f(r,n,i,s,t[13],681279174,4),s=f(s,r,n,i,t[0],3936430074,11),i=f(i,s,r,n,t[3],3572445317,16),n=f(n,i,s,r,t[6],76029189,23),r=f(r,n,i,s,t[9],3654602809,4),s=f(s,r,n,i,t[12],3873151461,11),i=f(i,s,r,n,t[15],530742520,16),r=l(r,n=f(n,i,s,r,t[2],3299628645,23),i,s,t[0],4096336452,6),s=l(s,r,n,i,t[7],1126891415,10),i=l(i,s,r,n,t[14],2878612391,15),n=l(n,i,s,r,t[5],4237533241,21),r=l(r,n,i,s,t[12],1700485571,6),s=l(s,r,n,i,t[3],2399980690,10),i=l(i,s,r,n,t[10],4293915773,15),n=l(n,i,s,r,t[1],2240044497,21),r=l(r,n,i,s,t[8],1873313359,6),s=l(s,r,n,i,t[15],4264355552,10),i=l(i,s,r,n,t[6],2734768916,15),n=l(n,i,s,r,t[13],1309151649,21),r=l(r,n,i,s,t[4],4149444226,6),s=l(s,r,n,i,t[11],3174756917,10),i=l(i,s,r,n,t[2],718787259,15),n=l(n,i,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=s.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},3047:(t,e,r)=>{var n=r(6240),i=r(9931);function s(t){this.rand=t||new i.Rand}t.exports=s,s.create=function(t){return new s(t)},s.prototype._randbelow=function(t){var e=t.bitLength(),r=Math.ceil(e/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(t)>=0);return i},s.prototype._randrange=function(t,e){var r=e.sub(t);return t.add(this._randbelow(r))},s.prototype.test=function(t,e,r){var i=t.bitLength(),s=n.mont(t),o=new n(1).toRed(s);e||(e=Math.max(1,i/48|0));for(var a=t.subn(1),u=0;!a.testn(u);u++);for(var h=t.shrn(u),c=a.toRed(s);e>0;e--){var f=this._randrange(new n(2),a);r&&r(f);var l=f.toRed(s).redPow(h);if(0!==l.cmp(o)&&0!==l.cmp(c)){for(var d=1;d<u;d++){if(0===(l=l.redSqr()).cmp(o))return!1;if(0===l.cmp(c))break}if(d===u)return!1}}return!0},s.prototype.getDivisor=function(t,e){var r=t.bitLength(),i=n.mont(t),s=new n(1).toRed(i);e||(e=Math.max(1,r/48|0));for(var o=t.subn(1),a=0;!o.testn(a);a++);for(var u=t.shrn(a),h=o.toRed(i);e>0;e--){var c=this._randrange(new n(2),o),f=t.gcd(c);if(0!==f.cmpn(1))return f;var l=c.toRed(i).redPow(u);if(0!==l.cmp(s)&&0!==l.cmp(h)){for(var d=1;d<a;d++){if(0===(l=l.redSqr()).cmp(s))return l.fromRed().subn(1).gcd(t);if(0===l.cmp(h))break}if(d===a)return(l=l.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},6240:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6619).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function h(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=n)u=h(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var c=u>>>26,f=67108863&u,l=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=l;d++){var p=h-d|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,u=0|c}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!=(s=a>>>24-i&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,h=new t(s),c=this.clone();if(u){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[a]=o;for(;a<s;a++)h[a]=0}else{for(a=0;a<s-i;a++)h[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[s-a-1]=o}return h},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,h=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,_=v>>>13,M=0|o[4],S=8191&M,k=M>>>13,E=0|o[5],A=8191&E,x=E>>>13,T=0|o[6],I=8191&T,B=T>>>13,R=0|o[7],P=8191&R,O=R>>>13,C=0|o[8],U=8191&C,N=C>>>13,L=0|o[9],q=8191&L,z=L>>>13,D=0|a[0],j=8191&D,H=D>>>13,F=0|a[1],K=8191&F,$=F>>>13,W=0|a[2],V=8191&W,G=W>>>13,J=0|a[3],Z=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,H))+Math.imul(l,j)|0))<<13)|0;h=((s=Math.imul(l,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,H))+Math.imul(m,j)|0,s=Math.imul(m,H);var yt=(h+(n=n+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(l,K)|0))<<13)|0;h=((s=s+Math.imul(l,$)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,H))+Math.imul(b,j)|0,s=Math.imul(b,H),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var bt=(h+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(l,V)|0))<<13)|0;h=((s=s+Math.imul(l,G)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,H))+Math.imul(_,j)|0,s=Math.imul(_,H),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,G)|0;var vt=(h+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,Z)|0))<<13)|0;h=((s=s+Math.imul(l,X)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,j),i=(i=Math.imul(S,H))+Math.imul(k,j)|0,s=Math.imul(k,H),n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var wt=(h+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;h=((s=s+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,H))+Math.imul(x,j)|0,s=Math.imul(x,H),n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(k,K)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(h+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(l,rt)|0))<<13)|0;h=((s=s+Math.imul(l,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,H))+Math.imul(B,j)|0,s=Math.imul(B,H),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(k,V)|0,s=s+Math.imul(k,G)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Mt=(h+(n=n+Math.imul(f,st)|0)|0)+((8191&(i=(i=i+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;h=((s=s+Math.imul(l,ot)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,H))+Math.imul(O,j)|0,s=Math.imul(O,H),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(B,K)|0,s=s+Math.imul(B,$)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,G)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(h+(n=n+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((s=s+Math.imul(l,ht)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,H))+Math.imul(N,j)|0,s=Math.imul(N,H),n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,$)|0,n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ht)|0;var kt=(h+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;h=((s=s+Math.imul(l,lt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(q,j),i=(i=Math.imul(q,H))+Math.imul(z,j)|0,s=Math.imul(z,H),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ht)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ht)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,s=s+Math.imul(m,lt)|0;var Et=(h+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;h=((s=s+Math.imul(l,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(q,K),i=(i=Math.imul(q,$))+Math.imul(z,K)|0,s=Math.imul(z,$),n=n+Math.imul(U,V)|0,i=(i=i+Math.imul(U,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,X)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ht)|0,n=n+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var At=(h+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(q,V),i=(i=Math.imul(q,G))+Math.imul(z,V)|0,s=Math.imul(z,G),n=n+Math.imul(U,Z)|0,i=(i=i+Math.imul(U,X)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,X)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(B,rt)|0,s=s+Math.imul(B,nt)|0,n=n+Math.imul(A,st)|0,i=(i=i+Math.imul(A,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ht)|0)+Math.imul(k,ut)|0,s=s+Math.imul(k,ht)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(_,ft)|0,s=s+Math.imul(_,lt)|0;var xt=(h+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(q,Z),i=(i=Math.imul(q,X))+Math.imul(z,Z)|0,s=Math.imul(z,X),n=n+Math.imul(U,Q)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ht)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ht)|0,n=n+Math.imul(S,ft)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(k,ft)|0,s=s+Math.imul(k,lt)|0;var Tt=(h+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(q,Q),i=(i=Math.imul(q,tt))+Math.imul(z,Q)|0,s=Math.imul(z,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(B,ut)|0,s=s+Math.imul(B,ht)|0,n=n+Math.imul(A,ft)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var It=(h+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;h=((s=s+Math.imul(k,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(q,rt),i=(i=Math.imul(q,nt))+Math.imul(z,rt)|0,s=Math.imul(z,nt),n=n+Math.imul(U,st)|0,i=(i=i+Math.imul(U,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ht)|0,n=n+Math.imul(I,ft)|0,i=(i=i+Math.imul(I,lt)|0)+Math.imul(B,ft)|0,s=s+Math.imul(B,lt)|0;var Bt=(h+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(q,st),i=(i=Math.imul(q,ot))+Math.imul(z,st)|0,s=Math.imul(z,ot),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,ht)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ht)|0,n=n+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ft)|0,s=s+Math.imul(O,lt)|0;var Rt=(h+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(B,pt)|0))<<13)|0;h=((s=s+Math.imul(B,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(q,ut),i=(i=Math.imul(q,ht))+Math.imul(z,ut)|0,s=Math.imul(z,ht),n=n+Math.imul(U,ft)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(N,ft)|0,s=s+Math.imul(N,lt)|0;var Pt=(h+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;h=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(q,ft),i=(i=Math.imul(q,lt))+Math.imul(z,ft)|0,s=Math.imul(z,lt);var Ot=(h+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(h+(n=Math.imul(q,pt))|0)+((8191&(i=(i=Math.imul(q,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((s=Math.imul(z,mt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=gt,u[1]=yt,u[2]=bt,u[3]=vt,u[4]=wt,u[5]=_t,u[6]=Mt,u[7]=St,u[8]=kt,u[9]=Et,u[10]=At,u[11]=xt,u[12]=Tt,u[13]=It,u[14]=Bt,u[15]=Rt,u[16]=Pt,u[17]=Ot,u[18]=Ct,0!==h&&(u[19]=h,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=u;h++){var c=s-h,f=(0|t.words[c])*(0|e.words[h]),l=67108863&f;a=67108863&(l=l+a|0),i+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},g.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var f=u,l=h,d=0;d<o;d++){var p=r[c+d],m=n[c+d],g=r[c+d+o],y=n[c+d+o],b=f*g-l*y;y=f*y+l*g,g=b,r[c+d]=p+g,n[c+d]=m+y,r[c+d+o]=p-g,n[c+d+o]=m-y,d!==a&&(b=u*f-h*l,l=u*l+h*f,f=b)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),c=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,h,n),this.transform(o,s,a,u,n,i),this.transform(h,s,c,f,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,s,n,i),this.conjugate(l,s,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var h=0;h<o;h++)u.words[h]=this.words[h];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=i);h--){var f=0|this.words[h];this.words[h]=c<<26-s|f>>>s,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(l=Math.min(l/o|0,67108863),n._ishlnsubmul(i,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=l)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(h)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},i(v,b),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,b),i(_,b),i(M,b),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,h).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),l=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var h=e.words[n],c=u-1;c>=0;c--){var f=h>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==o?(o<<=1,o|=f,(4==++a||0===n&&0===c)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},i(k,S),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},9746:t=>{function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},4504:(t,e)=>{"use strict";var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}},2818:(t,e,r)=>{"use strict";var n=r(9809);e.certificate=r(1934);var i=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));e.RSAPrivateKey=i;var s=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));e.RSAPublicKey=s;var o=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}));e.PublicKey=o;var a=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=n.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())}));e.PrivateKey=u;var h=n.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));e.EncryptedPrivateKey=h;var c=n.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));e.DSAPrivateKey=c,e.DSAparam=n.define("DSAparam",(function(){this.int()}));var f=n.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(l),this.key("publicKey").optional().explicit(1).bitstr())}));e.ECPrivateKey=f;var l=n.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));e.signature=n.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},1934:(t,e,r)=>{"use strict";var n=r(9809),i=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),s=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),o=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())})),u=n.define("RelativeDistinguishedName",(function(){this.setof(s)})),h=n.define("RDNSequence",(function(){this.seqof(u)})),c=n.define("Name",(function(){this.choice({rdnSequence:this.use(h)})})),f=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),l=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(c),this.key("validity").use(f),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(l).optional())})),p=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())}));t.exports=p},7631:(t,e,r)=>{var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=r(3048),a=r(4696),u=r(9509).Buffer;t.exports=function(t,e){var r,h=t.toString(),c=h.match(n);if(c){var f="aes"+c[1],l=u.from(c[2],"hex"),d=u.from(c[3].replace(/[\r\n]/g,""),"base64"),p=o(e,l.slice(0,8),parseInt(c[1],10)).key,m=[],g=a.createDecipheriv(f,p,l);m.push(g.update(d)),m.push(g.final()),r=u.concat(m)}else{var y=h.match(s);r=u.from(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:h.match(i)[1],data:r}}},980:(t,e,r)=>{var n=r(2818),i=r(2562),s=r(7631),o=r(4696),a=r(5632),u=r(9509).Buffer;function h(t){var e;"object"!=typeof t||u.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=u.from(t));var r,h,c=s(t,e),f=c.tag,l=c.data;switch(f){case"CERTIFICATE":h=n.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(h||(h=n.PublicKey.decode(l,"der")),r=h.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(h.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return h.subjectPrivateKey=h.subjectPublicKey,{type:"ec",data:h};case"1.2.840.10040.4.1":return h.algorithm.params.pub_key=n.DSAparam.decode(h.subjectPublicKey.data,"der"),{type:"dsa",data:h.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":l=function(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=i[t.algorithm.decrypt.cipher.algo.join(".")],h=t.algorithm.decrypt.cipher.iv,c=t.subjectPrivateKey,f=parseInt(s.split("-")[1],10)/8,l=a.pbkdf2Sync(e,r,n,f,"sha1"),d=o.createDecipheriv(s,l,h),p=[];return p.push(d.update(c)),p.push(d.final()),u.concat(p)}(l=n.EncryptedPrivateKey.decode(l,"der"),e);case"PRIVATE KEY":switch(r=(h=n.PrivateKey.decode(l,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(h.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:h.algorithm.curve,privateKey:n.ECPrivateKey.decode(h.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return h.algorithm.params.priv_key=n.DSAparam.decode(h.subjectPrivateKey,"der"),{type:"dsa",params:h.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return{curve:(l=n.ECPrivateKey.decode(l,"der")).parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+f)}}t.exports=h,h.signature=n.signature},5632:(t,e,r)=>{e.pbkdf2=r(8638),e.pbkdf2Sync=r(1257)},8638:(t,e,r)=>{var n,i,s=r(9509).Buffer,o=r(7357),a=r(2368),u=r(1257),h=r(7777),c=r.g.crypto&&r.g.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},l=[];function d(){return i||(i=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function p(t,e,r,n,i){return c.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return c.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},t,n<<3)})).then((function(t){return s.from(t)}))}t.exports=function(t,e,i,m,g,y){"function"==typeof g&&(y=g,g=void 0);var b=f[(g=g||"sha1").toLowerCase()];if(b&&"function"==typeof r.g.Promise){if(o(i,m),t=h(t,a,"Password"),e=h(e,a,"Salt"),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){d()((function(){e(null,t)}))}),(function(t){d()((function(){e(t)}))}))}(function(t){if(r.g.process&&!r.g.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==l[t])return l[t];var e=p(n=n||s.alloc(8),n,10,128,t).then((function(){return!0})).catch((function(){return!1}));return l[t]=e,e}(b).then((function(r){return r?p(t,e,i,m,b):u(t,e,i,m,g)})),y)}else d()((function(){var r;try{r=u(t,e,i,m,g)}catch(t){return y(t)}y(null,r)}))}},2368:(t,e,r)=>{var n,i=r(4155);n=r.g.process&&r.g.process.browser?"utf-8":r.g.process&&r.g.process.version?parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",t.exports=n},7357:t=>{var e=Math.pow(2,30)-1;t.exports=function(t,r){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>e||r!=r)throw new TypeError("Bad key length")}},1257:(t,e,r)=>{var n=r(8028),i=r(9785),s=r(9072),o=r(9509).Buffer,a=r(7357),u=r(2368),h=r(7777),c=o.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function l(t,e,r){var a=function(t){return"rmd160"===t||"ripemd160"===t?function(t){return(new i).update(t).digest()}:"md5"===t?n:function(e){return s(t).update(e).digest()}}(t),u="sha512"===t||"sha384"===t?128:64;e.length>u?e=a(e):e.length<u&&(e=o.concat([e,c],u));for(var h=o.allocUnsafe(u+f[t]),l=o.allocUnsafe(u+f[t]),d=0;d<u;d++)h[d]=54^e[d],l[d]=92^e[d];var p=o.allocUnsafe(u+r+4);h.copy(p,0,0,u),this.ipad1=p,this.ipad2=h,this.opad=l,this.alg=t,this.blocksize=u,this.hash=a,this.size=f[t]}l.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,r,n,i){a(r,n);var s=new l(i=i||"sha1",t=h(t,u,"Password"),(e=h(e,u,"Salt")).length),c=o.allocUnsafe(n),d=o.allocUnsafe(e.length+4);e.copy(d,0,0,e.length);for(var p=0,m=f[i],g=Math.ceil(n/m),y=1;y<=g;y++){d.writeUInt32BE(y,e.length);for(var b=s.run(d,s.ipad1),v=b,w=1;w<r;w++){v=s.run(v,s.ipad2);for(var _=0;_<m;_++)b[_]^=v[_]}b.copy(c,p),p+=m}return c}},7777:(t,e,r)=>{var n=r(9509).Buffer;t.exports=function(t,e,r){if(n.isBuffer(t))return t;if("string"==typeof t)return n.from(t,e);if(ArrayBuffer.isView(t))return n.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},4155:t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var a,u=[],h=!1,c=-1;function f(){h&&a&&(h=!1,a.length?u=a.concat(u):c=-1,u.length&&l())}function l(){if(!h){var t=o(f);h=!0;for(var e=u.length;e;){for(a=u,u=[];++c<e;)a&&a[c].run();c=-1,e=u.length}a=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new d(t,e)),1!==u.length||h||o(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},7900:(t,e,r)=>{e.publicEncrypt=r(6559),e.privateDecrypt=r(6138),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}},9199:(t,e,r)=>{var n=r(3482),i=r(9509).Buffer;function s(t){var e=i.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var r,o=i.alloc(0),a=0;o.length<e;)r=s(a++),o=i.concat([o,n("sha1").update(t).update(r).digest()]);return o.slice(0,e)}},2144:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(7108).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function h(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=n)u=h(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var h=1;h<n;h++){for(var c=u>>>26,f=67108863&u,l=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=l;d++){var p=h-d|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[h]=0|f,u=0|c}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!=(s=a>>>24-i&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,h=new t(s),c=this.clone();if(u){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[a]=o;for(;a<s;a++)h[a]=0}else{for(a=0;a<s-i;a++)h[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),h[s-a-1]=o}return h},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,h=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,_=v>>>13,M=0|o[4],S=8191&M,k=M>>>13,E=0|o[5],A=8191&E,x=E>>>13,T=0|o[6],I=8191&T,B=T>>>13,R=0|o[7],P=8191&R,O=R>>>13,C=0|o[8],U=8191&C,N=C>>>13,L=0|o[9],q=8191&L,z=L>>>13,D=0|a[0],j=8191&D,H=D>>>13,F=0|a[1],K=8191&F,$=F>>>13,W=0|a[2],V=8191&W,G=W>>>13,J=0|a[3],Z=8191&J,X=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,H))+Math.imul(l,j)|0))<<13)|0;h=((s=Math.imul(l,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,H))+Math.imul(m,j)|0,s=Math.imul(m,H);var yt=(h+(n=n+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(l,K)|0))<<13)|0;h=((s=s+Math.imul(l,$)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,H))+Math.imul(b,j)|0,s=Math.imul(b,H),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var bt=(h+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(l,V)|0))<<13)|0;h=((s=s+Math.imul(l,G)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,H))+Math.imul(_,j)|0,s=Math.imul(_,H),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,G)|0;var vt=(h+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,Z)|0))<<13)|0;h=((s=s+Math.imul(l,X)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,j),i=(i=Math.imul(S,H))+Math.imul(k,j)|0,s=Math.imul(k,H),n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var wt=(h+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;h=((s=s+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,H))+Math.imul(x,j)|0,s=Math.imul(x,H),n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(k,K)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(h+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(l,rt)|0))<<13)|0;h=((s=s+Math.imul(l,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,H))+Math.imul(B,j)|0,s=Math.imul(B,H),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(k,V)|0,s=s+Math.imul(k,G)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Mt=(h+(n=n+Math.imul(f,st)|0)|0)+((8191&(i=(i=i+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;h=((s=s+Math.imul(l,ot)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,H))+Math.imul(O,j)|0,s=Math.imul(O,H),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(B,K)|0,s=s+Math.imul(B,$)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,G)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(h+(n=n+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((s=s+Math.imul(l,ht)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,H))+Math.imul(N,j)|0,s=Math.imul(N,H),n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,$)|0,n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,X)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ht)|0;var kt=(h+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;h=((s=s+Math.imul(l,lt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(q,j),i=(i=Math.imul(q,H))+Math.imul(z,j)|0,s=Math.imul(z,H),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,$)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,$)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ht)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ht)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ft)|0,s=s+Math.imul(m,lt)|0;var Et=(h+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(l,pt)|0))<<13)|0;h=((s=s+Math.imul(l,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(q,K),i=(i=Math.imul(q,$))+Math.imul(z,K)|0,s=Math.imul(z,$),n=n+Math.imul(U,V)|0,i=(i=i+Math.imul(U,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,X)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ht)|0,n=n+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var At=(h+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(q,V),i=(i=Math.imul(q,G))+Math.imul(z,V)|0,s=Math.imul(z,G),n=n+Math.imul(U,Z)|0,i=(i=i+Math.imul(U,X)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,X)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(B,rt)|0,s=s+Math.imul(B,nt)|0,n=n+Math.imul(A,st)|0,i=(i=i+Math.imul(A,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ht)|0)+Math.imul(k,ut)|0,s=s+Math.imul(k,ht)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(_,ft)|0,s=s+Math.imul(_,lt)|0;var xt=(h+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((s=s+Math.imul(b,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(q,Z),i=(i=Math.imul(q,X))+Math.imul(z,Z)|0,s=Math.imul(z,X),n=n+Math.imul(U,Q)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ht)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ht)|0,n=n+Math.imul(S,ft)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(k,ft)|0,s=s+Math.imul(k,lt)|0;var Tt=(h+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(q,Q),i=(i=Math.imul(q,tt))+Math.imul(z,Q)|0,s=Math.imul(z,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(B,ut)|0,s=s+Math.imul(B,ht)|0,n=n+Math.imul(A,ft)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var It=(h+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;h=((s=s+Math.imul(k,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(q,rt),i=(i=Math.imul(q,nt))+Math.imul(z,rt)|0,s=Math.imul(z,nt),n=n+Math.imul(U,st)|0,i=(i=i+Math.imul(U,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ht)|0,n=n+Math.imul(I,ft)|0,i=(i=i+Math.imul(I,lt)|0)+Math.imul(B,ft)|0,s=s+Math.imul(B,lt)|0;var Bt=(h+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(q,st),i=(i=Math.imul(q,ot))+Math.imul(z,st)|0,s=Math.imul(z,ot),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,ht)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ht)|0,n=n+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ft)|0,s=s+Math.imul(O,lt)|0;var Rt=(h+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(B,pt)|0))<<13)|0;h=((s=s+Math.imul(B,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(q,ut),i=(i=Math.imul(q,ht))+Math.imul(z,ut)|0,s=Math.imul(z,ht),n=n+Math.imul(U,ft)|0,i=(i=i+Math.imul(U,lt)|0)+Math.imul(N,ft)|0,s=s+Math.imul(N,lt)|0;var Pt=(h+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;h=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(q,ft),i=(i=Math.imul(q,lt))+Math.imul(z,ft)|0,s=Math.imul(z,lt);var Ot=(h+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(h+(n=Math.imul(q,pt))|0)+((8191&(i=(i=Math.imul(q,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((s=Math.imul(z,mt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=gt,u[1]=yt,u[2]=bt,u[3]=vt,u[4]=wt,u[5]=_t,u[6]=Mt,u[7]=St,u[8]=kt,u[9]=Et,u[10]=At,u[11]=xt,u[12]=Tt,u[13]=It,u[14]=Bt,u[15]=Rt,u[16]=Pt,u[17]=Ot,u[18]=Ct,0!==h&&(u[19]=h,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),h=Math.max(0,s-t.length+1);h<=u;h++){var c=s-h,f=(0|t.words[c])*(0|e.words[h]),l=67108863&f;a=67108863&(l=l+a|0),i+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},g.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var f=u,l=h,d=0;d<o;d++){var p=r[c+d],m=n[c+d],g=r[c+d+o],y=n[c+d+o],b=f*g-l*y;y=f*y+l*g,g=b,r[c+d]=p+g,n[c+d]=m+y,r[c+d+o]=p-g,n[c+d+o]=m-y,d!==a&&(b=u*f-h*l,l=u*l+h*f,f=b)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),h=new Array(n),c=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,h,n),this.transform(o,s,a,u,n,i),this.transform(h,s,c,f,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*c[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,s,n,i),this.conjugate(l,s,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var h=0;h<o;h++)u.words[h]=this.words[h];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=i);h--){var f=0|this.words[h];this.words[h]=c<<26-s|f>>>s,c=f&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(l=Math.min(l/o|0,67108863),n._ishlnsubmul(i,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=l)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(h)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},i(v,b),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,b),i(_,b),i(M,b),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,h).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),l=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(f,new s(1).iushln(p-g-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var h=e.words[n],c=u-1;c>=0;c--){var f=h>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==o?(o<<=1,o|=f,(4==++a||0===n&&0===c)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},i(k,S),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},6138:(t,e,r)=>{var n=r(980),i=r(9199),s=r(7859),o=r(2144),a=r(3663),u=r(3482),h=r(4818),c=r(9509).Buffer;t.exports=function(t,e,r){var f;f=t.padding?t.padding:r?1:4;var l,d=n(t),p=d.modulus.byteLength();if(e.length>p||new o(e).cmp(d.modulus)>=0)throw new Error("decryption error");l=r?h(new o(e),d):a(e,d);var m=c.alloc(p-l.length);if(l=c.concat([m,l],p),4===f)return function(t,e){var r=t.modulus.byteLength(),n=u("sha1").update(c.alloc(0)).digest(),o=n.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,o+1),h=e.slice(o+1),f=s(a,i(h,o)),l=s(h,i(f,r-o-1));if(function(t,e){t=c.from(t),e=c.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}(n,l.slice(0,o)))throw new Error("decryption error");for(var d=o;0===l[d];)d++;if(1!==l[d++])throw new Error("decryption error");return l.slice(d)}(d,l);if(1===f)return function(t,e,r){for(var n=e.slice(0,2),i=2,s=0;0!==e[i++];)if(i>=e.length){s++;break}var o=e.slice(2,i-1);if(("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&s++,o.length<8&&s++,s)throw new Error("decryption error");return e.slice(i)}(0,l,r);if(3===f)return l;throw new Error("unknown padding")}},6559:(t,e,r)=>{var n=r(980),i=r(1798),s=r(3482),o=r(9199),a=r(7859),u=r(2144),h=r(4818),c=r(3663),f=r(9509).Buffer;t.exports=function(t,e,r){var l;l=t.padding?t.padding:r?1:4;var d,p=n(t);if(4===l)d=function(t,e){var r=t.modulus.byteLength(),n=e.length,h=s("sha1").update(f.alloc(0)).digest(),c=h.length,l=2*c;if(n>r-l-2)throw new Error("message too long");var d=f.alloc(r-n-l-2),p=r-c-1,m=i(c),g=a(f.concat([h,d,f.alloc(1,1),e],p),o(m,p)),y=a(m,o(g,c));return new u(f.concat([f.alloc(1),y,g],r))}(p,e);else if(1===l)d=function(t,e,r){var n,s=e.length,o=t.modulus.byteLength();if(s>o-11)throw new Error("message too long");return n=r?f.alloc(o-s-3,255):function(t){for(var e,r=f.allocUnsafe(t),n=0,s=i(2*t),o=0;n<t;)o===s.length&&(s=i(2*t),o=0),(e=s[o++])&&(r[n++]=e);return r}(o-s-3),new u(f.concat([f.from([0,r?1:2]),n,f.alloc(1),e],o))}(p,e,r);else{if(3!==l)throw new Error("unknown padding");if((d=new u(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?c(d,p):h(d,p)}},4818:(t,e,r)=>{var n=r(2144),i=r(9509).Buffer;t.exports=function(t,e){return i.from(t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed().toArray())}},7859:t=>{t.exports=function(t,e){for(var r=t.length,n=-1;++n<r;)t[n]^=e[n];return t}},1798:(t,e,r)=>{"use strict";var n=r(4155),i=65536,s=r(9509).Buffer,o=r.g.crypto||r.g.msCrypto;o&&o.getRandomValues?t.exports=function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var r=s.allocUnsafe(t);if(t>0)if(t>i)for(var a=0;a<t;a+=i)o.getRandomValues(r.slice(a,a+i));else o.getRandomValues(r);return"function"==typeof e?n.nextTick((function(){e(null,r)})):r}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},7963:(t,e,r)=>{"use strict";var n=r(4155);function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var s=r(9509),o=r(1798),a=s.Buffer,u=s.kMaxLength,h=r.g.crypto||r.g.msCrypto,c=Math.pow(2,32)-1;function f(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>c||t<0)throw new TypeError("offset must be a uint32");if(t>u||t>e)throw new RangeError("offset out of range")}function l(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>c||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>u)throw new RangeError("buffer too small")}function d(t,e,r,i){if(n.browser){var s=t.buffer,a=new Uint8Array(s,e,r);return h.getRandomValues(a),i?void n.nextTick((function(){i(null,t)})):t}if(!i)return o(r).copy(t,e),t;o(r,(function(r,n){if(r)return i(r);n.copy(t,e),i(null,t)}))}h&&h.getRandomValues||!n.browser?(e.randomFill=function(t,e,n,i){if(!(a.isBuffer(t)||t instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)i=e,e=0,n=t.length;else if("function"==typeof n)i=n,n=t.length-e;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return f(e,t.length),l(n,e,t.length),d(t,e,n,i)},e.randomFillSync=function(t,e,n){if(void 0===e&&(e=0),!(a.isBuffer(t)||t instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return f(e,t.length),void 0===n&&(n=t.length-e),l(n,e,t.length),d(t,e,n)}):(e.randomFill=i,e.randomFillSync=i)},4281:t=>{"use strict";var e={};function r(t,r,n){n||(n=Error);var i=function(t){var e,n;function i(e,n,i){return t.call(this,function(t,e,n){return"string"==typeof r?r:r(t,e,n)}(e,n,i))||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function n(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(t,e,r){var i,s,o,a,u;if("string"==typeof e&&(s="not ",e.substr(0,4)===s)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-9,r)===e}(t," argument"))o="The ".concat(t," ").concat(i," ").concat(n(e,"type"));else{var h=("number"!=typeof u&&(u=0),u+1>(a=t).length||-1===a.indexOf(".",u)?"argument":"property");o='The "'.concat(t,'" ').concat(h," ").concat(i," ").concat(n(e,"type"))}return o+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},6753:(t,e,r)=>{"use strict";var n=r(4155),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=c;var s=r(9481),o=r(4229);r(5717)(c,s);for(var a=i(o.prototype),u=0;u<a.length;u++){var h=a[u];c.prototype[h]||(c.prototype[h]=o.prototype[h])}function c(t){if(!(this instanceof c))return new c(t);s.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(l,this)}function l(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},2725:(t,e,r)=>{"use strict";t.exports=i;var n=r(4605);function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r(5717)(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},9481:(t,e,r)=>{"use strict";var n,i=r(4155);t.exports=E,E.ReadableState=k,r(7187).EventEmitter;var s,o=function(t,e){return t.listeners(e).length},a=r(2503),u=r(8764).Buffer,h=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},c=r(4616);s=c&&c.debuglog?c.debuglog("stream"):function(){};var f,l,d,p=r(7327),m=r(1195),g=r(2457).getHighWaterMark,y=r(4281).q,b=y.ERR_INVALID_ARG_TYPE,v=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,_=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(E,a);var M=m.errorOrDestroy,S=["error","close","destroy","pause","resume"];function k(t,e,i){n=n||r(6753),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=r(2553).s),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function E(t){if(n=n||r(6753),!(this instanceof E))return new E(t);var e=this instanceof n;this._readableState=new k(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function A(t,e,r,n,i){s("readableAddChunk",e);var o,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(s("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?B(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,R(t)))}}(t,a);else if(i||(o=function(t,e){var r,n;return n=e,u.isBuffer(n)||n instanceof h||"string"==typeof e||void 0===e||t.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],e)),r}(a,e)),o)M(t,o);else if(a.objectMode||e&&e.length>0)if("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),n)a.endEmitted?M(t,new _):x(t,a,e,!0);else if(a.ended)M(t,new v);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?x(t,a,e,!1):P(t,a)):x(t,a,e,!1)}else n||(a.reading=!1,P(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function x(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&B(t)),P(t,e)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),E.prototype.destroy=m.destroy,E.prototype._undestroy=m.undestroy,E.prototype._destroy=function(t,e){e(t)},E.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=u.from(t,e),e=""),r=!0),A(this,t,e,!1,r)},E.prototype.unshift=function(t){return A(this,t,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){f||(f=r(2553).s);var e=new f(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=1073741824;function I(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=T?t=T:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function B(t){var e=t._readableState;s("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(s("emitReadable",e.flowing),e.emittedReadable=!0,i.nextTick(R,t))}function R(t){var e=t._readableState;s("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,L(t)}function P(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(O,t,e))}function O(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(s("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function C(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function U(t){s("readable nexttick read 0"),t.read(0)}function N(t,e){s("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(s("flow",e.flowing);e.flowing&&null!==t.read(););}function q(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function z(t){var e=t._readableState;s("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,i.nextTick(D,e,t))}function D(t,e){if(s("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function j(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}E.prototype.read=function(t){s("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return s("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?z(this):B(this),null;if(0===(t=I(t,e))&&e.ended)return 0===e.length&&z(this),null;var n,i=e.needReadable;return s("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&s("length less than watermark",i=!0),e.ended||e.reading?s("reading or ended",i=!1):i&&(s("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=I(r,e))),null===(n=t>0?q(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&z(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(t){M(this,new w("_read()"))},E.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,s("pipe count=%d opts=%j",n.pipesCount,e);var a=e&&!1===e.end||t===i.stdout||t===i.stderr?m:u;function u(){s("onend"),t.end()}n.endEmitted?i.nextTick(a):r.once("end",a),t.on("unpipe",(function e(i,o){s("onunpipe"),i===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,s("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),t.removeListener("drain",h),t.removeListener("error",l),t.removeListener("unpipe",e),r.removeListener("end",u),r.removeListener("end",m),r.removeListener("data",f),c=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}));var h=function(t){return function(){var e=t._readableState;s("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,L(t))}}(r);t.on("drain",h);var c=!1;function f(e){s("ondata");var i=t.write(e);s("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==j(n.pipes,t))&&!c&&(s("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function l(e){s("onerror",e),m(),t.removeListener("error",l),0===o(t,"error")&&M(t,e)}function d(){t.removeListener("finish",p),m()}function p(){s("onfinish"),t.removeListener("close",d),m()}function m(){s("unpipe"),r.unpipe(t)}return r.on("data",f),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",l),t.once("close",d),t.once("finish",p),t.emit("pipe",r),n.flowing||(s("pipe resume"),r.resume()),t},E.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=j(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},E.prototype.on=function(t,e){var r=a.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,s("on readable",n.length,n.reading),n.length?B(this):n.reading||i.nextTick(U,this))),r},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(t,e){var r=a.prototype.removeListener.call(this,t,e);return"readable"===t&&i.nextTick(C,this),r},E.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||i.nextTick(C,this),e},E.prototype.resume=function(){var t=this._readableState;return t.flowing||(s("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(N,t,e))}(this,t)),t.paused=!1,this},E.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(s("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){s("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<S.length;o++)t.on(S[o],this.emit.bind(this,S[o]));return this._read=function(e){s("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=r(5850)),l(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),E._fromList=q,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,e){return void 0===d&&(d=r(5167)),d(E,t,e)})},4605:(t,e,r)=>{"use strict";t.exports=c;var n=r(4281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(6753);function h(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(t){if(!(this instanceof c))return new c(t);u.call(this,t),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function f(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush((function(e,r){l(t,e,r)}))}function l(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;return t.push(null)}r(5717)(c,u),c.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},c.prototype._transform=function(t,e,r){r(new i("_transform()"))},c.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},c.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}},4229:(t,e,r)=>{"use strict";var n,i=r(4155);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(undefined),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=E,E.WritableState=k;var o,a={deprecate:r(4927)},u=r(2503),h=r(8764).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=r(1195),l=r(2457).getHighWaterMark,d=r(4281).q,p=d.ERR_INVALID_ARG_TYPE,m=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,y=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,v=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,M=f.errorOrDestroy;function S(){}function k(t,e,o){n=n||r(6753),t=t||{},"boolean"!=typeof o&&(o=e instanceof n),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=l(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,s=r.writecb;if("function"!=typeof s)throw new g;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,s){--e.pendingcb,r?(i.nextTick(s,n),i.nextTick(R,t,e),t._writableState.errorEmitted=!0,M(t,n)):(s(n),t._writableState.errorEmitted=!0,M(t,n),R(t,e))}(t,r,n,e,s);else{var o=I(r)||t.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||T(t,r),n?i.nextTick(x,t,r,o,s):x(t,r,o,s)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function E(t){var e=this instanceof(n=n||r(6753));if(!e&&!o.call(E,this))return new E(t);this._writableState=new k(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function A(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new b("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function x(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),R(t,e)}function T(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,A(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;r;){var h=r.chunk,c=r.encoding,f=r.callback;if(A(t,e,!1,e.objectMode?1:h.length,h,c,f),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function I(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function B(t,e){t._final((function(r){e.pendingcb--,r&&M(t,r),e.prefinished=!0,t.emit("prefinish"),R(t,e)}))}function R(t,e){var r=I(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,i.nextTick(B,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}r(5717)(E,u),k.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(k.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(t){return!!o.call(this,t)||this===E&&t&&t._writableState instanceof k}})):o=function(t){return t instanceof this},E.prototype.pipe=function(){M(this,new y)},E.prototype.write=function(t,e,r){var n,s=this._writableState,o=!1,a=!s.objectMode&&(n=t,h.isBuffer(n)||n instanceof c);return a&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=s.defaultEncoding),"function"!=typeof r&&(r=S),s.ending?function(t,e){var r=new w;M(t,r),i.nextTick(e,r)}(this,r):(a||function(t,e,r,n){var s;return null===r?s=new v:"string"==typeof r||e.objectMode||(s=new p("chunk",["string","Buffer"],r)),!s||(M(t,s),i.nextTick(n,s),!1)}(this,s,t,r))&&(s.pendingcb++,o=function(t,e,r,n,i,s){if(!r){var o=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,r)),e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else A(t,e,!1,a,n,i,s);return u}(this,s,a,t,e,r)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||T(this,t))},E.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(t,e,r){r(new m("_write()"))},E.prototype._writev=null,E.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,R(t,e),r&&(e.finished?i.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),E.prototype.destroy=f.destroy,E.prototype._undestroy=f.undestroy,E.prototype._destroy=function(t,e){e(t)}},5850:(t,e,r)=>{"use strict";var n,i=r(4155);function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=r(8610),a=Symbol("lastResolve"),u=Symbol("lastReject"),h=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),l=Symbol("handlePromise"),d=Symbol("stream");function p(t,e){return{value:t,done:e}}function m(t){var e=t[a];if(null!==e){var r=t[d].read();null!==r&&(t[f]=null,t[a]=null,t[u]=null,e(p(r,!1)))}}function g(t){i.nextTick(m,t)}var y=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((s(n={get stream(){return this[d]},next:function(){var t=this,e=this[h];if(null!==e)return Promise.reject(e);if(this[c])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(e,r){i.nextTick((function(){t[h]?r(t[h]):e(p(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(t,e){return function(r,n){t.then((function(){e[c]?r(p(void 0,!0)):e[l](r,n)}),n)}}(n,this));else{var s=this[d].read();if(null!==s)return Promise.resolve(p(s,!1));r=new Promise(this[l])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),s(n,"return",(function(){var t=this;return new Promise((function(e,r){t[d].destroy(null,(function(t){t?r(t):e(p(void 0,!0))}))}))})),n),y);t.exports=function(t){var e,r=Object.create(b,(s(e={},d,{value:t,writable:!0}),s(e,a,{value:null,writable:!0}),s(e,u,{value:null,writable:!0}),s(e,h,{value:null,writable:!0}),s(e,c,{value:t._readableState.endEmitted,writable:!0}),s(e,l,{value:function(t,e){var n=r[d].read();n?(r[f]=null,r[a]=null,r[u]=null,t(p(n,!1))):(r[a]=t,r[u]=e)},writable:!0}),e));return r[f]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[u];return null!==e&&(r[f]=null,r[a]=null,r[u]=null,e(t)),void(r[h]=t)}var n=r[a];null!==n&&(r[f]=null,r[a]=null,r[u]=null,n(p(void 0,!0))),r[c]=!0})),t.on("readable",g.bind(null,r)),r}},7327:(t,e,r)=>{"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}var u=r(8764).Buffer,h=r(2361).inspect,c=h&&h.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return u.alloc(0);for(var e,r,n,i=u.allocUnsafe(t>>>0),s=this.head,o=0;s;)e=s.data,r=i,n=o,u.prototype.copy.call(e,r,n),o+=s.data.length,s=s.next;return i}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,s=t>i.length?i.length:t;if(s===i.length?n+=i:n+=i.slice(0,t),0==(t-=s)){s===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=u.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,s=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,s),0==(t-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,e}},{key:c,value:function(t,e){return h(this,i(i({},e),{},{depth:0,customInspect:!1}))}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},1195:(t,e,r)=>{"use strict";var n=r(4155);function i(t,e){o(t,e),s(t)}function s(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(o,this,t)):n.nextTick(o,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?r._writableState?r._writableState.errorEmitted?n.nextTick(s,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,t)):n.nextTick(i,r,t):e?(n.nextTick(s,r),e(t)):n.nextTick(s,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}},8610:(t,e,r)=>{"use strict";var n=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,s){if("function"==typeof r)return t(e,null,r);r||(r={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,u=function(){e.writable||c()},h=e._writableState&&e._writableState.finished,c=function(){a=!1,h=!0,o||s.call(e)},f=e._readableState&&e._readableState.endEmitted,l=function(){o=!1,f=!0,a||s.call(e)},d=function(t){s.call(e,t)},p=function(){var t;return o&&!f?(e._readableState&&e._readableState.ended||(t=new n),s.call(e,t)):a&&!h?(e._writableState&&e._writableState.ended||(t=new n),s.call(e,t)):void 0},m=function(){e.req.on("finish",c)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",c),e.on("abort",p),e.req?m():e.on("request",m)):a&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",l),e.on("finish",c),!1!==r.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",c),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",c),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("end",l),e.removeListener("error",d),e.removeListener("close",p)}}},5167:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(t,e,r)=>{"use strict";var n,i=r(4281).q,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function u(t){t()}function h(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var c,f=function(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var l=e.map((function(t,i){var s=i<e.length-1;return function(t,e,i,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),void 0===n&&(n=r(8610)),n(t,{readable:e,writable:i},(function(t){if(t)return s(t);a=!0,s()}));var u=!1;return function(e){if(!a&&!u)return u=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}(t,s,i>0,(function(t){c||(c=t),t&&l.forEach(u),s||(l.forEach(u),f(c))}))}));return e.reduce(h)}},2457:(t,e,r)=>{"use strict";var n=r(4281).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var s=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}},2503:(t,e,r)=>{t.exports=r(7187).EventEmitter},8473:(t,e,r)=>{(e=t.exports=r(9481)).Stream=e,e.Readable=e,e.Writable=r(4229),e.Duplex=r(6753),e.Transform=r(4605),e.PassThrough=r(2725),e.finished=r(8610),e.pipeline=r(9946)},9353:(t,e,r)=>{t.exports=r(1846)},1846:(t,e,r)=>{var n=r(1960);e.operation=function(t){var r=e.timeouts(t);return new n(r,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},e.timeouts=function(t){if(t instanceof Array)return[].concat(t);var e={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in t)e[r]=t[r];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<e.retries;i++)n.push(this.createTimeout(i,e));return t&&t.forever&&!n.length&&n.push(this.createTimeout(i,e)),n.sort((function(t,e){return t-e})),n},e.createTimeout=function(t,e){var r=e.randomize?Math.random()+1:1,n=Math.round(r*Math.max(e.minTimeout,1)*Math.pow(e.factor,t));return Math.min(n,e.maxTimeout)},e.wrap=function(t,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],t)"function"==typeof t[i]&&n.push(i);for(var s=0;s<n.length;s++){var o=n[s],a=t[o];t[o]=function(n){var i=e.operation(r),s=Array.prototype.slice.call(arguments,1),o=s.pop();s.push((function(t){i.retry(t)||(t&&(arguments[0]=i.mainError()),o.apply(this,arguments))})),i.attempt((function(){n.apply(t,s)}))}.bind(t,a),t[o].options=r}}},1960:t=>{function e(t,e){"boolean"==typeof e&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}t.exports=e,e.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},e.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},e.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=(new Date).getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r),this._options.unref&&this._timer.unref(),!0},e.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},e.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},e.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},e.prototype.start=e.prototype.try,e.prototype.errors=function(){return this._errors},e.prototype.attempts=function(){return this._attempts},e.prototype.mainError=function(){if(0===this._errors.length)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(t[s]||0)+1;t[s]=o,o>=r&&(e=i,r=o)}return e}},9785:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(5717),s=r(3349),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function d(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function m(t,e,r,n,i,s,o,a){return p(t+(e^r^n)+s+o|0,a)+i|0}function g(t,e,r,n,i,s,o,a){return p(t+(e&r|~e&n)+s+o|0,a)+i|0}function y(t,e,r,n,i,s,o,a){return p(t+((e|~r)^n)+s+o|0,a)+i|0}function b(t,e,r,n,i,s,o,a){return p(t+(e&n|r&~n)+s+o|0,a)+i|0}function v(t,e,r,n,i,s,o,a){return p(t+(e^(r|~n))+s+o|0,a)+i|0}i(d,s),d.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,d=0|this._e,w=0|this._a,_=0|this._b,M=0|this._c,S=0|this._d,k=0|this._e,E=0;E<80;E+=1){var A,x;E<16?(A=m(r,n,i,s,d,t[a[E]],f[0],h[E]),x=v(w,_,M,S,k,t[u[E]],l[0],c[E])):E<32?(A=g(r,n,i,s,d,t[a[E]],f[1],h[E]),x=b(w,_,M,S,k,t[u[E]],l[1],c[E])):E<48?(A=y(r,n,i,s,d,t[a[E]],f[2],h[E]),x=y(w,_,M,S,k,t[u[E]],l[2],c[E])):E<64?(A=b(r,n,i,s,d,t[a[E]],f[3],h[E]),x=g(w,_,M,S,k,t[u[E]],l[3],c[E])):(A=v(r,n,i,s,d,t[a[E]],f[4],h[E]),x=m(w,_,M,S,k,t[u[E]],l[4],c[E])),r=d,d=s,s=p(i,10),i=n,n=A,w=k,k=S,S=p(M,10),M=_,_=x}var T=this._b+i+S|0;this._b=this._c+s+k|0,this._c=this._d+d+w|0,this._d=this._e+r+_|0,this._e=this._a+n+M|0,this._a=T},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=n.alloc?n.alloc(20):new n(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=d},6855:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(4836);e.Z=void 0;var s=i(r(4687)),o=i(r(7156)),a=i(r(8698)),u=i(r(6690)),h=i(r(9728)),c=i(r(1655)),f=i(r(4993)),l=i(r(3808)),d=r(6729);var p=function(t){(0,c.default)(y,t);var e,r,i,d,p,m,g=(p=y,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,l.default)(p);if(m){var r=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return(0,f.default)(this,t)});function y(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;(0,u.default)(this,y);var s=n.autoconnect,o=void 0===s||s,a=n.reconnect,h=void 0===a||a,c=n.reconnect_interval,f=void 0===c?1e3:c,l=n.max_reconnects,d=void 0===l?5:l,p=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}(n,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(e=g.call(this)).webSocketFactory=t,e.queue={},e.rpc_id=0,e.address=r,e.autoconnect=o,e.ready=!1,e.reconnect=h,e.reconnect_timer_id=void 0,e.reconnect_interval=f,e.max_reconnects=d,e.rest_options=p,e.current_reconnects=0,e.generate_request_id=i||function(){return++e.rpc_id},e.autoconnect&&e._connect(e.address,Object.assign({autoconnect:e.autoconnect,reconnect:e.reconnect,reconnect_interval:e.reconnect_interval,max_reconnects:e.max_reconnects},e.rest_options)),e}return(0,h.default)(y,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(t,e,r,n){var i=this;return n||"object"!==(0,a.default)(r)||(n=r,r=null),new Promise((function(s,o){if(!i.ready)return o(new Error("socket not ready"));var a=i.generate_request_id(t,e),u={jsonrpc:"2.0",method:t,params:e||null,id:a};i.socket.send(JSON.stringify(u),n,(function(t){if(t)return o(t);i.queue[a]={promise:[s,o]},r&&(i.queue[a].timeout=setTimeout((function(){delete i.queue[a],o(new Error("reply timeout"))}),r))}))}))}},{key:"login",value:(d=(0,o.default)(s.default.mark((function t(e){var r;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("rpc.login",e);case 2:if(r=t.sent){t.next=5;break}throw new Error("authentication failed");case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"listMethods",value:(i=(0,o.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("__listMethods");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"notify",value:function(t,e){var r=this;return new Promise((function(n,i){if(!r.ready)return i(new Error("socket not ready"));var s={jsonrpc:"2.0",method:t,params:e||null};r.socket.send(JSON.stringify(s),(function(t){if(t)return i(t);n()}))}))}},{key:"subscribe",value:(r=(0,o.default)(s.default.mark((function t(e){var r;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.on",e);case 3:if(r=t.sent,"string"!=typeof e||"ok"===r[e]){t.next=6;break}throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"unsubscribe",value:(e=(0,o.default)(s.default.mark((function t(e){var r;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.off",e);case 3:if(r=t.sent,"string"!=typeof e||"ok"===r[e]){t.next=6;break}throw new Error("Failed unsubscribing from an event with: "+r);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"close",value:function(t,e){this.socket.close(t||1e3,e)}},{key:"_connect",value:function(t,e){var r=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",(function(){r.ready=!0,r.emit("open"),r.current_reconnects=0})),this.socket.addEventListener("message",(function(t){var e=t.data;e instanceof ArrayBuffer&&(e=n.from(e).toString());try{e=JSON.parse(e)}catch(t){return}if(e.notification&&r.listeners(e.notification).length){if(!Object.keys(e.params).length)return r.emit(e.notification);var i=[e.notification];if(e.params.constructor===Object)i.push(e.params);else for(var s=0;s<e.params.length;s++)i.push(e.params[s]);return Promise.resolve().then((function(){r.emit.apply(r,i)}))}if(!r.queue[e.id])return e.method&&e.params?Promise.resolve().then((function(){r.emit(e.method,e.params)})):void 0;"error"in e=="result"in e&&r.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),r.queue[e.id].timeout&&clearTimeout(r.queue[e.id].timeout),e.error?r.queue[e.id].promise[1](e.error):r.queue[e.id].promise[0](e.result),delete r.queue[e.id]})),this.socket.addEventListener("error",(function(t){return r.emit("error",t)})),this.socket.addEventListener("close",(function(n){var i=n.code,s=n.reason;r.ready&&setTimeout((function(){return r.emit("close",i,s)}),0),r.ready=!1,r.socket=void 0,1e3!==i&&(r.current_reconnects++,r.reconnect&&(r.max_reconnects>r.current_reconnects||0===r.max_reconnects)&&(r.reconnect_timer_id=setTimeout((function(){return r._connect(t,e)}),r.reconnect_interval)))}))}}]),y}(d.EventEmitter);e.Z=p},9062:(t,e,r)=>{"use strict";var n=r(4836);e.Z=function(t,e){return new h(t,e)};var i=n(r(6690)),s=n(r(9728)),o=n(r(1655)),a=n(r(4993)),u=n(r(3808));var h=function(t){(0,o.default)(h,t);var e,r,n=(e=h,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,u.default)(e);if(r){var i=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function h(t,e,r){var s;return(0,i.default)(this,h),(s=n.call(this)).socket=new window.WebSocket(t,r),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(t){return s.emit("message",t.data)},s.socket.onerror=function(t){return s.emit("error",t)},s.socket.onclose=function(t){s.emit("close",t.code,t.reason)},s}return(0,s.default)(h,[{key:"send",value:function(t,e,r){var n=r||e;try{this.socket.send(t),n()}catch(t){n(t)}}},{key:"close",value:function(t,e){this.socket.close(t,e)}},{key:"addEventListener",value:function(t,e,r){this.socket.addEventListener(t,e,r)}}]),h}(r(6729).EventEmitter)},9509:(t,e,r)=>{var n=r(8764),i=n.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},2399:(t,e,r)=>{"use strict";var n,i=r(4155),s=r(8764),o=s.Buffer,a={};for(n in s)s.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(a[n]=s[n]);var u=a.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(u[n]=o[n]);if(a.Buffer.prototype=o.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(t,e,r){if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&void 0===t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return o(t,e,r)}),u.alloc||(u.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=o(t);return e&&0!==e.length?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n}),!a.kStringMaxLength)try{a.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch(t){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a},7635:function(t){"use strict";!function(e){const r=2147483647;function n(t){const e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,i=1013904242,s=2773480762,o=1359893119,a=2600822924,u=528734635,h=1541459225;const c=new Uint32Array(64);function f(t){let f=0,l=t.length;for(;l>=64;){let d,p,m,g,y,b=r,v=n,w=i,_=s,M=o,S=a,k=u,E=h;for(p=0;p<16;p++)m=f+4*p,c[p]=(255&t[m])<<24|(255&t[m+1])<<16|(255&t[m+2])<<8|255&t[m+3];for(p=16;p<64;p++)d=c[p-2],g=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,d=c[p-15],y=(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,c[p]=(g+c[p-7]|0)+(y+c[p-16]|0)|0;for(p=0;p<64;p++)g=(((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&S^~M&k)|0)+(E+(e[p]+c[p]|0)|0)|0,y=((b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10))+(b&v^b&w^v&w)|0,E=k,k=S,S=M,M=_+g|0,_=w,w=v,v=b,b=g+y|0;r=r+b|0,n=n+v|0,i=i+w|0,s=s+_|0,o=o+M|0,a=a+S|0,u=u+k|0,h=h+E|0,f+=64,l-=64}}f(t);let l,d=t.length%64,p=t.length/536870912|0,m=t.length<<3,g=d<56?56:120,y=t.slice(t.length-d,t.length);for(y.push(128),l=d+1;l<g;l++)y.push(0);return y.push(p>>>24&255),y.push(p>>>16&255),y.push(p>>>8&255),y.push(p>>>0&255),y.push(m>>>24&255),y.push(m>>>16&255),y.push(m>>>8&255),y.push(m>>>0&255),f(y),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,h>>>24&255,h>>>16&255,h>>>8&255,h>>>0&255]}function i(t,e,r){t=t.length<=64?t:n(t);const i=64+e.length+4,s=new Array(i),o=new Array(64);let a,u=[];for(a=0;a<64;a++)s[a]=54;for(a=0;a<t.length;a++)s[a]^=t[a];for(a=0;a<e.length;a++)s[64+a]=e[a];for(a=i-4;a<i;a++)s[a]=0;for(a=0;a<64;a++)o[a]=92;for(a=0;a<t.length;a++)o[a]^=t[a];function h(){for(let t=i-1;t>=i-4;t--){if(s[t]++,s[t]<=255)return;s[t]=0}}for(;r>=32;)h(),u=u.concat(n(o.concat(n(s)))),r-=32;return r>0&&(h(),u=u.concat(n(o.concat(n(s))).slice(0,r))),u}function s(t,e,r,n,i){let s;for(h(t,16*(2*r-1),i,0,16),s=0;s<2*r;s++)u(t,16*s,i,16),a(i,n),h(i,0,t,e+16*s,16);for(s=0;s<r;s++)h(t,e+2*s*16,t,16*s,16);for(s=0;s<r;s++)h(t,e+16*(2*s+1),t,16*(s+r),16)}function o(t,e){return t<<e|t>>>32-e}function a(t,e){h(t,0,e,0,16);for(let t=8;t>0;t-=2)e[4]^=o(e[0]+e[12],7),e[8]^=o(e[4]+e[0],9),e[12]^=o(e[8]+e[4],13),e[0]^=o(e[12]+e[8],18),e[9]^=o(e[5]+e[1],7),e[13]^=o(e[9]+e[5],9),e[1]^=o(e[13]+e[9],13),e[5]^=o(e[1]+e[13],18),e[14]^=o(e[10]+e[6],7),e[2]^=o(e[14]+e[10],9),e[6]^=o(e[2]+e[14],13),e[10]^=o(e[6]+e[2],18),e[3]^=o(e[15]+e[11],7),e[7]^=o(e[3]+e[15],9),e[11]^=o(e[7]+e[3],13),e[15]^=o(e[11]+e[7],18),e[1]^=o(e[0]+e[3],7),e[2]^=o(e[1]+e[0],9),e[3]^=o(e[2]+e[1],13),e[0]^=o(e[3]+e[2],18),e[6]^=o(e[5]+e[4],7),e[7]^=o(e[6]+e[5],9),e[4]^=o(e[7]+e[6],13),e[5]^=o(e[4]+e[7],18),e[11]^=o(e[10]+e[9],7),e[8]^=o(e[11]+e[10],9),e[9]^=o(e[8]+e[11],13),e[10]^=o(e[9]+e[8],18),e[12]^=o(e[15]+e[14],7),e[13]^=o(e[12]+e[15],9),e[14]^=o(e[13]+e[12],13),e[15]^=o(e[14]+e[13],18);for(let r=0;r<16;++r)t[r]+=e[r]}function u(t,e,r,n){for(let i=0;i<n;i++)r[i]^=t[e+i]}function h(t,e,r,n,i){for(;i--;)r[n++]=t[e++]}function c(t){if(!t||"number"!=typeof t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function f(t,e){if("number"!=typeof t||t%1)throw new Error("invalid "+e);return t}function l(t,e,n,o,a,l,d){if(n=f(n,"N"),o=f(o,"r"),a=f(a,"p"),l=f(l,"dkLen"),0===n||0!=(n&n-1))throw new Error("N must be power of 2");if(n>r/128/o)throw new Error("N too large");if(o>r/128/a)throw new Error("r too large");if(!c(t))throw new Error("password must be an array or buffer");if(t=Array.prototype.slice.call(t),!c(e))throw new Error("salt must be an array or buffer");e=Array.prototype.slice.call(e);let p=i(t,e,128*a*o);const m=new Uint32Array(32*a*o);for(let t=0;t<m.length;t++){const e=4*t;m[t]=(255&p[e+3])<<24|(255&p[e+2])<<16|(255&p[e+1])<<8|(255&p[e+0])<<0}const g=new Uint32Array(64*o),y=new Uint32Array(32*o*n),b=32*o,v=new Uint32Array(16),w=new Uint32Array(16),_=a*n*2;let M,S,k=0,E=null,A=!1,x=0,T=0;const I=d?parseInt(1e3/o):4294967295,B="undefined"!=typeof setImmediate?setImmediate:setTimeout,R=function(){if(A)return d(new Error("cancelled"),k/_);let e;switch(x){case 0:S=32*T*o,h(m,S,g,0,b),x=1,M=0;case 1:e=n-M,e>I&&(e=I);for(let t=0;t<e;t++)h(g,0,y,(M+t)*b,b),s(g,b,o,v,w);if(M+=e,k+=e,d){const t=parseInt(1e3*k/_);if(t!==E){if(A=d(null,k/_),A)break;E=t}}if(M<n)break;M=0,x=2;case 2:e=n-M,e>I&&(e=I);for(let t=0;t<e;t++){const t=g[16*(2*o-1)]&n-1;u(y,t*b,g,b),s(g,b,o,v,w)}if(M+=e,k+=e,d){const t=parseInt(1e3*k/_);if(t!==E){if(A=d(null,k/_),A)break;E=t}}if(M<n)break;if(h(g,0,m,S,b),T++,T<a){x=0;break}p=[];for(let t=0;t<m.length;t++)p.push(m[t]>>0&255),p.push(m[t]>>8&255),p.push(m[t]>>16&255),p.push(m[t]>>24&255);const r=i(t,p,l);return d&&d(null,1,r),r}d&&B(R)};if(!d)for(;;){const t=R();if(null!=t)return t}R()}const d={scrypt:function(t,e,r,n,i,s,o){return new Promise((function(a,u){let h=0;o&&o(0),l(t,e,r,n,i,s,(function(t,e,r){if(t)u(t);else if(r)o&&1!==h&&o(1),a(new Uint8Array(r));else if(o&&e!==h)return h=e,o(e)}))}))},syncScrypt:function(t,e,r,n,i,s){return new Uint8Array(l(t,e,r,n,i,s))}};t.exports=d}()},7221:(t,e,r)=>{t.exports=r(9119)(r(8573))},8573:(t,e,r)=>{const n=new(0,r(6266).ec)("secp256k1"),i=n.curve,s=i.n.constructor;function o(t){const e=t[0];switch(e){case 2:case 3:return 33!==t.length?null:function(t,e){let r=new s(e);if(r.cmp(i.p)>=0)return null;r=r.toRed(i.red);let o=r.redSqr().redIMul(r).redIAdd(i.b).redSqrt();return 3===t!==o.isOdd()&&(o=o.redNeg()),n.keyPair({pub:{x:r,y:o}})}(e,t.subarray(1,33));case 4:case 6:case 7:return 65!==t.length?null:function(t,e,r){let o=new s(e),a=new s(r);if(o.cmp(i.p)>=0||a.cmp(i.p)>=0)return null;if(o=o.toRed(i.red),a=a.toRed(i.red),(6===t||7===t)&&a.isOdd()!==(7===t))return null;const u=o.redSqr().redIMul(o);return a.redSqr().redISub(u.redIAdd(i.b)).isZero()?n.keyPair({pub:{x:o,y:a}}):null}(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function a(t,e){const r=e.encode(null,33===t.length);for(let e=0;e<t.length;++e)t[e]=r[e]}t.exports={contextRandomize:()=>0,privateKeyVerify(t){const e=new s(t);return e.cmp(i.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){const e=new s(t),r=i.n.sub(e).umod(i.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){const r=new s(e);if(r.cmp(i.n)>=0)return 1;if(r.iadd(new s(t)),r.cmp(i.n)>=0&&r.isub(i.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},privateKeyTweakMul(t,e){let r=new s(e);if(r.cmp(i.n)>=0||r.isZero())return 1;r.imul(new s(t)),r.cmp(i.n)>=0&&(r=r.umod(i.n));const n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},publicKeyVerify:t=>null===o(t)?1:0,publicKeyCreate(t,e){const r=new s(e);return r.cmp(i.n)>=0||r.isZero()?1:(a(t,n.keyFromPrivate(e).getPublic()),0)},publicKeyConvert(t,e){const r=o(e);return null===r?1:(a(t,r.getPublic()),0)},publicKeyNegate(t,e){const r=o(e);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),a(t,n),0},publicKeyCombine(t,e){const r=new Array(e.length);for(let t=0;t<e.length;++t)if(r[t]=o(e[t]),null===r[t])return 1;let n=r[0].getPublic();for(let t=1;t<r.length;++t)n=n.add(r[t].pub);return n.isInfinity()?2:(a(t,n),0)},publicKeyTweakAdd(t,e,r){const n=o(e);if(null===n)return 1;if((r=new s(r)).cmp(i.n)>=0)return 2;const u=n.getPublic().add(i.g.mul(r));return u.isInfinity()?2:(a(t,u),0)},publicKeyTweakMul(t,e,r){const n=o(e);return null===n?1:(r=new s(r)).cmp(i.n)>=0||r.isZero()?2:(a(t,n.getPublic().mul(r)),0)},signatureNormalize(t){const e=new s(t.subarray(0,32)),r=new s(t.subarray(32,64));return e.cmp(i.n)>=0||r.cmp(i.n)>=0?1:(1===r.cmp(n.nh)&&t.set(i.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){const r=e.subarray(0,32),n=e.subarray(32,64);if(new s(r).cmp(i.n)>=0)return 1;if(new s(n).cmp(i.n)>=0)return 1;const{output:o}=t;let a=o.subarray(4,37);a[0]=0,a.set(r,1);let u=33,h=0;for(;u>1&&0===a[h]&&!(128&a[h+1]);--u,++h);if(a=a.subarray(h),128&a[0])return 1;if(u>1&&0===a[0]&&!(128&a[1]))return 1;let c=o.subarray(39,72);c[0]=0,c.set(n,1);let f=33,l=0;for(;f>1&&0===c[l]&&!(128&c[l+1]);--f,++l);return c=c.subarray(l),128&c[0]||f>1&&0===c[0]&&!(128&c[1])?1:(t.outputlen=6+u+f,o[0]=48,o[1]=t.outputlen-2,o[2]=2,o[3]=a.length,o.set(a,4),o[4+u]=2,o[5+u]=c.length,o.set(c,6+u),0)},signatureImport(t,e){if(e.length<8)return 1;if(e.length>72)return 1;if(48!==e[0])return 1;if(e[1]!==e.length-2)return 1;if(2!==e[2])return 1;const r=e[3];if(0===r)return 1;if(5+r>=e.length)return 1;if(2!==e[4+r])return 1;const n=e[5+r];if(0===n)return 1;if(6+r+n!==e.length)return 1;if(128&e[4])return 1;if(r>1&&0===e[4]&&!(128&e[5]))return 1;if(128&e[r+6])return 1;if(n>1&&0===e[r+6]&&!(128&e[r+7]))return 1;let o=e.subarray(4,4+r);if(33===o.length&&0===o[0]&&(o=o.subarray(1)),o.length>32)return 1;let a=e.subarray(6+r);if(33===a.length&&0===a[0]&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let u=new s(o);u.cmp(i.n)>=0&&(u=new s(0));let h=new s(e.subarray(6+r));return h.cmp(i.n)>=0&&(h=new s(0)),t.set(u.toArrayLike(Uint8Array,"be",32),0),t.set(h.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,o,a){if(a){const t=a;a=n=>{const i=t(e,r,null,o,n);if(!(i instanceof Uint8Array&&32===i.length))throw new Error("This is the way");return new s(i)}}const u=new s(r);if(u.cmp(i.n)>=0||u.isZero())return 1;let h;try{h=n.sign(e,r,{canonical:!0,k:a,pers:o})}catch(t){return 1}return t.signature.set(h.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(h.s.toArrayLike(Uint8Array,"be",32),32),t.recid=h.recoveryParam,0},ecdsaVerify(t,e,r){const a={r:t.subarray(0,32),s:t.subarray(32,64)},u=new s(a.r),h=new s(a.s);if(u.cmp(i.n)>=0||h.cmp(i.n)>=0)return 1;if(1===h.cmp(n.nh)||u.isZero()||h.isZero())return 3;const c=o(r);if(null===c)return 2;const f=c.getPublic();return n.verify(e,a,f)?0:3},ecdsaRecover(t,e,r,o){const u={r:e.slice(0,32),s:e.slice(32,64)},h=new s(u.r),c=new s(u.s);if(h.cmp(i.n)>=0||c.cmp(i.n)>=0)return 1;if(h.isZero()||c.isZero())return 2;let f;try{f=n.recoverPubKey(o,u,r)}catch(t){return 2}return a(t,f),0},ecdh(t,e,r,a,u,h,c){const f=o(e);if(null===f)return 1;const l=new s(r);if(l.cmp(i.n)>=0||l.isZero())return 2;const d=f.getPublic().mul(l);if(void 0===u){const e=d.encode(null,!0),r=n.hash().update(e).digest();for(let e=0;e<32;++e)t[e]=r[e]}else{h||(h=new Uint8Array(32));const e=d.getX().toArray("be",32);for(let t=0;t<32;++t)h[t]=e[t];c||(c=new Uint8Array(32));const r=d.getY().toArray("be",32);for(let t=0;t<32;++t)c[t]=r[t];const n=u(h,c,a);if(!(n instanceof Uint8Array&&n.length===t.length))return 2;t.set(n)}return 0}}},9119:t=>{const e="Impossible case. Please create issue.",r="The tweak was out of range or the resulted private key is invalid",n="The tweak was out of range or equal to zero",i="Public Key could not be parsed",s="Public Key serialization error",o="Signature could not be parsed";function a(t,e){if(!t)throw new Error(e)}function u(t,e,r){if(a(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${t} to be an Uint8Array with length [${r.join(", ")}]`;a(r.includes(e.length),n)}else{const n=`Expected ${t} to be an Uint8Array with length ${r}`;a(e.length===r,n)}}function h(t){a("Boolean"===f(t),"Expected compressed to be a Boolean")}function c(t=(t=>new Uint8Array(t)),e){return"function"==typeof t&&(t=t(e)),u("output",t,e),t}function f(t){return Object.prototype.toString.call(t).slice(8,-1)}t.exports=t=>({contextRandomize(e){if(a(null===e||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==e&&u("seed",e,32),1===t.contextRandomize(e))throw new Error("Unknow error on context randomization")},privateKeyVerify:e=>(u("private key",e,32),0===t.privateKeyVerify(e)),privateKeyNegate(r){switch(u("private key",r,32),t.privateKeyNegate(r)){case 0:return r;case 1:throw new Error(e)}},privateKeyTweakAdd(e,n){switch(u("private key",e,32),u("tweak",n,32),t.privateKeyTweakAdd(e,n)){case 0:return e;case 1:throw new Error(r)}},privateKeyTweakMul(e,r){switch(u("private key",e,32),u("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(n)}},publicKeyVerify:e=>(u("public key",e,[33,65]),0===t.publicKeyVerify(e)),publicKeyCreate(e,r=!0,n){switch(u("private key",e,32),h(r),n=c(n,r?33:65),t.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error("Private Key is invalid");case 2:throw new Error(s)}},publicKeyConvert(e,r=!0,n){switch(u("public key",e,[33,65]),h(r),n=c(n,r?33:65),t.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(i);case 2:throw new Error(s)}},publicKeyNegate(r,n=!0,o){switch(u("public key",r,[33,65]),h(n),o=c(o,n?33:65),t.publicKeyNegate(o,r)){case 0:return o;case 1:throw new Error(i);case 2:throw new Error(e);case 3:throw new Error(s)}},publicKeyCombine(e,r=!0,n){a(Array.isArray(e),"Expected public keys to be an Array"),a(e.length>0,"Expected public keys array will have more than zero items");for(const t of e)u("public key",t,[33,65]);switch(h(r),n=c(n,r?33:65),t.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(i);case 2:throw new Error("The sum of the public keys is not valid");case 3:throw new Error(s)}},publicKeyTweakAdd(e,n,s=!0,o){switch(u("public key",e,[33,65]),u("tweak",n,32),h(s),o=c(o,s?33:65),t.publicKeyTweakAdd(o,e,n)){case 0:return o;case 1:throw new Error(i);case 2:throw new Error(r)}},publicKeyTweakMul(e,r,s=!0,o){switch(u("public key",e,[33,65]),u("tweak",r,32),h(s),o=c(o,s?33:65),t.publicKeyTweakMul(o,e,r)){case 0:return o;case 1:throw new Error(i);case 2:throw new Error(n)}},signatureNormalize(e){switch(u("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(o)}},signatureExport(r,n){u("signature",r,64);const i={output:n=c(n,72),outputlen:72};switch(t.signatureExport(i,r)){case 0:return n.slice(0,i.outputlen);case 1:throw new Error(o);case 2:throw new Error(e)}},signatureImport(r,n){switch(u("signature",r),n=c(n,64),t.signatureImport(n,r)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error(e)}},ecdsaSign(r,n,i={},s){u("message",r,32),u("private key",n,32),a("Object"===f(i),"Expected options to be an Object"),void 0!==i.data&&u("options.data",i.data),void 0!==i.noncefn&&a("Function"===f(i.noncefn),"Expected options.noncefn to be a Function");const o={signature:s=c(s,64),recid:null};switch(t.ecdsaSign(o,r,n,i.data,i.noncefn)){case 0:return o;case 1:throw new Error("The nonce generation function failed, or the private key was invalid");case 2:throw new Error(e)}},ecdsaVerify(e,r,n){switch(u("signature",e,64),u("message",r,32),u("public key",n,[33,65]),t.ecdsaVerify(e,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(o);case 2:throw new Error(i)}},ecdsaRecover(r,n,i,s=!0,l){switch(u("signature",r,64),a("Number"===f(n)&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),u("message",i,32),h(s),l=c(l,s?33:65),t.ecdsaRecover(l,r,n,i)){case 0:return l;case 1:throw new Error(o);case 2:throw new Error("Public key could not be recover");case 3:throw new Error(e)}},ecdh(e,r,n={},s){switch(u("public key",e,[33,65]),u("private key",r,32),a("Object"===f(n),"Expected options to be an Object"),void 0!==n.data&&u("options.data",n.data),void 0!==n.hashfn?(a("Function"===f(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&u("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&u("options.ybuf",n.ybuf,32),u("output",s)):s=c(s,32),t.ecdh(s,e,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return s;case 1:throw new Error(i);case 2:throw new Error("Scalar was invalid (zero or overflow)")}}})},4189:(t,e,r)=>{var n=r(9509).Buffer;function i(t,e){this._block=n.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=n.from(t,e));for(var r=this._block,i=this._blockSize,s=t.length,o=this._len,a=0;a<s;){for(var u=o%i,h=Math.min(s-a,i-u),c=0;c<h;c++)r[u+c]=t[a+c];a+=h,(o+=h)%i==0&&this._update(r)}return this._len+=s,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},9072:(t,e,r)=>{var n=t.exports=function(t){t=t.toLowerCase();var e=n[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};n.sha=r(4448),n.sha1=r(8336),n.sha224=r(8432),n.sha256=r(7499),n.sha384=r(1686),n.sha512=r(7816)},4448:(t,e,r)=>{var n=r(5717),i=r(4189),s=r(9509).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function h(t){return t<<30|t>>>2}function c(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,u=0|this._e,f=0;f<16;++f)r[f]=t.readInt32BE(4*f);for(;f<80;++f)r[f]=r[f-3]^r[f-8]^r[f-14]^r[f-16];for(var l=0;l<80;++l){var d=~~(l/20),p=0|((e=n)<<5|e>>>27)+c(d,i,s,a)+u+r[l]+o[d];u=a,a=s,s=h(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},8336:(t,e,r)=>{var n=r(5717),i=r(4189),s=r(9509).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function h(t){return t<<5|t>>>27}function c(t){return t<<30|t>>>2}function f(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,u=0|this._e,l=0;l<16;++l)r[l]=t.readInt32BE(4*l);for(;l<80;++l)r[l]=(e=r[l-3]^r[l-8]^r[l-14]^r[l-16])<<1|e>>>31;for(var d=0;d<80;++d){var p=~~(d/20),m=h(n)+f(p,i,s,a)+u+r[d]+o[p]|0;u=a,a=s,s=c(i),i=n,n=m}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},8432:(t,e,r)=>{var n=r(5717),i=r(7499),s=r(4189),o=r(9509).Buffer,a=new Array(64);function u(){this.init(),this._w=a,s.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var t=o.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=u},7499:(t,e,r)=>{var n=r(5717),i=r(4189),s=r(9509).Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}function h(t,e,r){return r^t&(e^r)}function c(t,e,r){return t&e|r&(t|e)}function f(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function l(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,u=0|this._e,p=0|this._f,m=0|this._g,g=0|this._h,y=0;y<16;++y)r[y]=t.readInt32BE(4*y);for(;y<64;++y)r[y]=0|(((e=r[y-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[y-7]+d(r[y-15])+r[y-16];for(var b=0;b<64;++b){var v=g+l(u)+h(u,p,m)+o[b]+r[b]|0,w=f(n)+c(n,i,s)|0;g=m,m=p,p=u,u=a+v|0,a=s,s=i,i=n,n=v+w|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},u.prototype._hash=function(){var t=s.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=u},1686:(t,e,r)=>{var n=r(5717),i=r(7816),s=r(4189),o=r(9509).Buffer,a=new Array(160);function u(){this.init(),this._w=a,s.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var t=o.allocUnsafe(48);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=u},7816:(t,e,r)=>{var n=r(5717),i=r(4189),s=r(9509).Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,i.call(this,128,112)}function h(t,e,r){return r^t&(e^r)}function c(t,e,r){return t&e|r&(t|e)}function f(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function l(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function y(t,e){return t>>>0<e>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,s=0|this._dh,a=0|this._eh,u=0|this._fh,b=0|this._gh,v=0|this._hh,w=0|this._al,_=0|this._bl,M=0|this._cl,S=0|this._dl,k=0|this._el,E=0|this._fl,A=0|this._gl,x=0|this._hl,T=0;T<32;T+=2)e[T]=t.readInt32BE(4*T),e[T+1]=t.readInt32BE(4*T+4);for(;T<160;T+=2){var I=e[T-30],B=e[T-30+1],R=d(I,B),P=p(B,I),O=m(I=e[T-4],B=e[T-4+1]),C=g(B,I),U=e[T-14],N=e[T-14+1],L=e[T-32],q=e[T-32+1],z=P+N|0,D=R+U+y(z,P)|0;D=(D=D+O+y(z=z+C|0,C)|0)+L+y(z=z+q|0,q)|0,e[T]=D,e[T+1]=z}for(var j=0;j<160;j+=2){D=e[j],z=e[j+1];var H=c(r,n,i),F=c(w,_,M),K=f(r,w),$=f(w,r),W=l(a,k),V=l(k,a),G=o[j],J=o[j+1],Z=h(a,u,b),X=h(k,E,A),Y=x+V|0,Q=v+W+y(Y,x)|0;Q=(Q=(Q=Q+Z+y(Y=Y+X|0,X)|0)+G+y(Y=Y+J|0,J)|0)+D+y(Y=Y+z|0,z)|0;var tt=$+F|0,et=K+H+y(tt,$)|0;v=b,x=A,b=u,A=E,u=a,E=k,a=s+Q+y(k=S+Y|0,S)|0,s=i,S=M,i=n,M=_,n=r,_=w,r=Q+et+y(w=Y+tt|0,Y)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+M|0,this._dl=this._dl+S|0,this._el=this._el+k|0,this._fl=this._fl+E|0,this._gl=this._gl+A|0,this._hl=this._hl+x|0,this._ah=this._ah+r+y(this._al,w)|0,this._bh=this._bh+n+y(this._bl,_)|0,this._ch=this._ch+i+y(this._cl,M)|0,this._dh=this._dh+s+y(this._dl,S)|0,this._eh=this._eh+a+y(this._el,k)|0,this._fh=this._fh+u+y(this._fl,E)|0,this._gh=this._gh+b+y(this._gl,A)|0,this._hh=this._hh+v+y(this._hl,x)|0},u.prototype._hash=function(){var t=s.allocUnsafe(64);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=u},2830:(t,e,r)=>{t.exports=i;var n=r(7187).EventEmitter;function i(){n.call(this)}r(5717)(i,n),i.Readable=r(9481),i.Writable=r(4229),i.Duplex=r(6753),i.Transform=r(4605),i.PassThrough=r(2725),i.finished=r(8610),i.pipeline=r(9946),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",s),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",u));var o=!1;function a(){o||(o=!0,t.end())}function u(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function h(t){if(c(),0===n.listenerCount(this,"error"))throw t}function c(){r.removeListener("data",i),t.removeListener("drain",s),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",h),t.removeListener("error",h),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("error",h),t.on("error",h),r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t}},2553:(t,e,r)=>{"use strict";var n=r(9509).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=h,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=c,this.end=f,e=3;break;default:return this.write=l,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function c(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function l(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.s=s,s.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},s.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=o(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},1379:(t,e)=>{"use strict";function r(t,e,r){return e<=t&&t<=r}function n(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function i(t){this.tokens=[].slice.call(t)}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var s=-1;function o(t,e){if(t)throw TypeError("Decoder error");return e||65533}var a="utf-8";function u(t,e){if(!(this instanceof u))return new u(t,e);if((t=void 0!==t?String(t).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");e=n(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function h(t,e){if(!(this instanceof h))return new h(t,e);if((t=void 0!==t?String(t).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");e=n(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function c(t){var e=t.fatal,n=0,i=0,a=0,u=128,h=191;this.handler=function(t,c){if(-1===c&&0!==a)return a=0,o(e);if(-1===c)return s;if(0===a){if(r(c,0,127))return c;if(r(c,194,223))a=1,n=c-192;else if(r(c,224,239))224===c&&(u=160),237===c&&(h=159),a=2,n=c-224;else{if(!r(c,240,244))return o(e);240===c&&(u=144),244===c&&(h=143),a=3,n=c-240}return n<<=6*a,null}if(!r(c,u,h))return n=a=i=0,u=128,h=191,t.prepend(c),o(e);if(u=128,h=191,n+=c-128<<6*(a-(i+=1)),i!==a)return null;var f=n;return n=a=i=0,f}}function f(t){t.fatal,this.handler=function(t,e){if(-1===e)return s;if(r(e,0,127))return e;var n,i;r(e,128,2047)?(n=1,i=192):r(e,2048,65535)?(n=2,i=224):r(e,65536,1114111)&&(n=3,i=240);for(var o=[(e>>6*n)+i];n>0;){var a=e>>6*(n-1);o.push(128|63&a),n-=1}return o}}u.prototype={decode:function(t,e){var r;r="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=n(e),this._streaming||(this._decoder=new c({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var o,a=new i(r),u=[];!a.endOfStream()&&(o=this._decoder.handler(a,a.read()))!==s;)null!==o&&(Array.isArray(o)?u.push.apply(u,o):u.push(o));if(!this._streaming){do{if((o=this._decoder.handler(a,a.read()))===s)break;null!==o&&(Array.isArray(o)?u.push.apply(u,o):u.push(o))}while(!a.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return e}(u)}},h.prototype={encode:function(t,e){t=t?String(t):"",e=n(e),this._streaming||(this._encoder=new f(this._options)),this._streaming=Boolean(e.stream);for(var r,o=[],a=new i(function(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=t.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=1023&s,u=1023&o;i.push(65536+(a<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(t));!a.endOfStream()&&(r=this._encoder.handler(a,a.read()))!==s;)Array.isArray(r)?o.push.apply(o,r):o.push(r);if(!this._streaming){for(;(r=this._encoder.handler(a,a.read()))!==s;)Array.isArray(r)?o.push.apply(o,r):o.push(r);this._encoder=null}return new Uint8Array(o)}},e.TextEncoder=h,e.TextDecoder=u},780:(t,e,r)=>{!function(t){"use strict";var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=e(),a=e([1]),u=e([56129,1]),h=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function m(t,e,r,n,i){var s,o=0;for(s=0;s<i;s++)o|=t[e+s]^r[n+s];return(1&o-1>>>8)-1}function g(t,e,r,n){return m(t,e,r,n,16)}function y(t,e,r,n){return m(t,e,r,n,32)}function b(t,e,r,n){!function(t,e,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,h=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,l=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=s,M=o,S=a,k=u,E=h,A=c,x=f,T=l,I=d,B=p,R=m,P=g,O=y,C=b,U=v,N=w,L=0;L<20;L+=2)_^=(i=(O^=(i=(I^=(i=(E^=(i=_+O|0)<<7|i>>>25)+_|0)<<9|i>>>23)+E|0)<<13|i>>>19)+I|0)<<18|i>>>14,A^=(i=(M^=(i=(C^=(i=(B^=(i=A+M|0)<<7|i>>>25)+A|0)<<9|i>>>23)+B|0)<<13|i>>>19)+C|0)<<18|i>>>14,R^=(i=(x^=(i=(S^=(i=(U^=(i=R+x|0)<<7|i>>>25)+R|0)<<9|i>>>23)+U|0)<<13|i>>>19)+S|0)<<18|i>>>14,N^=(i=(P^=(i=(T^=(i=(k^=(i=N+P|0)<<7|i>>>25)+N|0)<<9|i>>>23)+k|0)<<13|i>>>19)+T|0)<<18|i>>>14,_^=(i=(k^=(i=(S^=(i=(M^=(i=_+k|0)<<7|i>>>25)+_|0)<<9|i>>>23)+M|0)<<13|i>>>19)+S|0)<<18|i>>>14,A^=(i=(E^=(i=(T^=(i=(x^=(i=A+E|0)<<7|i>>>25)+A|0)<<9|i>>>23)+x|0)<<13|i>>>19)+T|0)<<18|i>>>14,R^=(i=(B^=(i=(I^=(i=(P^=(i=R+B|0)<<7|i>>>25)+R|0)<<9|i>>>23)+P|0)<<13|i>>>19)+I|0)<<18|i>>>14,N^=(i=(U^=(i=(C^=(i=(O^=(i=N+U|0)<<7|i>>>25)+N|0)<<9|i>>>23)+O|0)<<13|i>>>19)+C|0)<<18|i>>>14;_=_+s|0,M=M+o|0,S=S+a|0,k=k+u|0,E=E+h|0,A=A+c|0,x=x+f|0,T=T+l|0,I=I+d|0,B=B+p|0,R=R+m|0,P=P+g|0,O=O+y|0,C=C+b|0,U=U+v|0,N=N+w|0,t[0]=_>>>0&255,t[1]=_>>>8&255,t[2]=_>>>16&255,t[3]=_>>>24&255,t[4]=M>>>0&255,t[5]=M>>>8&255,t[6]=M>>>16&255,t[7]=M>>>24&255,t[8]=S>>>0&255,t[9]=S>>>8&255,t[10]=S>>>16&255,t[11]=S>>>24&255,t[12]=k>>>0&255,t[13]=k>>>8&255,t[14]=k>>>16&255,t[15]=k>>>24&255,t[16]=E>>>0&255,t[17]=E>>>8&255,t[18]=E>>>16&255,t[19]=E>>>24&255,t[20]=A>>>0&255,t[21]=A>>>8&255,t[22]=A>>>16&255,t[23]=A>>>24&255,t[24]=x>>>0&255,t[25]=x>>>8&255,t[26]=x>>>16&255,t[27]=x>>>24&255,t[28]=T>>>0&255,t[29]=T>>>8&255,t[30]=T>>>16&255,t[31]=T>>>24&255,t[32]=I>>>0&255,t[33]=I>>>8&255,t[34]=I>>>16&255,t[35]=I>>>24&255,t[36]=B>>>0&255,t[37]=B>>>8&255,t[38]=B>>>16&255,t[39]=B>>>24&255,t[40]=R>>>0&255,t[41]=R>>>8&255,t[42]=R>>>16&255,t[43]=R>>>24&255,t[44]=P>>>0&255,t[45]=P>>>8&255,t[46]=P>>>16&255,t[47]=P>>>24&255,t[48]=O>>>0&255,t[49]=O>>>8&255,t[50]=O>>>16&255,t[51]=O>>>24&255,t[52]=C>>>0&255,t[53]=C>>>8&255,t[54]=C>>>16&255,t[55]=C>>>24&255,t[56]=U>>>0&255,t[57]=U>>>8&255,t[58]=U>>>16&255,t[59]=U>>>24&255,t[60]=N>>>0&255,t[61]=N>>>8&255,t[62]=N>>>16&255,t[63]=N>>>24&255}(t,e,r,n)}function v(t,e,r,n){!function(t,e,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,h=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,l=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=0;_<20;_+=2)s^=(i=(y^=(i=(d^=(i=(h^=(i=s+y|0)<<7|i>>>25)+s|0)<<9|i>>>23)+h|0)<<13|i>>>19)+d|0)<<18|i>>>14,c^=(i=(o^=(i=(b^=(i=(p^=(i=c+o|0)<<7|i>>>25)+c|0)<<9|i>>>23)+p|0)<<13|i>>>19)+b|0)<<18|i>>>14,m^=(i=(f^=(i=(a^=(i=(v^=(i=m+f|0)<<7|i>>>25)+m|0)<<9|i>>>23)+v|0)<<13|i>>>19)+a|0)<<18|i>>>14,w^=(i=(g^=(i=(l^=(i=(u^=(i=w+g|0)<<7|i>>>25)+w|0)<<9|i>>>23)+u|0)<<13|i>>>19)+l|0)<<18|i>>>14,s^=(i=(u^=(i=(a^=(i=(o^=(i=s+u|0)<<7|i>>>25)+s|0)<<9|i>>>23)+o|0)<<13|i>>>19)+a|0)<<18|i>>>14,c^=(i=(h^=(i=(l^=(i=(f^=(i=c+h|0)<<7|i>>>25)+c|0)<<9|i>>>23)+f|0)<<13|i>>>19)+l|0)<<18|i>>>14,m^=(i=(p^=(i=(d^=(i=(g^=(i=m+p|0)<<7|i>>>25)+m|0)<<9|i>>>23)+g|0)<<13|i>>>19)+d|0)<<18|i>>>14,w^=(i=(v^=(i=(b^=(i=(y^=(i=w+v|0)<<7|i>>>25)+w|0)<<9|i>>>23)+y|0)<<13|i>>>19)+b|0)<<18|i>>>14;t[0]=s>>>0&255,t[1]=s>>>8&255,t[2]=s>>>16&255,t[3]=s>>>24&255,t[4]=c>>>0&255,t[5]=c>>>8&255,t[6]=c>>>16&255,t[7]=c>>>24&255,t[8]=m>>>0&255,t[9]=m>>>8&255,t[10]=m>>>16&255,t[11]=m>>>24&255,t[12]=w>>>0&255,t[13]=w>>>8&255,t[14]=w>>>16&255,t[15]=w>>>24&255,t[16]=f>>>0&255,t[17]=f>>>8&255,t[18]=f>>>16&255,t[19]=f>>>24&255,t[20]=l>>>0&255,t[21]=l>>>8&255,t[22]=l>>>16&255,t[23]=l>>>24&255,t[24]=d>>>0&255,t[25]=d>>>8&255,t[26]=d>>>16&255,t[27]=d>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}(t,e,r,n)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function _(t,e,r,n,i,s,o){var a,u,h=new Uint8Array(16),c=new Uint8Array(64);for(u=0;u<16;u++)h[u]=0;for(u=0;u<8;u++)h[u]=s[u];for(;i>=64;){for(b(c,h,o,w),u=0;u<64;u++)t[e+u]=r[n+u]^c[u];for(a=1,u=8;u<16;u++)a=a+(255&h[u])|0,h[u]=255&a,a>>>=8;i-=64,e+=64,n+=64}if(i>0)for(b(c,h,o,w),u=0;u<i;u++)t[e+u]=r[n+u]^c[u];return 0}function M(t,e,r,n,i){var s,o,a=new Uint8Array(16),u=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=n[o];for(;r>=64;){for(b(u,a,i,w),o=0;o<64;o++)t[e+o]=u[o];for(s=1,o=8;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;r-=64,e+=64}if(r>0)for(b(u,a,i,w),o=0;o<r;o++)t[e+o]=u[o];return 0}function S(t,e,r,n,i){var s=new Uint8Array(32);v(s,n,i,w);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=n[a+16];return M(t,e,r,o,s)}function k(t,e,r,n,i,s,o){var a=new Uint8Array(32);v(a,s,o,w);for(var u=new Uint8Array(8),h=0;h<8;h++)u[h]=s[h+16];return _(t,e,r,n,i,u,a)}var E=function(t){var e,r,n,i,s,o,a,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|i<<9),s=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,o=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(s>>>14|o<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(o>>>11|a<<5),u=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function A(t,e,r,n,i,s){var o=new E(s);return o.update(r,n,i),o.finish(t,e),0}function x(t,e,r,n,i,s){var o=new Uint8Array(16);return A(o,0,r,n,i,s),g(t,e,o,0)}function T(t,e,r,n,i){var s;if(r<32)return-1;for(k(t,0,e,0,r,n,i),A(t,16,t,32,r-32,t),s=0;s<16;s++)t[s]=0;return 0}function I(t,e,r,n,i){var s,o=new Uint8Array(32);if(r<32)return-1;if(S(o,0,32,n,i),0!==x(e,16,e,32,r-32,o))return-1;for(k(t,0,e,0,r,n,i),s=0;s<32;s++)t[s]=0;return 0}function B(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function R(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function P(t,e,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(t[s]^e[s]),t[s]^=n,e[s]^=n}function O(t,r){var n,i,s,o=e(),a=e();for(n=0;n<16;n++)a[n]=r[n];for(R(a),R(a),R(a),i=0;i<2;i++){for(o[0]=a[0]-65517,n=1;n<15;n++)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,P(a,o,1-s)}for(n=0;n<16;n++)t[2*n]=255&a[n],t[2*n+1]=a[n]>>8}function C(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return O(r,t),O(n,e),y(r,0,n,0)}function U(t){var e=new Uint8Array(32);return O(e,t),1&e[0]}function N(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function L(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function q(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function z(t,e,r){var n,i,s=0,o=0,a=0,u=0,h=0,c=0,f=0,l=0,d=0,p=0,m=0,g=0,y=0,b=0,v=0,w=0,_=0,M=0,S=0,k=0,E=0,A=0,x=0,T=0,I=0,B=0,R=0,P=0,O=0,C=0,U=0,N=r[0],L=r[1],q=r[2],z=r[3],D=r[4],j=r[5],H=r[6],F=r[7],K=r[8],$=r[9],W=r[10],V=r[11],G=r[12],J=r[13],Z=r[14],X=r[15];s+=(n=e[0])*N,o+=n*L,a+=n*q,u+=n*z,h+=n*D,c+=n*j,f+=n*H,l+=n*F,d+=n*K,p+=n*$,m+=n*W,g+=n*V,y+=n*G,b+=n*J,v+=n*Z,w+=n*X,o+=(n=e[1])*N,a+=n*L,u+=n*q,h+=n*z,c+=n*D,f+=n*j,l+=n*H,d+=n*F,p+=n*K,m+=n*$,g+=n*W,y+=n*V,b+=n*G,v+=n*J,w+=n*Z,_+=n*X,a+=(n=e[2])*N,u+=n*L,h+=n*q,c+=n*z,f+=n*D,l+=n*j,d+=n*H,p+=n*F,m+=n*K,g+=n*$,y+=n*W,b+=n*V,v+=n*G,w+=n*J,_+=n*Z,M+=n*X,u+=(n=e[3])*N,h+=n*L,c+=n*q,f+=n*z,l+=n*D,d+=n*j,p+=n*H,m+=n*F,g+=n*K,y+=n*$,b+=n*W,v+=n*V,w+=n*G,_+=n*J,M+=n*Z,S+=n*X,h+=(n=e[4])*N,c+=n*L,f+=n*q,l+=n*z,d+=n*D,p+=n*j,m+=n*H,g+=n*F,y+=n*K,b+=n*$,v+=n*W,w+=n*V,_+=n*G,M+=n*J,S+=n*Z,k+=n*X,c+=(n=e[5])*N,f+=n*L,l+=n*q,d+=n*z,p+=n*D,m+=n*j,g+=n*H,y+=n*F,b+=n*K,v+=n*$,w+=n*W,_+=n*V,M+=n*G,S+=n*J,k+=n*Z,E+=n*X,f+=(n=e[6])*N,l+=n*L,d+=n*q,p+=n*z,m+=n*D,g+=n*j,y+=n*H,b+=n*F,v+=n*K,w+=n*$,_+=n*W,M+=n*V,S+=n*G,k+=n*J,E+=n*Z,A+=n*X,l+=(n=e[7])*N,d+=n*L,p+=n*q,m+=n*z,g+=n*D,y+=n*j,b+=n*H,v+=n*F,w+=n*K,_+=n*$,M+=n*W,S+=n*V,k+=n*G,E+=n*J,A+=n*Z,x+=n*X,d+=(n=e[8])*N,p+=n*L,m+=n*q,g+=n*z,y+=n*D,b+=n*j,v+=n*H,w+=n*F,_+=n*K,M+=n*$,S+=n*W,k+=n*V,E+=n*G,A+=n*J,x+=n*Z,T+=n*X,p+=(n=e[9])*N,m+=n*L,g+=n*q,y+=n*z,b+=n*D,v+=n*j,w+=n*H,_+=n*F,M+=n*K,S+=n*$,k+=n*W,E+=n*V,A+=n*G,x+=n*J,T+=n*Z,I+=n*X,m+=(n=e[10])*N,g+=n*L,y+=n*q,b+=n*z,v+=n*D,w+=n*j,_+=n*H,M+=n*F,S+=n*K,k+=n*$,E+=n*W,A+=n*V,x+=n*G,T+=n*J,I+=n*Z,B+=n*X,g+=(n=e[11])*N,y+=n*L,b+=n*q,v+=n*z,w+=n*D,_+=n*j,M+=n*H,S+=n*F,k+=n*K,E+=n*$,A+=n*W,x+=n*V,T+=n*G,I+=n*J,B+=n*Z,R+=n*X,y+=(n=e[12])*N,b+=n*L,v+=n*q,w+=n*z,_+=n*D,M+=n*j,S+=n*H,k+=n*F,E+=n*K,A+=n*$,x+=n*W,T+=n*V,I+=n*G,B+=n*J,R+=n*Z,P+=n*X,b+=(n=e[13])*N,v+=n*L,w+=n*q,_+=n*z,M+=n*D,S+=n*j,k+=n*H,E+=n*F,A+=n*K,x+=n*$,T+=n*W,I+=n*V,B+=n*G,R+=n*J,P+=n*Z,O+=n*X,v+=(n=e[14])*N,w+=n*L,_+=n*q,M+=n*z,S+=n*D,k+=n*j,E+=n*H,A+=n*F,x+=n*K,T+=n*$,I+=n*W,B+=n*V,R+=n*G,P+=n*J,O+=n*Z,C+=n*X,w+=(n=e[15])*N,o+=38*(M+=n*q),a+=38*(S+=n*z),u+=38*(k+=n*D),h+=38*(E+=n*j),c+=38*(A+=n*H),f+=38*(x+=n*F),l+=38*(T+=n*K),d+=38*(I+=n*$),p+=38*(B+=n*W),m+=38*(R+=n*V),g+=38*(P+=n*G),y+=38*(O+=n*J),b+=38*(C+=n*Z),v+=38*(U+=n*X),s=(n=(s+=38*(_+=n*L))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=(s+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=u,t[4]=h,t[5]=c,t[6]=f,t[7]=l,t[8]=d,t[9]=p,t[10]=m,t[11]=g,t[12]=y,t[13]=b,t[14]=v,t[15]=w}function D(t,e){z(t,e,e)}function j(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)D(i,i),2!==n&&4!==n&&z(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}function H(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)D(i,i),1!==n&&z(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}function F(t,r,n){var i,s,o=new Uint8Array(32),a=new Float64Array(80),h=e(),c=e(),f=e(),l=e(),d=e(),p=e();for(s=0;s<31;s++)o[s]=r[s];for(o[31]=127&r[31]|64,o[0]&=248,N(a,n),s=0;s<16;s++)c[s]=a[s],l[s]=h[s]=f[s]=0;for(h[0]=l[0]=1,s=254;s>=0;--s)P(h,c,i=o[s>>>3]>>>(7&s)&1),P(f,l,i),L(d,h,f),q(h,h,f),L(f,c,l),q(c,c,l),D(l,d),D(p,h),z(h,f,h),z(f,c,d),L(d,h,f),q(h,h,f),D(c,h),q(f,l,p),z(h,f,u),L(h,h,l),z(f,f,h),z(h,l,p),z(l,c,a),D(c,d),P(h,c,i),P(f,l,i);for(s=0;s<16;s++)a[s+16]=h[s],a[s+32]=f[s],a[s+48]=c[s],a[s+64]=l[s];var m=a.subarray(32),g=a.subarray(16);return j(m,m),z(g,g,m),O(t,g),0}function K(t,e){return F(t,e,s)}function $(t,e){return n(e,32),K(t,e)}function W(t,e,r){var n=new Uint8Array(32);return F(n,r,e),v(t,i,n,w)}E.prototype.blocks=function(t,e,r){for(var n,i,s,o,a,u,h,c,f,l,d,p,m,g,y,b,v,w,_,M=this.fin?0:2048,S=this.h[0],k=this.h[1],E=this.h[2],A=this.h[3],x=this.h[4],T=this.h[5],I=this.h[6],B=this.h[7],R=this.h[8],P=this.h[9],O=this.r[0],C=this.r[1],U=this.r[2],N=this.r[3],L=this.r[4],q=this.r[5],z=this.r[6],D=this.r[7],j=this.r[8],H=this.r[9];r>=16;)l=f=0,l+=(S+=8191&(n=255&t[e+0]|(255&t[e+1])<<8))*O,l+=(k+=8191&(n>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*H),l+=(E+=8191&(i>>>10|(s=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*j),l+=(A+=8191&(s>>>7|(o=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*D),f=(l+=(x+=8191&(o>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*z))>>>13,l&=8191,l+=(T+=a>>>1&8191)*(5*q),l+=(I+=8191&(a>>>14|(u=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*L),l+=(B+=8191&(u>>>11|(h=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*N),l+=(R+=8191&(h>>>8|(c=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*U),d=f+=(l+=(P+=c>>>5|M)*(5*C))>>>13,d+=S*C,d+=k*O,d+=E*(5*H),d+=A*(5*j),f=(d+=x*(5*D))>>>13,d&=8191,d+=T*(5*z),d+=I*(5*q),d+=B*(5*L),d+=R*(5*N),f+=(d+=P*(5*U))>>>13,d&=8191,p=f,p+=S*U,p+=k*C,p+=E*O,p+=A*(5*H),f=(p+=x*(5*j))>>>13,p&=8191,p+=T*(5*D),p+=I*(5*z),p+=B*(5*q),p+=R*(5*L),m=f+=(p+=P*(5*N))>>>13,m+=S*N,m+=k*U,m+=E*C,m+=A*O,f=(m+=x*(5*H))>>>13,m&=8191,m+=T*(5*j),m+=I*(5*D),m+=B*(5*z),m+=R*(5*q),g=f+=(m+=P*(5*L))>>>13,g+=S*L,g+=k*N,g+=E*U,g+=A*C,f=(g+=x*O)>>>13,g&=8191,g+=T*(5*H),g+=I*(5*j),g+=B*(5*D),g+=R*(5*z),y=f+=(g+=P*(5*q))>>>13,y+=S*q,y+=k*L,y+=E*N,y+=A*U,f=(y+=x*C)>>>13,y&=8191,y+=T*O,y+=I*(5*H),y+=B*(5*j),y+=R*(5*D),b=f+=(y+=P*(5*z))>>>13,b+=S*z,b+=k*q,b+=E*L,b+=A*N,f=(b+=x*U)>>>13,b&=8191,b+=T*C,b+=I*O,b+=B*(5*H),b+=R*(5*j),v=f+=(b+=P*(5*D))>>>13,v+=S*D,v+=k*z,v+=E*q,v+=A*L,f=(v+=x*N)>>>13,v&=8191,v+=T*U,v+=I*C,v+=B*O,v+=R*(5*H),w=f+=(v+=P*(5*j))>>>13,w+=S*j,w+=k*D,w+=E*z,w+=A*q,f=(w+=x*L)>>>13,w&=8191,w+=T*N,w+=I*U,w+=B*C,w+=R*O,_=f+=(w+=P*(5*H))>>>13,_+=S*H,_+=k*j,_+=E*D,_+=A*z,f=(_+=x*q)>>>13,_&=8191,_+=T*L,_+=I*N,_+=B*U,_+=R*C,S=l=8191&(f=(f=((f+=(_+=P*O)>>>13)<<2)+f|0)+(l&=8191)|0),k=d+=f>>>=13,E=p&=8191,A=m&=8191,x=g&=8191,T=y&=8191,I=b&=8191,B=v&=8191,R=w&=8191,P=_&=8191,e+=16,r-=16;this.h[0]=S,this.h[1]=k,this.h[2]=E,this.h[3]=A,this.h[4]=x,this.h[5]=T,this.h[6]=I,this.h[7]=B,this.h[8]=R,this.h[9]=P},E.prototype.finish=function(t,e){var r,n,i,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|o[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,s=1;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},E.prototype.update=function(t,e,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(t,e,i),e+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var V=T,G=I,J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(t,e,r,n){for(var i,s,o,a,u,h,c,f,l,d,p,m,g,y,b,v,w,_,M,S,k,E,A,x,T,I,B=new Int32Array(16),R=new Int32Array(16),P=t[0],O=t[1],C=t[2],U=t[3],N=t[4],L=t[5],q=t[6],z=t[7],D=e[0],j=e[1],H=e[2],F=e[3],K=e[4],$=e[5],W=e[6],V=e[7],G=0;n>=128;){for(M=0;M<16;M++)S=8*M+G,B[M]=r[S+0]<<24|r[S+1]<<16|r[S+2]<<8|r[S+3],R[M]=r[S+4]<<24|r[S+5]<<16|r[S+6]<<8|r[S+7];for(M=0;M<80;M++)if(i=P,s=O,o=C,a=U,u=N,h=L,c=q,l=D,d=j,p=H,m=F,g=K,y=$,b=W,A=65535&(E=V),x=E>>>16,T=65535&(k=z),I=k>>>16,A+=65535&(E=(K>>>14|N<<18)^(K>>>18|N<<14)^(N>>>9|K<<23)),x+=E>>>16,T+=65535&(k=(N>>>14|K<<18)^(N>>>18|K<<14)^(K>>>9|N<<23)),I+=k>>>16,A+=65535&(E=K&$^~K&W),x+=E>>>16,T+=65535&(k=N&L^~N&q),I+=k>>>16,k=J[2*M],A+=65535&(E=J[2*M+1]),x+=E>>>16,T+=65535&k,I+=k>>>16,k=B[M%16],x+=(E=R[M%16])>>>16,T+=65535&k,I+=k>>>16,T+=(x+=(A+=65535&E)>>>16)>>>16,A=65535&(E=_=65535&A|x<<16),x=E>>>16,T=65535&(k=w=65535&T|(I+=T>>>16)<<16),I=k>>>16,A+=65535&(E=(D>>>28|P<<4)^(P>>>2|D<<30)^(P>>>7|D<<25)),x+=E>>>16,T+=65535&(k=(P>>>28|D<<4)^(D>>>2|P<<30)^(D>>>7|P<<25)),I+=k>>>16,x+=(E=D&j^D&H^j&H)>>>16,T+=65535&(k=P&O^P&C^O&C),I+=k>>>16,f=65535&(T+=(x+=(A+=65535&E)>>>16)>>>16)|(I+=T>>>16)<<16,v=65535&A|x<<16,A=65535&(E=m),x=E>>>16,T=65535&(k=a),I=k>>>16,x+=(E=_)>>>16,T+=65535&(k=w),I+=k>>>16,O=i,C=s,U=o,N=a=65535&(T+=(x+=(A+=65535&E)>>>16)>>>16)|(I+=T>>>16)<<16,L=u,q=h,z=c,P=f,j=l,H=d,F=p,K=m=65535&A|x<<16,$=g,W=y,V=b,D=v,M%16==15)for(S=0;S<16;S++)k=B[S],A=65535&(E=R[S]),x=E>>>16,T=65535&k,I=k>>>16,k=B[(S+9)%16],A+=65535&(E=R[(S+9)%16]),x+=E>>>16,T+=65535&k,I+=k>>>16,w=B[(S+1)%16],A+=65535&(E=((_=R[(S+1)%16])>>>1|w<<31)^(_>>>8|w<<24)^(_>>>7|w<<25)),x+=E>>>16,T+=65535&(k=(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7),I+=k>>>16,w=B[(S+14)%16],x+=(E=((_=R[(S+14)%16])>>>19|w<<13)^(w>>>29|_<<3)^(_>>>6|w<<26))>>>16,T+=65535&(k=(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6),I+=k>>>16,I+=(T+=(x+=(A+=65535&E)>>>16)>>>16)>>>16,B[S]=65535&T|I<<16,R[S]=65535&A|x<<16;A=65535&(E=D),x=E>>>16,T=65535&(k=P),I=k>>>16,k=t[0],x+=(E=e[0])>>>16,T+=65535&k,I+=k>>>16,I+=(T+=(x+=(A+=65535&E)>>>16)>>>16)>>>16,t[0]=P=65535&T|I<<16,e[0]=D=65535&A|x<<16,A=65535&(E=j),x=E>>>16,T=65535&(k=O),I=k>>>16,k=t[1],x+=(E=e[1])>>>16,T+=65535&k,I+=k>>>16,I+=(T+=(x+=(A+=65535&E)>>>16)>>>16)>>>16,t[1]=O=65535&T|I<<16,e[1]=j=65535&A|x<<16,A=65535&(E=H),x=E>>>16,T=65535&(k=C),I=k>>>16,k=t[2],x+=(E=e[2])>>>16,T+=65535&k,I+=k>>>16,I+=(T+=(x+=(A+=65535&E)>>>16)>>>16)>>>16,t[2]=C=65535&T|I<<16,e[2]=H=65535&A|x<<16,A=65535&(E=F),x=E>>>16,T=65535&(k=U),I=k>>>16,k=t[3],x+=(E=e[3])>>>16,T+=65535&k,I+=k>>>16,I+=(T+=(x+=(A+=65535&E)>>>16)>>>16)>>>16,t[3]=U=65535&T|I<<16,e[3]=F=65535&A|x<<16,A=65535&(E=K),x=E>>>16,T=65535&(k=N),I=k>>>16,k=t[4],x+=(E=e[4])>>>16,T+=65535&k,I+=k>>>16,I+=(T+=(x+=(A+=65535&E)>>>16)>>>16)>>>16,t[4]=N=65535&T|I<<16,e[4]=K=65535&A|x<<16,A=65535&(E=$),x=E>>>16,T=65535&(k=L),I=k>>>16,k=t[5],x+=(E=e[5])>>>16,T+=65535&k,I+=k>>>16,I+=(T+=(x+=(A+=65535&E)>>>16)>>>16)>>>16,t[5]=L=65535&T|I<<16,e[5]=$=65535&A|x<<16,A=65535&(E=W),x=E>>>16,T=65535&(k=q),I=k>>>16,k=t[6],x+=(E=e[6])>>>16,T+=65535&k,I+=k>>>16,I+=(T+=(x+=(A+=65535&E)>>>16)>>>16)>>>16,t[6]=q=65535&T|I<<16,e[6]=W=65535&A|x<<16,A=65535&(E=V),x=E>>>16,T=65535&(k=z),I=k>>>16,k=t[7],x+=(E=e[7])>>>16,T+=65535&k,I+=k>>>16,I+=(T+=(x+=(A+=65535&E)>>>16)>>>16)>>>16,t[7]=z=65535&T|I<<16,e[7]=V=65535&A|x<<16,G+=128,n-=128}return n}function X(t,e,r){var n,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,Z(i,s,e,r),r%=128,n=0;n<r;n++)o[n]=e[a-r+n];for(o[r]=128,o[(r=256-128*(r<112?1:0))-9]=0,p(o,r-8,a/536870912|0,a<<3),Z(i,s,o,r),n=0;n<8;n++)p(t,8*n,i[n],s[n]);return 0}function Y(t,r){var n=e(),i=e(),s=e(),o=e(),a=e(),u=e(),h=e(),f=e(),l=e();q(n,t[1],t[0]),q(l,r[1],r[0]),z(n,n,l),L(i,t[0],t[1]),L(l,r[0],r[1]),z(i,i,l),z(s,t[3],r[3]),z(s,s,c),z(o,t[2],r[2]),L(o,o,o),q(a,i,n),q(u,o,s),L(h,o,s),L(f,i,n),z(t[0],a,u),z(t[1],f,h),z(t[2],h,u),z(t[3],a,f)}function Q(t,e,r){var n;for(n=0;n<4;n++)P(t[n],e[n],r)}function tt(t,r){var n=e(),i=e(),s=e();j(s,r[2]),z(n,r[0],s),z(i,r[1],s),O(t,i),t[31]^=U(n)<<7}function et(t,e,r){var n,i;for(B(t[0],o),B(t[1],a),B(t[2],a),B(t[3],o),i=255;i>=0;--i)Q(t,e,n=r[i/8|0]>>(7&i)&1),Y(e,t),Y(t,t),Q(t,e,n)}function rt(t,r){var n=[e(),e(),e(),e()];B(n[0],f),B(n[1],l),B(n[2],a),z(n[3],f,l),et(t,n,r)}function nt(t,r,i){var s,o=new Uint8Array(64),a=[e(),e(),e(),e()];for(i||n(r,32),X(o,r,32),o[0]&=248,o[31]&=127,o[31]|=64,rt(a,o),tt(t,a),s=0;s<32;s++)r[s+32]=t[s];return 0}var it=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function st(t,e){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*it[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*it[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*it[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function ot(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;st(t,r)}function at(t,r,n,i){var s,o,a=new Uint8Array(64),u=new Uint8Array(64),h=new Uint8Array(64),c=new Float64Array(64),f=[e(),e(),e(),e()];X(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var l=n+64;for(s=0;s<n;s++)t[64+s]=r[s];for(s=0;s<32;s++)t[32+s]=a[32+s];for(X(h,t.subarray(32),n+32),ot(h),rt(f,h),tt(t,f),s=32;s<64;s++)t[s]=i[s];for(X(u,t,n+64),ot(u),s=0;s<64;s++)c[s]=0;for(s=0;s<32;s++)c[s]=h[s];for(s=0;s<32;s++)for(o=0;o<32;o++)c[s+o]+=u[s]*a[o];return st(t.subarray(32),c),l}function ut(t,r,n,i){var s,u=new Uint8Array(32),c=new Uint8Array(64),f=[e(),e(),e(),e()],l=[e(),e(),e(),e()];if(n<64)return-1;if(function(t,r){var n=e(),i=e(),s=e(),u=e(),c=e(),f=e(),l=e();return B(t[2],a),N(t[1],r),D(s,t[1]),z(u,s,h),q(s,s,t[2]),L(u,t[2],u),D(c,u),D(f,c),z(l,f,c),z(n,l,s),z(n,n,u),H(n,n),z(n,n,s),z(n,n,u),z(n,n,u),z(t[0],n,u),D(i,t[0]),z(i,i,u),C(i,s)&&z(t[0],t[0],d),D(i,t[0]),z(i,i,u),C(i,s)?-1:(U(t[0])===r[31]>>7&&q(t[0],o,t[0]),z(t[3],t[0],t[1]),0)}(l,i))return-1;for(s=0;s<n;s++)t[s]=r[s];for(s=0;s<32;s++)t[s+32]=i[s];if(X(c,t,n),ot(c),et(f,l,c),rt(l,r.subarray(32)),Y(f,l),tt(u,f),n-=64,y(r,0,u,0)){for(s=0;s<n;s++)t[s]=0;return-1}for(s=0;s<n;s++)t[s]=r[s+64];return n}var ht=64,ct=32,ft=64;function lt(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function dt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:k,crypto_stream:S,crypto_stream_salsa20_xor:_,crypto_stream_salsa20:M,crypto_onetimeauth:A,crypto_onetimeauth_verify:x,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:T,crypto_secretbox_open:I,crypto_scalarmult:F,crypto_scalarmult_base:K,crypto_box_beforenm:W,crypto_box_afternm:V,crypto_box:function(t,e,r,n,i,s){var o=new Uint8Array(32);return W(o,i,s),V(t,e,r,n,o)},crypto_box_open:function(t,e,r,n,i,s){var o=new Uint8Array(32);return W(o,i,s),G(t,e,r,n,o)},crypto_box_keypair:$,crypto_hash:X,crypto_sign:at,crypto_sign_keypair:nt,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ht,crypto_sign_PUBLICKEYBYTES:ct,crypto_sign_SECRETKEYBYTES:ft,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:h,L:it,pack25519:O,unpack25519:N,M:z,A:L,S:D,Z:q,pow2523:H,add:Y,set25519:B,modL:st,scalarmult:et,scalarbase:rt},t.randomBytes=function(t){var e=new Uint8Array(t);return n(e,t),e},t.secretbox=function(t,e,r){dt(t,e,r),lt(r,e);for(var n=new Uint8Array(32+t.length),i=new Uint8Array(n.length),s=0;s<t.length;s++)n[s+32]=t[s];return T(i,n,n.length,e,r),i.subarray(16)},t.secretbox.open=function(t,e,r){dt(t,e,r),lt(r,e);for(var n=new Uint8Array(16+t.length),i=new Uint8Array(n.length),s=0;s<t.length;s++)n[s+16]=t[s];return n.length<32||0!==I(i,n,n.length,e,r)?null:i.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(dt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var r=new Uint8Array(32);return F(r,t,e),r},t.scalarMult.base=function(t){if(dt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return K(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,i){var s=t.box.before(n,i);return t.secretbox(e,r,s)},t.box.before=function(t,e){dt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return W(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,i){var s=t.box.before(n,i);return t.secretbox.open(e,r,s)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return $(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(dt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return K(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(dt(t,e),e.length!==ft)throw new Error("bad secret key size");var r=new Uint8Array(ht+t.length);return at(r,t,t.length,e),r},t.sign.open=function(t,e){if(dt(t,e),e.length!==ct)throw new Error("bad public key size");var r=new Uint8Array(t.length),n=ut(r,t,t.length,e);if(n<0)return null;for(var i=new Uint8Array(n),s=0;s<i.length;s++)i[s]=r[s];return i},t.sign.detached=function(e,r){for(var n=t.sign(e,r),i=new Uint8Array(ht),s=0;s<i.length;s++)i[s]=n[s];return i},t.sign.detached.verify=function(t,e,r){if(dt(t,e,r),e.length!==ht)throw new Error("bad signature size");if(r.length!==ct)throw new Error("bad public key size");var n,i=new Uint8Array(ht+t.length),s=new Uint8Array(ht+t.length);for(n=0;n<ht;n++)i[n]=e[n];for(n=0;n<t.length;n++)i[n+ht]=t[n];return ut(s,i,i.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(ct),e=new Uint8Array(ft);return nt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(dt(t),t.length!==ft)throw new Error("bad secret key size");for(var e=new Uint8Array(ct),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(dt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(ct),r=new Uint8Array(ft),n=0;n<32;n++)r[n]=t[n];return nt(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=ct,t.sign.secretKeyLength=ft,t.sign.seedLength=32,t.sign.signatureLength=ht,t.hash=function(t){dt(t);var e=new Uint8Array(64);return X(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return dt(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===m(t,0,e,0,t.length)},t.setPRNG=function(t){n=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&e.getRandomValues?t.setPRNG((function(t,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)e.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)t[n]=i[n];pt(i)})):(e=r(5835))&&e.randomBytes&&t.setPRNG((function(t,r){var n,i=e.randomBytes(r);for(n=0;n<r;n++)t[n]=i[n];pt(i)}))}()}(t.exports?t.exports:self.nacl=self.nacl||{})},4927:(t,e,r)=>{function n(t){try{if(!r.g.localStorage)return!1}catch(t){return!1}var e=r.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}},4608:(t,e,r)=>{"use strict";var n;r.d(e,{v4:()=>c});var i=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=[],u=0;u<256;++u)a.push((u+256).toString(16).substr(1));const h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]).toLowerCase();if(!function(t){return"string"==typeof t&&o.test(t)}(r))throw TypeError("Stringified UUID is invalid");return r},c=function(t,e,r){var n=(t=t||{}).random||(t.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return h(n)}},950:()=>{},6601:()=>{},8623:()=>{},7748:()=>{},5568:()=>{},6619:()=>{},7108:()=>{},2361:()=>{},4616:()=>{},6115:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},7156:t=>{function e(t,e,r,n,i,s,o){try{var a=t[s](o),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,i)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(i,s){var o=t.apply(r,n);function a(t){e(o,i,s,a,u,"next",t)}function u(t){e(o,i,s,a,u,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},6690:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},9728:(t,e,r)=>{var n=r(4062);function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,n(i.key),i)}}t.exports=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},3808:t=>{function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},1655:(t,e,r)=>{var n=r(6015);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},4836:t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},4993:(t,e,r)=>{var n=r(8698).default,i=r(6115);t.exports=function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},7061:(t,e,r)=>{var n=r(8698).default;function i(){"use strict";t.exports=i=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var e,r={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},u="function"==typeof Symbol?Symbol:{},h=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(e){l=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var i=e&&e.prototype instanceof w?e:w,s=Object.create(i.prototype),o=new O(n||[]);return a(s,"_invoke",{value:I(t,r,o)}),s}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=d;var m="suspendedStart",g="suspendedYield",y="executing",b="completed",v={};function w(){}function _(){}function M(){}var S={};l(S,h,(function(){return this}));var k=Object.getPrototypeOf,E=k&&k(k(C([])));E&&E!==s&&o.call(E,h)&&(S=E);var A=M.prototype=w.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,s,a,u){var h=p(t[i],t,s);if("throw"!==h.type){var c=h.arg,f=c.value;return f&&"object"==n(f)&&o.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,u)}))}u(h.arg)}var i;a(this,"_invoke",{value:function(t,n){function s(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(s,s):s()}})}function I(t,r,n){var i=m;return function(s,o){if(i===y)throw new Error("Generator is already running");if(i===b){if("throw"===s)throw o;return{value:e,done:!0}}for(n.method=s,n.arg=o;;){var a=n.delegate;if(a){var u=B(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===m)throw i=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=y;var h=p(t,r,n);if("normal"===h.type){if(i=n.done?b:g,h.arg===v)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(i=b,n.method="throw",n.arg=h.arg)}}}function B(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,B(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var s=p(i,t.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,v;var o=s.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[h];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}throw new TypeError(n(t)+" is not iterable")}return _.prototype=M,a(A,"constructor",{value:M,configurable:!0}),a(M,"constructor",{value:_,configurable:!0}),_.displayName=l(M,f,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,M):(t.__proto__=M,l(t,f,"GeneratorFunction")),t.prototype=Object.create(A),t},r.awrap=function(t){return{__await:t}},x(T.prototype),l(T.prototype,c,(function(){return this})),r.AsyncIterator=T,r.async=function(t,e,n,i,s){void 0===s&&(s=Promise);var o=new T(d(t,e,n,i),s);return r.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(A),l(A,f,"Generator"),l(A,h,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return a.type="throw",a.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var u=o.call(s,"catchLoc"),h=o.call(s,"finallyLoc");if(u&&h){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},r}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},6015:t=>{function e(r,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},5036:(t,e,r)=>{var n=r(8698).default;t.exports=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},4062:(t,e,r)=>{var n=r(8698).default,i=r(5036);t.exports=function(t){var e=i(t,"string");return"symbol"===n(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},8698:t=>{function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},4687:(t,e,r)=>{var n=r(7061)();t.exports=n;try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},4946:t=>{"use strict";t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},5207:t=>{"use strict";t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},1308:t=>{"use strict";t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},9799:t=>{"use strict";t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},8597:t=>{"use strict";t.exports={i8:"6.5.4"}},2562:t=>{"use strict";t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdO={},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},getProto=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,__webpack_require__.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var r=Object.create(null);__webpack_require__.r(r);var n={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&e&&t;"object"==typeof i&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach((e=>n[e]=()=>t[e]));return n.default=()=>t,__webpack_require__.d(r,n),r},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WebIrys:()=>qS,default:()=>zS});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{arToWinston:()=>Nr,b64UrlDecode:()=>Cr,b64UrlEncode:()=>Or,b64UrlToBuffer:()=>Br,b64UrlToString:()=>Ar,bufferToString:()=>xr,bufferTob64:()=>Rr,bufferTob64Url:()=>Pr,concatBuffers:()=>Er,stringToB64Url:()=>Ir,stringToBuffer:()=>Tr,winstonToAr:()=>Ur});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{AVSCTap:()=>Su,AlgorandSigner:()=>Za,AptosSigner:()=>ru,ArconnectSigner:()=>du,Arweave:()=>dn,ArweaveSigner:()=>Rn,Bundle:()=>Pu,BundleItem:()=>ju,CryptoDriver:()=>mn,Curve25519:()=>Sr,DataItem:()=>Tu,EthereumSigner:()=>Wa,HexInjectedSolanaSigner:()=>Ya,HexSolanaSigner:()=>tu,InjectedAptosSigner:()=>iu,InjectedEthereumSigner:()=>xa,InjectedSolanaSigner:()=>On,InjectedTypedEthereumSigner:()=>lu,MAX_TAG_BYTES:()=>xu,MIN_BINARY_SIZE:()=>Au,MultiSignatureAptosSigner:()=>ou,NearSigner:()=>Ga,PolygonSigner:()=>Va,Rsa4096:()=>vn,SIG_CONFIG:()=>Re,SignatureConfig:()=>Be,Signer:()=>Ie,SolanaSigner:()=>Ia,TypedEthereumSigner:()=>uu,bundleAndSignData:()=>Nu,byteArrayToLong:()=>_u,concatBuffers:()=>Er,createData:()=>Du,deepHash:()=>qr,deserializeTags:()=>Eu,exportForTesting:()=>Ha,getCryptoDriver:()=>yn,getSignatureAndId:()=>Lu,indexToType:()=>pu,keccak256:()=>Oa,longTo16ByteArray:()=>vu,longTo32ByteArray:()=>wu,longTo8ByteArray:()=>yu,longToNByteArray:()=>gu,secp256k1:()=>Ka,serializeTags:()=>ku,shortTo2ByteArray:()=>bu,sign:()=>qu,stringToBuffer:()=>Tr,unbundleData:()=>Uu});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{default:()=>Vu,processStream:()=>Fu,streamExportForTesting:()=>Gu,streamSigner:()=>Ku});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{Arweave:()=>dn,DataItem:()=>Tu,bundleAndSignData:()=>Nu,createData:()=>Du,deepHash:()=>qr,getCryptoDriver:()=>yn,stringToBuffer:()=>Tr});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{dQ:()=>mc,ci:()=>oc,bytesToNumberBE:()=>hc,ty:()=>cc,eV:()=>pc,n$:()=>bc,ql:()=>dc,hexToBytes:()=>uc,tL:()=>fc,S5:()=>lc,FF:()=>wc});const s=()=>{throw new Error("Unimplemented")};function o(t,e){return function(){return t.apply(e,arguments)}}globalThis.crypto??={},globalThis.crypto.subtle??={},globalThis.crypto.subtle.generateKey??=s,globalThis.crypto.subtle.importKey??=s,globalThis.crypto.subtle.exportKey??=s,globalThis.crypto.subtle.digest??=s,globalThis.crypto.subtle.sign??=s;const{toString:a}=Object.prototype,{getPrototypeOf:u}=Object,h=(c=Object.create(null),t=>{const e=a.call(t);return c[e]||(c[e]=e.slice(8,-1).toLowerCase())});var c;const f=t=>(t=t.toLowerCase(),e=>h(e)===t),l=t=>e=>typeof e===t,{isArray:d}=Array,p=l("undefined"),m=f("ArrayBuffer"),g=l("string"),y=l("function"),b=l("number"),v=t=>null!==t&&"object"==typeof t,w=t=>{if("object"!==h(t))return!1;const e=u(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},_=f("Date"),M=f("File"),S=f("Blob"),k=f("FileList"),E=f("URLSearchParams");function A(t,e,{allOwnKeys:r=!1}={}){if(null==t)return;let n,i;if("object"!=typeof t&&(t=[t]),d(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let o;for(n=0;n<s;n++)o=i[n],e.call(null,t[o],o,t)}}function x(t,e){e=e.toLowerCase();const r=Object.keys(t);let n,i=r.length;for(;i-- >0;)if(n=r[i],e===n.toLowerCase())return n;return null}const T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,I=t=>!p(t)&&t!==T,B=(R="undefined"!=typeof Uint8Array&&u(Uint8Array),t=>R&&t instanceof R);var R;const P=f("HTMLFormElement"),O=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),C=f("RegExp"),U=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};A(r,((r,i)=>{let s;!1!==(s=e(r,i,t))&&(n[i]=s||r)})),Object.defineProperties(t,n)},N="abcdefghijklmnopqrstuvwxyz",L="0123456789",q={DIGIT:L,ALPHA:N,ALPHA_DIGIT:N+N.toUpperCase()+L},z=f("AsyncFunction"),D={isArray:d,isArrayBuffer:m,isBuffer:function(t){return null!==t&&!p(t)&&null!==t.constructor&&!p(t.constructor)&&y(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||y(t.append)&&("formdata"===(e=h(t))||"object"===e&&y(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&m(t.buffer),e},isString:g,isNumber:b,isBoolean:t=>!0===t||!1===t,isObject:v,isPlainObject:w,isUndefined:p,isDate:_,isFile:M,isBlob:S,isRegExp:C,isFunction:y,isStream:t=>v(t)&&y(t.pipe),isURLSearchParams:E,isTypedArray:B,isFileList:k,forEach:A,merge:function t(){const{caseless:e}=I(this)&&this||{},r={},n=(n,i)=>{const s=e&&x(r,i)||i;w(r[s])&&w(n)?r[s]=t(r[s],n):w(n)?r[s]=t({},n):d(n)?r[s]=n.slice():r[s]=n};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&A(arguments[t],n);return r},extend:(t,e,r,{allOwnKeys:n}={})=>(A(e,((e,n)=>{r&&y(e)?t[n]=o(e,r):t[n]=e}),{allOwnKeys:n}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject:(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],n&&!n(o,t,e)||a[o]||(e[o]=t[o],a[o]=!0);t=!1!==r&&u(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:h,kindOfTest:f,endsWith:(t,e,r)=>{t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return-1!==n&&n===r},toArray:t=>{if(!t)return null;if(d(t))return t;let e=t.length;if(!b(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},forEachEntry:(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=r.next())&&!n.done;){const r=n.value;e.call(t,r[0],r[1])}},matchAll:(t,e)=>{let r;const n=[];for(;null!==(r=t.exec(e));)n.push(r);return n},isHTMLForm:P,hasOwnProperty:O,hasOwnProp:O,reduceDescriptors:U,freezeMethods:t=>{U(t,((e,r)=>{if(y(t)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=t[r];y(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(t,e)=>{const r={},n=t=>{t.forEach((t=>{r[t]=!0}))};return d(t)?n(t):n(String(t).split(e)),r},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,r){return e.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:x,global:T,isContextDefined:I,ALPHABET:q,generateString:(t=16,e=q.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r},isSpecCompliantForm:function(t){return!!(t&&y(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),r=(t,n)=>{if(v(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[n]=t;const i=d(t)?[]:{};return A(t,((t,e)=>{const s=r(t,n+1);!p(s)&&(i[e]=s)})),e[n]=void 0,i}}return t};return r(t,0)},isAsyncFn:z,isThenable:t=>t&&(v(t)||y(t))&&y(t.then)&&y(t.catch)};function j(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}D.inherits(j,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const H=j.prototype,F={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{F[t]={value:t}})),Object.defineProperties(j,F),Object.defineProperty(H,"isAxiosError",{value:!0}),j.from=(t,e,r,n,i,s)=>{const o=Object.create(H);return D.toFlatObject(t,o,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),j.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const K=j;var $=__webpack_require__(8764).Buffer;function W(t){return D.isPlainObject(t)||D.isArray(t)}function V(t){return D.endsWith(t,"[]")?t.slice(0,-2):t}function G(t,e,r){return t?t.concat(e).map((function(t,e){return t=V(t),!r&&e?"["+t+"]":t})).join(r?".":""):e}const J=D.toFlatObject(D,{},null,(function(t){return/^is[A-Z]/.test(t)})),Z=function(t,e,r){if(!D.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const n=(r=D.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!D.isUndefined(e[t])}))).metaTokens,i=r.visitor||h,s=r.dots,o=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(i))throw new TypeError("visitor must be a function");function u(t){if(null===t)return"";if(D.isDate(t))return t.toISOString();if(!a&&D.isBlob(t))throw new K("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(t)||D.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):$.from(t):t}function h(t,r,i){let a=t;if(t&&!i&&"object"==typeof t)if(D.endsWith(r,"{}"))r=n?r:r.slice(0,-2),t=JSON.stringify(t);else if(D.isArray(t)&&function(t){return D.isArray(t)&&!t.some(W)}(t)||(D.isFileList(t)||D.endsWith(r,"[]"))&&(a=D.toArray(t)))return r=V(r),a.forEach((function(t,n){!D.isUndefined(t)&&null!==t&&e.append(!0===o?G([r],n,s):null===o?r:r+"[]",u(t))})),!1;return!!W(t)||(e.append(G(i,r,s),u(t)),!1)}const c=[],f=Object.assign(J,{defaultVisitor:h,convertValue:u,isVisitable:W});if(!D.isObject(t))throw new TypeError("data must be an object");return function t(r,n){if(!D.isUndefined(r)){if(-1!==c.indexOf(r))throw Error("Circular reference detected in "+n.join("."));c.push(r),D.forEach(r,(function(r,s){!0===(!(D.isUndefined(r)||null===r)&&i.call(e,r,D.isString(s)?s.trim():s,n,f))&&t(r,n?n.concat(s):[s])})),c.pop()}}(t),e};function X(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Y(t,e){this._pairs=[],t&&Z(t,this,e)}const Q=Y.prototype;Q.append=function(t,e){this._pairs.push([t,e])},Q.toString=function(t){const e=t?function(e){return t.call(this,e,X)}:X;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const tt=Y;function et(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rt(t,e,r){if(!e)return t;const n=r&&r.encode||et,i=r&&r.serialize;let s;if(s=i?i(e,r):D.isURLSearchParams(e)?e.toString():new tt(e,r).toString(n),s){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}const nt=class{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},it={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},st={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:tt,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]},ot=function(t){function e(t,r,n,i){let s=t[i++];const o=Number.isFinite(+s),a=i>=t.length;return s=!s&&D.isArray(n)?n.length:s,a?(D.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!o):(n[s]&&D.isObject(n[s])||(n[s]=[]),e(t,r,n[s],i)&&D.isArray(n[s])&&(n[s]=function(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}(n[s])),!o)}if(D.isFormData(t)&&D.isFunction(t.entries)){const r={};return D.forEachEntry(t,((t,n)=>{e(function(t){return D.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),n,r,0)})),r}return null},at={transitional:it,adapter:st.isNode?"http":"xhr",transformRequest:[function(t,e){const r=e.getContentType()||"",n=r.indexOf("application/json")>-1,i=D.isObject(t);if(i&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return n&&n?JSON.stringify(ot(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Z(t,new st.classes.URLSearchParams,Object.assign({visitor:function(t,e,r,n){return st.isNode&&D.isBuffer(t)?(this.append(e,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((s=D.isFileList(t))||r.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Z(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||n?(e.setContentType("application/json",!1),function(t,e,r){if(D.isString(t))try{return(0,JSON.parse)(t),D.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||at.transitional,r=e&&e.forcedJSONParsing,n="json"===this.responseType;if(t&&D.isString(t)&&(r&&!this.responseType||n)){const r=!(e&&e.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(t){if(r){if("SyntaxError"===t.name)throw K.from(t,K.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:st.classes.FormData,Blob:st.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],(t=>{at.headers[t]={}}));const ut=at,ht=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ct=Symbol("internals");function ft(t){return t&&String(t).trim().toLowerCase()}function lt(t){return!1===t||null==t?t:D.isArray(t)?t.map(lt):String(t)}function dt(t,e,r,n,i){return D.isFunction(n)?n.call(this,e,r):(i&&(e=r),D.isString(e)?D.isString(n)?-1!==e.indexOf(n):D.isRegExp(n)?n.test(e):void 0:void 0)}class pt{constructor(t){t&&this.set(t)}set(t,e,r){const n=this;function i(t,e,r){const i=ft(e);if(!i)throw new Error("header name must be a non-empty string");const s=D.findKey(n,i);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||e]=lt(t))}const s=(t,e)=>D.forEach(t,((t,r)=>i(t,r,e)));return D.isPlainObject(t)||t instanceof this.constructor?s(t,e):D.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?s((t=>{const e={};let r,n,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),r=t.substring(0,i).trim().toLowerCase(),n=t.substring(i+1).trim(),!r||e[r]&&ht[r]||("set-cookie"===r?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)})),e})(t),e):null!=t&&i(e,t,r),this}get(t,e){if(t=ft(t)){const r=D.findKey(this,t);if(r){const t=this[r];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}(t);if(D.isFunction(e))return e.call(this,t,r);if(D.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=ft(t)){const r=D.findKey(this,t);return!(!r||void 0===this[r]||e&&!dt(0,this[r],r,e))}return!1}delete(t,e){const r=this;let n=!1;function i(t){if(t=ft(t)){const i=D.findKey(r,t);!i||e&&!dt(0,r[i],i,e)||(delete r[i],n=!0)}}return D.isArray(t)?t.forEach(i):i(t),n}clear(t){const e=Object.keys(this);let r=e.length,n=!1;for(;r--;){const i=e[r];t&&!dt(0,this[i],i,t,!0)||(delete this[i],n=!0)}return n}normalize(t){const e=this,r={};return D.forEach(this,((n,i)=>{const s=D.findKey(r,i);if(s)return e[s]=lt(n),void delete e[i];const o=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,r)=>e.toUpperCase()+r))}(i):String(i).trim();o!==i&&delete e[i],e[o]=lt(n),r[o]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return D.forEach(this,((r,n)=>{null!=r&&!1!==r&&(e[n]=t&&D.isArray(r)?r.join(", "):r)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach((t=>r.set(t))),r}static accessor(t){const e=(this[ct]=this[ct]={accessors:{}}).accessors,r=this.prototype;function n(t){const n=ft(t);e[n]||(function(t,e){const r=D.toCamelCase(" "+e);["get","set","has"].forEach((n=>{Object.defineProperty(t,n+r,{value:function(t,r,i){return this[n].call(this,e,t,r,i)},configurable:!0})}))}(r,t),e[n]=!0)}return D.isArray(t)?t.forEach(n):n(t),this}}pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),D.reduceDescriptors(pt.prototype,(({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[r]=t}}})),D.freezeMethods(pt);const mt=pt;function gt(t,e){const r=this||ut,n=e||r,i=mt.from(n.headers);let s=n.data;return D.forEach(t,(function(t){s=t.call(r,s,i.normalize(),e?e.status:void 0)})),i.normalize(),s}function yt(t){return!(!t||!t.__CANCEL__)}function bt(t,e,r){K.call(this,null==t?"canceled":t,K.ERR_CANCELED,e,r),this.name="CanceledError"}D.inherits(bt,K,{__CANCEL__:!0});const vt=bt,wt=st.isStandardBrowserEnv?{write:function(t,e,r,n,i,s){const o=[];o.push(t+"="+encodeURIComponent(e)),D.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),D.isString(n)&&o.push("path="+n),D.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function _t(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Mt=st.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let r;function n(r){let n=r;return t&&(e.setAttribute("href",n),n=e.href),e.setAttribute("href",n),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return r=n(window.location.href),function(t){const e=D.isString(t)?n(t):t;return e.protocol===r.protocol&&e.host===r.host}}():function(){return!0};function St(t,e){let r=0;const n=function(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i,s=0,o=0;return e=void 0!==e?e:1e3,function(a){const u=Date.now(),h=n[o];i||(i=u),r[s]=a,n[s]=u;let c=o,f=0;for(;c!==s;)f+=r[c++],c%=t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),u-i<e)return;const l=h&&u-h;return l?Math.round(1e3*f/l):void 0}}(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,u=n(a);r=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&s<=o?(o-s)/u:void 0,event:i};h[e?"download":"upload"]=!0,t(h)}}const kt="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,r){let n=t.data;const i=mt.from(t.headers).normalize(),s=t.responseType;let o;function a(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}D.isFormData(n)&&(st.isStandardBrowserEnv||st.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",r=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(e+":"+r))}const h=_t(t.baseURL,t.url);function c(){if(!u)return;const n=mt.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(t,e,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(new K("Request failed with status code "+r.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}((function(t){e(t),a()}),(function(t){r(t),a()}),{data:s&&"text"!==s&&"json"!==s?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:n,config:t,request:u}),u=null}if(u.open(t.method.toUpperCase(),rt(h,t.params,t.paramsSerializer),!0),u.timeout=t.timeout,"onloadend"in u?u.onloadend=c:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(c)},u.onabort=function(){u&&(r(new K("Request aborted",K.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new K("Network Error",K.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const n=t.transitional||it;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(new K(e,n.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,t,u)),u=null},st.isStandardBrowserEnv){const e=(t.withCredentials||Mt(h))&&t.xsrfCookieName&&wt.read(t.xsrfCookieName);e&&i.set(t.xsrfHeaderName,e)}void 0===n&&i.setContentType(null),"setRequestHeader"in u&&D.forEach(i.toJSON(),(function(t,e){u.setRequestHeader(e,t)})),D.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),s&&"json"!==s&&(u.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&u.addEventListener("progress",St(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",St(t.onUploadProgress)),(t.cancelToken||t.signal)&&(o=e=>{u&&(r(!e||e.type?new vt(null,t,u):e),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o)));const f=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(h);f&&-1===st.protocols.indexOf(f)?r(new K("Unsupported protocol "+f+":",K.ERR_BAD_REQUEST,t)):u.send(n||null)}))},Et={http:null,xhr:kt};D.forEach(Et,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const At=t=>{t=D.isArray(t)?t:[t];const{length:e}=t;let r,n;for(let i=0;i<e&&(r=t[i],!(n=D.isString(r)?Et[r.toLowerCase()]:r));i++);if(!n){if(!1===n)throw new K(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(D.hasOwnProp(Et,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`)}if(!D.isFunction(n))throw new TypeError("adapter is not a function");return n};function xt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vt(null,t)}function Tt(t){return xt(t),t.headers=mt.from(t.headers),t.data=gt.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),At(t.adapter||ut.adapter)(t).then((function(e){return xt(t),e.data=gt.call(t,t.transformResponse,e),e.headers=mt.from(e.headers),e}),(function(e){return yt(e)||(xt(t),e&&e.response&&(e.response.data=gt.call(t,t.transformResponse,e.response),e.response.headers=mt.from(e.response.headers))),Promise.reject(e)}))}const It=t=>t instanceof mt?t.toJSON():t;function Bt(t,e){e=e||{};const r={};function n(t,e,r){return D.isPlainObject(t)&&D.isPlainObject(e)?D.merge.call({caseless:r},t,e):D.isPlainObject(e)?D.merge({},e):D.isArray(e)?e.slice():e}function i(t,e,r){return D.isUndefined(e)?D.isUndefined(t)?void 0:n(void 0,t,r):n(t,e,r)}function s(t,e){if(!D.isUndefined(e))return n(void 0,e)}function o(t,e){return D.isUndefined(e)?D.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function a(r,i,s){return s in e?n(r,i):s in t?n(void 0,r):void 0}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(t,e)=>i(It(t),It(e),!0)};return D.forEach(Object.keys(Object.assign({},t,e)),(function(n){const s=u[n]||i,o=s(t[n],e[n],n);D.isUndefined(o)&&s!==a||(r[n]=o)})),r}const Rt={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Rt[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));const Pt={};Rt.transitional=function(t,e,r){function n(t,e){return"[Axios v1.5.0] Transitional option '"+t+"'"+e+(r?". "+r:"")}return(r,i,s)=>{if(!1===t)throw new K(n(i," has been removed"+(e?" in "+e:"")),K.ERR_DEPRECATED);return e&&!Pt[i]&&(Pt[i]=!0,console.warn(n(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,i,s)}};const Ot={assertOptions:function(t,e,r){if("object"!=typeof t)throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const e=t[s],r=void 0===e||o(e,s,t);if(!0!==r)throw new K("option "+s+" must be "+r,K.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new K("Unknown option "+s,K.ERR_BAD_OPTION)}},validators:Rt},Ct=Ot.validators;class Ut{constructor(t){this.defaults=t,this.interceptors={request:new nt,response:new nt}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Bt(this.defaults,e);const{transitional:r,paramsSerializer:n,headers:i}=e;void 0!==r&&Ot.assertOptions(r,{silentJSONParsing:Ct.transitional(Ct.boolean),forcedJSONParsing:Ct.transitional(Ct.boolean),clarifyTimeoutError:Ct.transitional(Ct.boolean)},!1),null!=n&&(D.isFunction(n)?e.paramsSerializer={serialize:n}:Ot.assertOptions(n,{encode:Ct.function,serialize:Ct.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=i&&D.merge(i.common,i[e.method]);i&&D.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=mt.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,o.unshift(t.fulfilled,t.rejected))}));const u=[];let h;this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let c,f=0;if(!a){const t=[Tt.bind(this),void 0];for(t.unshift.apply(t,o),t.push.apply(t,u),c=t.length,h=Promise.resolve(e);f<c;)h=h.then(t[f++],t[f++]);return h}c=o.length;let l=e;for(f=0;f<c;){const t=o[f++],e=o[f++];try{l=t(l)}catch(t){e.call(this,t);break}}try{h=Tt.call(this,l)}catch(t){return Promise.reject(t)}for(f=0,c=u.length;f<c;)h=h.then(u[f++],u[f++]);return h}getUri(t){return rt(_t((t=Bt(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}D.forEach(["delete","get","head","options"],(function(t){Ut.prototype[t]=function(e,r){return this.request(Bt(r||{},{method:t,url:e,data:(r||{}).data}))}})),D.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,i){return this.request(Bt(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Ut.prototype[t]=e(),Ut.prototype[t+"Form"]=e(!0)}));const Nt=Ut;class Lt{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const r=this;this.promise.then((t=>{if(!r._listeners)return;let e=r._listeners.length;for(;e-- >0;)r._listeners[e](t);r._listeners=null})),this.promise.then=t=>{let e;const n=new Promise((t=>{r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t,n,i){r.reason||(r.reason=new vt(t,n,i),e(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new Lt((function(e){t=e})),cancel:t}}}const qt=Lt,zt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zt).forEach((([t,e])=>{zt[e]=t}));const Dt=zt,jt=function t(e){const r=new Nt(e),n=o(Nt.prototype.request,r);return D.extend(n,Nt.prototype,r,{allOwnKeys:!0}),D.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return t(Bt(e,r))},n}(ut);jt.Axios=Nt,jt.CanceledError=vt,jt.CancelToken=qt,jt.isCancel=yt,jt.VERSION="1.5.0",jt.toFormData=Z,jt.AxiosError=K,jt.Cancel=jt.CanceledError,jt.all=function(t){return Promise.all(t)},jt.spread=function(t){return function(e){return t.apply(null,e)}},jt.isAxiosError=function(t){return D.isObject(t)&&!0===t.isAxiosError},jt.mergeConfig=Bt,jt.AxiosHeaders=mt,jt.formToJSON=t=>ot(D.isHTMLForm(t)?new FormData(t):t),jt.getAdapter=At,jt.HttpStatusCode=Dt,jt.default=jt;const Ht=jt;var Ft=__webpack_require__(5835),Kt=__webpack_require__.t(Ft,2),$t=__webpack_require__(8764).Buffer,Wt=__webpack_require__(3363),Vt=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Gt=Math.ceil,Jt=Math.floor,Zt="[BigNumber Error] ",Xt=Zt+"Number primitive has more than 15 significant digits: ",Yt=1e14,Qt=14,te=9007199254740991,ee=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],re=1e7,ne=1e9;function ie(t){var e=0|t;return t>0||t===e?e:e-1}function se(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=Qt-e.length;r--;e="0"+e);s+=e}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function oe(t,e){var r,n,i=t.c,s=e.c,o=t.s,a=e.s,u=t.e,h=e.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=u==h,!i||!s)return n?0:!i^r?1:-1;if(!n)return u>h^r?1:-1;for(a=(u=i.length)<(h=s.length)?u:h,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return u==h?0:u>h^r?1:-1}function ae(t,e,r,n){if(t<e||t>r||t!==Jt(t))throw Error(Zt+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function ue(t){var e=t.c.length-1;return ie(t.e/Qt)==e&&t.c[e]%2!=0}function he(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function ce(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(++e>(n=t.length)){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var fe=function t(e){var r,n,i,s,o,a,u,h,c,f,l=A.prototype={constructor:A,toString:null,valueOf:null},d=new A(1),p=20,m=4,g=-7,y=21,b=-1e7,v=1e7,w=!1,_=1,M=0,S={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},k="0123456789abcdefghijklmnopqrstuvwxyz",E=!0;function A(t,e){var r,s,o,a,u,h,c,f,l=this;if(!(l instanceof A))return new A(t,e);if(null==e){if(t&&!0===t._isBigNumber)return l.s=t.s,void(!t.c||t.e>v?l.c=l.e=null:t.e<b?l.c=[l.e=0]:(l.e=t.e,l.c=t.c.slice()));if((h="number"==typeof t)&&0*t==0){if(l.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,u=t;u>=10;u/=10,a++);return void(a>v?l.c=l.e=null:(l.e=a,l.c=[t]))}f=String(t)}else{if(!Vt.test(f=String(t)))return i(l,f,h);l.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(a=f.indexOf("."))>-1&&(f=f.replace(".","")),(u=f.search(/e/i))>0?(a<0&&(a=u),a+=+f.slice(u+1),f=f.substring(0,u)):a<0&&(a=f.length)}else{if(ae(e,2,k.length,"Base"),10==e&&E)return B(l=new A(t),p+l.e+1,m);if(f=String(t),h="number"==typeof t){if(0*t!=0)return i(l,f,h,e);if(l.s=1/t<0?(f=f.slice(1),-1):1,A.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(Xt+t)}else l.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=k.slice(0,e),a=u=0,c=f.length;u<c;u++)if(r.indexOf(s=f.charAt(u))<0){if("."==s){if(u>a){a=c;continue}}else if(!o&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){o=!0,u=-1,a=0;continue}return i(l,String(t),h,e)}h=!1,(a=(f=n(f,e,10,l.s)).indexOf("."))>-1?f=f.replace(".",""):a=f.length}for(u=0;48===f.charCodeAt(u);u++);for(c=f.length;48===f.charCodeAt(--c););if(f=f.slice(u,++c)){if(c-=u,h&&A.DEBUG&&c>15&&(t>te||t!==Jt(t)))throw Error(Xt+l.s*t);if((a=a-u-1)>v)l.c=l.e=null;else if(a<b)l.c=[l.e=0];else{if(l.e=a,l.c=[],u=(a+1)%Qt,a<0&&(u+=Qt),u<c){for(u&&l.c.push(+f.slice(0,u)),c-=Qt;u<c;)l.c.push(+f.slice(u,u+=Qt));u=Qt-(f=f.slice(u)).length}else u-=c;for(;u--;f+="0");l.c.push(+f)}}else l.c=[l.e=0]}function x(t,e,r,n){var i,s,o,a,u;if(null==r?r=m:ae(r,0,8),!t.c)return t.toString();if(i=t.c[0],o=t.e,null==e)u=se(t.c),u=1==n||2==n&&(o<=g||o>=y)?he(u,o):ce(u,o,"0");else if(s=(t=B(new A(t),e,r)).e,a=(u=se(t.c)).length,1==n||2==n&&(e<=s||s<=g)){for(;a<e;u+="0",a++);u=he(u,s)}else if(e-=o,u=ce(u,s,"0"),s+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=s-a)>0)for(s+1==a&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function T(t,e){for(var r,n,i=1,s=new A(t[0]);i<t.length;i++)(!(n=new A(t[i])).s||(r=oe(s,n))===e||0===r&&s.s===e)&&(s=n);return s}function I(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*Qt-1)>v?t.c=t.e=null:r<b?t.c=[t.e=0]:(t.e=r,t.c=e),t}function B(t,e,r,n){var i,s,o,a,u,h,c,f=t.c,l=ee;if(f){t:{for(i=1,a=f[0];a>=10;a/=10,i++);if((s=e-i)<0)s+=Qt,o=e,u=f[h=0],c=Jt(u/l[i-o-1]%10);else if((h=Gt((s+1)/Qt))>=f.length){if(!n)break t;for(;f.length<=h;f.push(0));u=c=0,i=1,o=(s%=Qt)-Qt+1}else{for(u=a=f[h],i=1;a>=10;a/=10,i++);c=(o=(s%=Qt)-Qt+i)<0?0:Jt(u/l[i-o-1]%10)}if(n=n||e<0||null!=f[h+1]||(o<0?u:u%l[i-o-1]),n=r<4?(c||n)&&(0==r||r==(t.s<0?3:2)):c>5||5==c&&(4==r||n||6==r&&(s>0?o>0?u/l[i-o]:0:f[h-1])%10&1||r==(t.s<0?8:7)),e<1||!f[0])return f.length=0,n?(e-=t.e+1,f[0]=l[(Qt-e%Qt)%Qt],t.e=-e||0):f[0]=t.e=0,t;if(0==s?(f.length=h,a=1,h--):(f.length=h+1,a=l[Qt-s],f[h]=o>0?Jt(u/l[i-o]%l[o])*a:0),n)for(;;){if(0==h){for(s=1,o=f[0];o>=10;o/=10,s++);for(o=f[0]+=a,a=1;o>=10;o/=10,a++);s!=a&&(t.e++,f[0]==Yt&&(f[0]=1));break}if(f[h]+=a,f[h]!=Yt)break;f[h--]=0,a=1}for(s=f.length;0===f[--s];f.pop());}t.e>v?t.c=t.e=null:t.e<b&&(t.c=[t.e=0])}return t}function R(t){var e,r=t.e;return null===r?t.toString():(e=se(t.c),e=r<=g||r>=y?he(e,r):ce(e,r,"0"),t.s<0?"-"+e:e)}return A.clone=t,A.ROUND_UP=0,A.ROUND_DOWN=1,A.ROUND_CEIL=2,A.ROUND_FLOOR=3,A.ROUND_HALF_UP=4,A.ROUND_HALF_DOWN=5,A.ROUND_HALF_EVEN=6,A.ROUND_HALF_CEIL=7,A.ROUND_HALF_FLOOR=8,A.EUCLID=9,A.config=A.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(Zt+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(ae(r=t[e],0,ne,e),p=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(ae(r=t[e],0,8,e),m=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(ae(r[0],-ne,0,e),ae(r[1],0,ne,e),g=r[0],y=r[1]):(ae(r,-ne,ne,e),g=-(y=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)ae(r[0],-ne,-1,e),ae(r[1],1,ne,e),b=r[0],v=r[1];else{if(ae(r,-ne,ne,e),!r)throw Error(Zt+e+" cannot be zero: "+r);b=-(v=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(Zt+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw w=!r,Error(Zt+"crypto unavailable");w=r}else w=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(ae(r=t[e],0,9,e),_=r),t.hasOwnProperty(e="POW_PRECISION")&&(ae(r=t[e],0,ne,e),M=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(Zt+e+" not an object: "+r);S=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(Zt+e+" invalid: "+r);E="0123456789"==r.slice(0,10),k=r}}return{DECIMAL_PLACES:p,ROUNDING_MODE:m,EXPONENTIAL_AT:[g,y],RANGE:[b,v],CRYPTO:w,MODULO_MODE:_,POW_PRECISION:M,FORMAT:S,ALPHABET:k}},A.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!A.DEBUG)return!0;var e,r,n=t.c,i=t.e,s=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&i>=-ne&&i<=ne&&i===Jt(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((e=(i+1)%Qt)<1&&(e+=Qt),String(n[0]).length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||r>=Yt||r!==Jt(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(Zt+"Invalid BigNumber: "+t)},A.maximum=A.max=function(){return T(arguments,-1)},A.minimum=A.min=function(){return T(arguments,1)},A.random=(s=9007199254740992,o=Math.random()*s&2097151?function(){return Jt(Math.random()*s)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,i,s,a=0,u=[],h=new A(d);if(null==t?t=p:ae(t,0,ne),i=Gt(t/Qt),w)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));a<i;)(s=131072*e[a]+(e[a+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[a]=r[0],e[a+1]=r[1]):(u.push(s%1e14),a+=2);a=i/2}else{if(!crypto.randomBytes)throw w=!1,Error(Zt+"crypto unavailable");for(e=crypto.randomBytes(i*=7);a<i;)(s=281474976710656*(31&e[a])+1099511627776*e[a+1]+4294967296*e[a+2]+16777216*e[a+3]+(e[a+4]<<16)+(e[a+5]<<8)+e[a+6])>=9e15?crypto.randomBytes(7).copy(e,a):(u.push(s%1e14),a+=7);a=i/7}if(!w)for(;a<i;)(s=o())<9e15&&(u[a++]=s%1e14);for(i=u[--a],t%=Qt,i&&t&&(s=ee[Qt-t],u[a]=Jt(i/s)*s);0===u[a];u.pop(),a--);if(a<0)u=[n=0];else{for(n=-1;0===u[0];u.splice(0,1),n-=Qt);for(a=1,s=u[0];s>=10;s/=10,a++);a<Qt&&(n-=Qt-a)}return h.e=n,h.c=u,h}),A.sum=function(){for(var t=1,e=arguments,r=new A(e[0]);t<e.length;)r=r.plus(e[t++]);return r},n=function(){var t="0123456789";function e(t,e,r,n){for(var i,s,o=[0],a=0,u=t.length;a<u;){for(s=o.length;s--;o[s]*=e);for(o[0]+=n.indexOf(t.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(n,i,s,o,a){var u,h,c,f,l,d,g,y,b=n.indexOf("."),v=p,w=m;for(b>=0&&(f=M,M=0,n=n.replace(".",""),d=(y=new A(i)).pow(n.length-b),M=f,y.c=e(ce(se(d.c),d.e,"0"),10,s,t),y.e=y.c.length),c=f=(g=e(n,i,s,a?(u=k,t):(u=t,k))).length;0==g[--f];g.pop());if(!g[0])return u.charAt(0);if(b<0?--c:(d.c=g,d.e=c,d.s=o,g=(d=r(d,y,v,w,s)).c,l=d.r,c=d.e),b=g[h=c+v+1],f=s/2,l=l||h<0||null!=g[h+1],l=w<4?(null!=b||l)&&(0==w||w==(d.s<0?3:2)):b>f||b==f&&(4==w||l||6==w&&1&g[h-1]||w==(d.s<0?8:7)),h<1||!g[0])n=l?ce(u.charAt(1),-v,u.charAt(0)):u.charAt(0);else{if(g.length=h,l)for(--s;++g[--h]>s;)g[h]=0,h||(++c,g=[1].concat(g));for(f=g.length;!g[--f];);for(b=0,n="";b<=f;n+=u.charAt(g[b++]));n=ce(n,c,u.charAt(0))}return n}}(),r=function(){function t(t,e,r){var n,i,s,o,a=0,u=t.length,h=e%re,c=e/re|0;for(t=t.slice();u--;)a=((i=h*(s=t[u]%re)+(n=c*s+(o=t[u]/re|0)*h)%re*re+a)/r|0)+(n/re|0)+c*o,t[u]=i%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(t[i]!=e[i]){s=t[i]>e[i]?1:-1;break}return s}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,s,o,a){var u,h,c,f,l,d,p,m,g,y,b,v,w,_,M,S,k,E=n.s==i.s?1:-1,x=n.c,T=i.c;if(!(x&&x[0]&&T&&T[0]))return new A(n.s&&i.s&&(x?!T||x[0]!=T[0]:T)?x&&0==x[0]||!T?0*E:E/0:NaN);for(g=(m=new A(E)).c=[],E=s+(h=n.e-i.e)+1,a||(a=Yt,h=ie(n.e/Qt)-ie(i.e/Qt),E=E/Qt|0),c=0;T[c]==(x[c]||0);c++);if(T[c]>(x[c]||0)&&h--,E<0)g.push(1),f=!0;else{for(_=x.length,S=T.length,c=0,E+=2,(l=Jt(a/(T[0]+1)))>1&&(T=t(T,l,a),x=t(x,l,a),S=T.length,_=x.length),w=S,b=(y=x.slice(0,S)).length;b<S;y[b++]=0);k=T.slice(),k=[0].concat(k),M=T[0],T[1]>=a/2&&M++;do{if(l=0,(u=e(T,y,S,b))<0){if(v=y[0],S!=b&&(v=v*a+(y[1]||0)),(l=Jt(v/M))>1)for(l>=a&&(l=a-1),p=(d=t(T,l,a)).length,b=y.length;1==e(d,y,p,b);)l--,r(d,S<p?k:T,p,a),p=d.length,u=1;else 0==l&&(u=l=1),p=(d=T.slice()).length;if(p<b&&(d=[0].concat(d)),r(y,d,b,a),b=y.length,-1==u)for(;e(T,y,S,b)<1;)l++,r(y,S<b?k:T,b,a),b=y.length}else 0===u&&(l++,y=[0]);g[c++]=l,y[0]?y[b++]=x[w]||0:(y=[x[w]],b=1)}while((w++<_||null!=y[0])&&E--);f=null!=y[0],g[0]||g.splice(0,1)}if(a==Yt){for(c=1,E=g[0];E>=10;E/=10,c++);B(m,s+(m.e=c+h*Qt-1)+1,o,f)}else m.e=h,m.r=+f;return m}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,u=/^([^.]+)\.$/,h=/^\.([^.]+)$/,c=/^-?(Infinity|NaN)$/,f=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,r,n){var i,s=r?e:e.replace(f,"");if(c.test(s))t.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(a,(function(t,e,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?t:e})),n&&(i=n,s=s.replace(u,"$1").replace(h,"0.$1")),e!=s))return new A(s,i);if(A.DEBUG)throw Error(Zt+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},l.absoluteValue=l.abs=function(){var t=new A(this);return t.s<0&&(t.s=1),t},l.comparedTo=function(t,e){return oe(this,new A(t,e))},l.decimalPlaces=l.dp=function(t,e){var r,n,i,s=this;if(null!=t)return ae(t,0,ne),null==e?e=m:ae(e,0,8),B(new A(s),t+s.e+1,e);if(!(r=s.c))return null;if(n=((i=r.length-1)-ie(this.e/Qt))*Qt,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},l.dividedBy=l.div=function(t,e){return r(this,new A(t,e),p,m)},l.dividedToIntegerBy=l.idiv=function(t,e){return r(this,new A(t,e),0,1)},l.exponentiatedBy=l.pow=function(t,e){var r,n,i,s,o,a,u,h,c=this;if((t=new A(t)).c&&!t.isInteger())throw Error(Zt+"Exponent not an integer: "+R(t));if(null!=e&&(e=new A(e)),o=t.e>14,!c.c||!c.c[0]||1==c.c[0]&&!c.e&&1==c.c.length||!t.c||!t.c[0])return h=new A(Math.pow(+R(c),o?t.s*(2-ue(t)):+R(t))),e?h.mod(e):h;if(a=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new A(NaN);(n=!a&&c.isInteger()&&e.isInteger())&&(c=c.mod(e))}else{if(t.e>9&&(c.e>0||c.e<-1||(0==c.e?c.c[0]>1||o&&c.c[1]>=24e7:c.c[0]<8e13||o&&c.c[0]<=9999975e7)))return s=c.s<0&&ue(t)?-0:0,c.e>-1&&(s=1/s),new A(a?1/s:s);M&&(s=Gt(M/Qt+2))}for(o?(r=new A(.5),a&&(t.s=1),u=ue(t)):u=(i=Math.abs(+R(t)))%2,h=new A(d);;){if(u){if(!(h=h.times(c)).c)break;s?h.c.length>s&&(h.c.length=s):n&&(h=h.mod(e))}if(i){if(0===(i=Jt(i/2)))break;u=i%2}else if(B(t=t.times(r),t.e+1,1),t.e>14)u=ue(t);else{if(0==(i=+R(t)))break;u=i%2}c=c.times(c),s?c.c&&c.c.length>s&&(c.c.length=s):n&&(c=c.mod(e))}return n?h:(a&&(h=d.div(h)),e?h.mod(e):s?B(h,M,m,void 0):h)},l.integerValue=function(t){var e=new A(this);return null==t?t=m:ae(t,0,8),B(e,e.e+1,t)},l.isEqualTo=l.eq=function(t,e){return 0===oe(this,new A(t,e))},l.isFinite=function(){return!!this.c},l.isGreaterThan=l.gt=function(t,e){return oe(this,new A(t,e))>0},l.isGreaterThanOrEqualTo=l.gte=function(t,e){return 1===(e=oe(this,new A(t,e)))||0===e},l.isInteger=function(){return!!this.c&&ie(this.e/Qt)>this.c.length-2},l.isLessThan=l.lt=function(t,e){return oe(this,new A(t,e))<0},l.isLessThanOrEqualTo=l.lte=function(t,e){return-1===(e=oe(this,new A(t,e)))||0===e},l.isNaN=function(){return!this.s},l.isNegative=function(){return this.s<0},l.isPositive=function(){return this.s>0},l.isZero=function(){return!!this.c&&0==this.c[0]},l.minus=function(t,e){var r,n,i,s,o=this,a=o.s;if(e=(t=new A(t,e)).s,!a||!e)return new A(NaN);if(a!=e)return t.s=-e,o.plus(t);var u=o.e/Qt,h=t.e/Qt,c=o.c,f=t.c;if(!u||!h){if(!c||!f)return c?(t.s=-e,t):new A(f?o:NaN);if(!c[0]||!f[0])return f[0]?(t.s=-e,t):new A(c[0]?o:3==m?-0:0)}if(u=ie(u),h=ie(h),c=c.slice(),a=u-h){for((s=a<0)?(a=-a,i=c):(h=u,i=f),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(s=(a=c.length)<(e=f.length))?a:e,a=e=0;e<n;e++)if(c[e]!=f[e]){s=c[e]<f[e];break}if(s&&(i=c,c=f,f=i,t.s=-t.s),(e=(n=f.length)-(r=c.length))>0)for(;e--;c[r++]=0);for(e=Yt-1;n>a;){if(c[--n]<f[n]){for(r=n;r&&!c[--r];c[r]=e);--c[r],c[n]+=Yt}c[n]-=f[n]}for(;0==c[0];c.splice(0,1),--h);return c[0]?I(t,c,h):(t.s=3==m?-1:1,t.c=[t.e=0],t)},l.modulo=l.mod=function(t,e){var n,i,s=this;return t=new A(t,e),!s.c||!t.s||t.c&&!t.c[0]?new A(NaN):!t.c||s.c&&!s.c[0]?new A(s):(9==_?(i=t.s,t.s=1,n=r(s,t,0,3),t.s=i,n.s*=i):n=r(s,t,0,_),(t=s.minus(n.times(t))).c[0]||1!=_||(t.s=s.s),t)},l.multipliedBy=l.times=function(t,e){var r,n,i,s,o,a,u,h,c,f,l,d,p,m,g,y=this,b=y.c,v=(t=new A(t,e)).c;if(!(b&&v&&b[0]&&v[0]))return!y.s||!t.s||b&&!b[0]&&!v||v&&!v[0]&&!b?t.c=t.e=t.s=null:(t.s*=y.s,b&&v?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=ie(y.e/Qt)+ie(t.e/Qt),t.s*=y.s,(u=b.length)<(f=v.length)&&(p=b,b=v,v=p,i=u,u=f,f=i),i=u+f,p=[];i--;p.push(0));for(m=Yt,g=re,i=f;--i>=0;){for(r=0,l=v[i]%g,d=v[i]/g|0,s=i+(o=u);s>i;)r=((h=l*(h=b[--o]%g)+(a=d*h+(c=b[o]/g|0)*l)%g*g+p[s]+r)/m|0)+(a/g|0)+d*c,p[s--]=h%m;p[s]=r}return r?++n:p.splice(0,1),I(t,p,n)},l.negated=function(){var t=new A(this);return t.s=-t.s||null,t},l.plus=function(t,e){var r,n=this,i=n.s;if(e=(t=new A(t,e)).s,!i||!e)return new A(NaN);if(i!=e)return t.s=-e,n.minus(t);var s=n.e/Qt,o=t.e/Qt,a=n.c,u=t.c;if(!s||!o){if(!a||!u)return new A(i/0);if(!a[0]||!u[0])return u[0]?t:new A(a[0]?n:0*i)}if(s=ie(s),o=ie(o),a=a.slice(),i=s-o){for(i>0?(o=s,r=u):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=u.length)<0&&(r=u,u=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+u[e]+i)/Yt|0,a[e]=Yt===a[e]?0:a[e]%Yt;return i&&(a=[i].concat(a),++o),I(t,a,o)},l.precision=l.sd=function(t,e){var r,n,i,s=this;if(null!=t&&t!==!!t)return ae(t,1,ne),null==e?e=m:ae(e,0,8),B(new A(s),t,e);if(!(r=s.c))return null;if(n=(i=r.length-1)*Qt+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return t&&s.e+1>n&&(n=s.e+1),n},l.shiftedBy=function(t){return ae(t,-9007199254740991,te),this.times("1e"+t)},l.squareRoot=l.sqrt=function(){var t,e,n,i,s,o=this,a=o.c,u=o.s,h=o.e,c=p+4,f=new A("0.5");if(1!==u||!a||!a[0])return new A(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+R(o)))||u==1/0?(((e=se(a)).length+h)%2==0&&(e+="0"),u=Math.sqrt(+e),h=ie((h+1)/2)-(h<0||h%2),n=new A(e=u==1/0?"5e"+h:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+h)):n=new A(u+""),n.c[0])for((u=(h=n.e)+c)<3&&(u=0);;)if(s=n,n=f.times(s.plus(r(o,s,c,1))),se(s.c).slice(0,u)===(e=se(n.c)).slice(0,u)){if(n.e<h&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(B(n,n.e+p+2,1),t=!n.times(n).eq(o));break}if(!i&&(B(s,s.e+p+2,0),s.times(s).eq(o))){n=s;break}c+=4,u+=4,i=1}return B(n,n.e+p+1,m,t)},l.toExponential=function(t,e){return null!=t&&(ae(t,0,ne),t++),x(this,t,e,1)},l.toFixed=function(t,e){return null!=t&&(ae(t,0,ne),t=t+this.e+1),x(this,t,e)},l.toFormat=function(t,e,r){var n,i=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=S;else if("object"!=typeof r)throw Error(Zt+"Argument not an object: "+r);if(n=i.toFixed(t,e),i.c){var s,o=n.split("."),a=+r.groupSize,u=+r.secondaryGroupSize,h=r.groupSeparator||"",c=o[0],f=o[1],l=i.s<0,d=l?c.slice(1):c,p=d.length;if(u&&(s=a,a=u,u=s,p-=s),a>0&&p>0){for(s=p%a||a,c=d.substr(0,s);s<p;s+=a)c+=h+d.substr(s,a);u>0&&(c+=h+d.slice(s)),l&&(c="-"+c)}n=f?c+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):c}return(r.prefix||"")+n+(r.suffix||"")},l.toFraction=function(t){var e,n,i,s,o,a,u,h,c,f,l,p,g=this,y=g.c;if(null!=t&&(!(u=new A(t)).isInteger()&&(u.c||1!==u.s)||u.lt(d)))throw Error(Zt+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+R(u));if(!y)return new A(g);for(e=new A(d),c=n=new A(d),i=h=new A(d),p=se(y),o=e.e=p.length-g.e-1,e.c[0]=ee[(a=o%Qt)<0?Qt+a:a],t=!t||u.comparedTo(e)>0?o>0?e:c:u,a=v,v=1/0,u=new A(p),h.c[0]=0;f=r(u,e,0,1),1!=(s=n.plus(f.times(i))).comparedTo(t);)n=i,i=s,c=h.plus(f.times(s=c)),h=s,e=u.minus(f.times(s=e)),u=s;return s=r(t.minus(n),i,0,1),h=h.plus(s.times(c)),n=n.plus(s.times(i)),h.s=c.s=g.s,l=r(c,i,o*=2,m).minus(g).abs().comparedTo(r(h,n,o,m).minus(g).abs())<1?[c,i]:[h,n],v=a,l},l.toNumber=function(){return+R(this)},l.toPrecision=function(t,e){return null!=t&&ae(t,1,ne),x(this,t,e,2)},l.toString=function(t){var e,r=this,i=r.s,s=r.e;return null===s?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=s<=g||s>=y?he(se(r.c),s):ce(se(r.c),s,"0"):10===t&&E?e=ce(se((r=B(new A(r),p+s+1,m)).c),r.e,"0"):(ae(t,2,k.length,"Base"),e=n(ce(se(r.c),s,"0"),10,t,i,!0)),i<0&&r.c[0]&&(e="-"+e)),e},l.valueOf=l.toJSON=function(){return R(this)},l._isBigNumber=!0,l[Symbol.toStringTag]="BigNumber",l[Symbol.for("nodejs.util.inspect.custom")]=l.valueOf,null!=e&&A.set(e),A}();const le=fe;var de=__webpack_require__(2047);le.set({DECIMAL_PLACES:50});const pe=t=>new Promise((e=>setTimeout(e,t)));class me{api;token;tokenConfig;arbundles;constructor(t,e,r){this.api=t,this.token=e,this.tokenConfig=r,this.arbundles=this.tokenConfig.irys.arbundles}static checkAndThrow(t,e,r){if(t?.status&&!(r??[]).includes(t.status)&&200!=t.status)throw new Error(`HTTP Error: ${e}: ${t.status} ${"string"!=typeof t.data?t.statusText:t.data}`)}async getNonce(){const t=await this.api.get(`/account/withdrawals/${this.tokenConfig.name}?address=${this.tokenConfig.address}`);return me.checkAndThrow(t,"Getting withdrawal nonce"),t.data}async getBalance(t){const e=await this.api.get(`/account/balance/${this.tokenConfig.name}?address=${t}`);return me.checkAndThrow(e,"Getting balance"),new le(e.data.balance)}async getBundlerAddress(t){const e=await this.api.get("/info");me.checkAndThrow(e,"Getting Bundler address");const r=e.data.addresses[t];if(!r)throw new Error(`Specified bundler does not support token ${t}`);return r}async getPrice(t,e){const r=await this.api.get(`/price/${t}/${e}`);return me.checkAndThrow(r,"Getting storage cost"),new le(r.data)}async estimateFolderPrice(t){Array.isArray(t)&&(t={fileCount:t.length,totalBytes:t.reduce(((t,e)=>t+e),0)});const e=t.headerSizeAvg??this.arbundles.createData("",this.tokenConfig.getSigner()).getRaw().length,r=(await this.getPrice(this.tokenConfig.name,e)).multipliedBy(t.fileCount);return(await this.getPrice(this.tokenConfig.name,t.totalBytes)).plus(r).decimalPlaces(0)}toAtomic(t){return new le(t).multipliedBy(this.tokenConfig.base[1])}fromAtomic(t){return new le(t).dividedBy(this.tokenConfig.base[1])}async confirmationPoll(t,e=30){if(this.tokenConfig.isSlow)return;let r,n;e<0&&(e=0);const i=await Promise.race([(async()=>(await pe(1e3*e),n=!0,"RACE"))(),(async()=>{for(;!n;){if(await this.tokenConfig.getTx(t).then((t=>t?.confirmed)).catch((t=>(r=t,!1))))return!0;await pe(1e3)}return!1})()]);return"RACE"===i?(console.warn(`Tx ${t} didn't finalize after ${e} seconds ${r?` - ${r}`:""}`),r):i}unitConverter(t){return new le(t).dividedBy(this.tokenConfig.base[1])}async verifyReceipt(t){return me.verifyReceipt(this.arbundles,t)}static async verifyReceipt(t,e){const{id:r,deadlineHeight:n,timestamp:i,public:s,signature:o,version:a}=e,u=await t.deepHash([t.stringToBuffer("Bundlr"),t.stringToBuffer(a),t.stringToBuffer(r),t.stringToBuffer(n.toString()),t.stringToBuffer(i.toString())]);return await t.getCryptoDriver().verify(s,u,Wt.toBuffer(o))}async getReceipt(t){const e=`query {\n      transactions(ids: ["${t}"]) {\n        edges {\n          node {\n            receipt {\n              signature\n              timestamp\n              version\n              deadlineHeight\n            }\n          }\n        }\n      }\n    }`,r=await de((async()=>await this.api.post("/graphql",{query:e},{headers:{"content-type":"application/json"},validateStatus:t=>200===t}))),n=r?.data?.data?.transactions?.edges?.at(0)?.node?.receipt;if(!n)throw new Error(`Missing required receipt data from node for tx: ${t}`);const i={public:(await this.api.get("/public")).data,version:n.version,id:t,timestamp:n.timestamp,validatorSignatures:[],signature:n.signature,deadlineHeight:n.deadlineHeight,verify:async()=>!1};return i.verify=async()=>this.verifyReceipt(i),i}}const ge=me,ye=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];var be=__webpack_require__(8764).Buffer,ve=__webpack_require__(2830);class we{queryVars={};queryFields;queryInfo;_query;gqlURL;config;resultTracker={numPages:0,numResults:0,done:!1};constructor({url:t,retryConfig:e,query:r,queryName:n,opts:i}){if(!t)throw new Error("URL is required");if(this.gqlURL=new URL(t),this.config={first:!1,userProvided:!1,numPages:1/0,numResults:1e3,retryOpts:{retries:3,maxTimeout:2e3,minTimeout:500,...e}},!1===r)return this;if(!r)throw new Error(`Unable to find query with name ${n}`);if(this.queryInfo={...r},this.queryFields=r.query,n.includes("arweave")&&"node1.irys.xyz"===this.gqlURL.host&&(this.gqlURL=new URL("https://arweave.net/graphql")),!i?.skipVariableSetters)for(const t of Object.keys(r.vars)){if(this[t])throw new Error(`Field setter ${t} has a key conflict - disable with opts.skipVariableSetters OR change the field name and add to query.remapVars`);this[t]=e=>(this.queryVars[t]=e,this)}return this}buildQuery(){if(this.config.userProvided)return this;const t=t=>JSON.stringify(t,((t,e)=>e instanceof Array?e[0]:"object"==typeof e?e:!1!==e?"":void 0)).replaceAll(":","").replaceAll('"',"").replaceAll(",","\n          "),e=t(this.queryFields),r=t({pageInfo:{[this.queryInfo.paging?.hasNextPage??"hasNextPage"]:void 0}}).slice(1,-1),n=this.queryInfo.enumValues,i={...this.queryInfo.vars,...this.queryVars};for(const[t,e]of Object.entries(this.queryInfo.remapVars??{}))if(void 0!==i?.[t]){if("function"==typeof e){const r=e(t,i[t],i);if(!r)continue;const[n,s]=r;if(i[n]=s,n===t)continue}else i[e]=i[t];i[t]=void 0}const s=JSON.stringify(i,(function(t,e){return void 0===e||e instanceof Array||"object"==typeof e||"number"==typeof e||n?.includes(t)?e:`'${e}'`})).replaceAll('"',"").replaceAll("'",'"').slice(1,-1);if(!this?.queryInfo?.name)throw new Error("Query name is undefined!");const o=this.queryInfo.paging?`query {\n      ${this.queryInfo.name}(\n        ${s}\n      ) {\n        edges {\n          cursor\n          node ${e}\n        }\n        ${r}\n      }\n    }`:`query {\n    ${this.queryInfo.name}(\n      ${s}\n    ) \n    ${e}\n  }`;return this._query=o,this}async getPage(){if(this.resultTracker.done)return;if(this.buildQuery(),!this._query)throw new Error("Unable to run undefined query");let t;try{t=await de((async t=>{const e=await Ht(this.gqlURL.toString(),{method:"post",headers:{"Content-Type":"application/json"},data:{query:this._query}});if(e.data.errors)throw e;return e}),this.config.retryOpts)}catch(t){throw new Error(`Error running query\n ${this._query} - ${t.message?t.message+" -":""} (${JSON.stringify(t?.data?.errors.map((t=>t.message))??t?.errors??t)}) `)}if(this.config.userProvided)return this.trimmer([t.data.data].flat(20));const e=t.data.data[this.queryInfo.name];if(this.queryInfo.paging){const t=e.pageInfo[this.queryInfo.paging.hasNextPage]?e.edges.at(-1)[this.queryInfo.paging.cursor]:void 0;return this.queryVars.after=t,this.trimmer(e.edges.map((t=>t.node)))}return this.trimmer([e].flat(20))}trimmer(t){const e=++this.resultTracker.numPages,r=this.resultTracker.numResults+=t.length;if(0===t.length)return this.resultTracker.done=!0,t;if(e>=this?.config?.numPages&&(this.resultTracker.done=!0),r>=this?.config?.numResults){this.resultTracker.done=!0;const e=this.config.numResults-(r-t.length);return t.slice(0,e)}return t}async first(){const t=await this.getPage();return t?.at(0)??void 0}maxPages(t){return this.config.numPages=t,this}limit(t){return this.config.numResults=t,this}url(t){return this.gqlURL=new URL(t),this}async all(){const t=[];do{const e=await this.getPage();if(!e)break;t.push(...e)}while(this.queryVars.after);return t}async*generator(){do{const t=await this.getPage();if(!t)return;for(const e of t)yield e}while(this.queryVars.after)}stream(){return ve.Readable.from(this.generator())}query(t){return this._query=t,this.config.userProvided=!0,this}fields(t,e=!1){const r=(t,e,n)=>{for(const i of Object.keys(n)){let s=e[i];Array.isArray(s)&&(s=s[0]);const o=n[i];if(void 0===s)throw new Error(`Illegal field ${t}${i}`);"object"==typeof o&&r(t+i+".",s,o)}};return e||r("",this.queryFields,t),this.queryFields=t,this}variables(t){return this.queryVars={...this.queryVars,...t},this}async toQuery(){return await this.buildQuery(),this._query}tReturn(){return"tReturn"}tQuery(){return"tQuery"}tVars(){return"tVars"}async then(t,e){return this.all().then(t,e)}async catch(t){return this.then().catch(t)}async finally(t){return this.then().finally(t)}}const _e={"irys:transactions":{name:"transactions",query:{id:"",receipt:{deadlineHeight:0,signature:"",timestamp:0,version:""},tags:[{name:"",value:""}],address:"",token:"",signature:"",timestamp:0},enumValues:["order"],vars:{ids:void 0,after:void 0,token:void 0,from:void 0,pageSize:100,sort:"ASC",tags:void 0,fromTimestamp:void 0,toTimestamp:void 0},remapVars:{pageSize:"first",sort:"order",from:"owners",fromTimestamp:(t,e,r)=>{r.timestamp={...r.timestamp,from:new Date(e).getTime()},r.fromTimestamp=void 0},toTimestamp:(t,e,r)=>{r.timestamp={...r.timestamp,to:new Date(e).getTime()},r.toTimestamp=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:transactions":{name:"transactions",query:{id:"",anchor:"",signature:"",recipient:"",owner:{address:"",key:""},fee:{winston:"",ar:""},quantity:{winston:"",ar:""},data:{size:"",type:""},tags:[{name:"",value:""}],block:{id:"",timestamp:0,height:0,previous:""},bundledIn:{id:""}},enumValues:["sort"],vars:{ids:void 0,from:void 0,to:void 0,tags:void 0,bundledIn:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},remapVars:{pageSize:"first",from:"owners",to:"recipients",sort:(t,e)=>[t,"ASC"===e?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(t,e,r)=>{r.block={...r.block,min:e},r.minHeight=void 0},maxHeight:(t,e,r)=>{r.block={...r.block,max:e},r.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:blocks":{name:"blocks",query:{id:"",timestamp:0,height:"",previous:""},vars:{ids:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},enumValues:["sort"],remapVars:{pageSize:"first",sort:(t,e)=>[t,"ASC"===e?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(t,e,r)=>{r.height={...r.height,min:e},r.minHeight=void 0},maxHeight:(t,e,r)=>{r.height={...r.height,max:e},r.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}}};class Me{opts;constructor(t={url:new URL("https://node1.irys.xyz/graphql")}){if(!t.url)throw new Error("URL is required");t.url=new URL(t.url),this.opts=t}search(t,e){const r=e?.query??_e[t];return new we({...this.opts,query:r,queryName:t})}}class Se{api;utils;uploader;funder;address;token;tokenConfig;provenance;transactions;_readyPromise;url;arbundles;IrysTransaction;static VERSION="0.1.3";constructor({url:t,arbundles:e}){this.url=t,this.arbundles=e,this.IrysTransaction=function(t){class e extends t.arbundles.DataItem{Irys;signer;constructor(t,e,r){super(!0===r?.dataIsRawTransaction?$t.from(t):e.arbundles.createData(t,e.tokenConfig.getSigner(),{...r,anchor:r?.anchor??Ft.randomBytes(32).toString("base64").slice(0,32)}).getRaw()),this.Irys=e,this.signer=e.tokenConfig.getSigner()}sign(){return super.sign(this.signer)}get size(){return this.getRaw().length}async uploadWithReceipt(t){return(await this.Irys.uploader.uploadTransaction(this,t)).data}async upload(t){return(await this.Irys.uploader.uploadTransaction(this,t)).data}async getPrice(){return this.Irys.utils.getPrice(this.Irys.tokenConfig.name,this.size)}async isValid(){return t.arbundles.DataItem.verify(this.getRaw())}}return e}(this)}get signer(){return this.tokenConfig.getSigner()}get search(){const t=new Me({url:new URL("/graphql",this.url)});return t.search.bind(t)}query(t){return new Me(t??{url:this.url})}async withdrawBalance(t){return async function(t,e,r){const n=t.tokenConfig,{deepHash:i,stringToBuffer:s}=n.irys.arbundles,o={publicKey:await n.getPublicKey(),currency:t.token,amount:new le(r).toString(),nonce:await t.getNonce(),signature:"",sigType:n.getSigner().signatureType},a=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]);be.isBuffer(o.publicKey)||(o.publicKey=be.from(o.publicKey));const u=await n.sign(a),h=await n.verify(o.publicKey,a,u);o.publicKey=Wt.encode(o.publicKey),o.signature=Wt.encode(be.from(u));const c=Wt.toBuffer(o.publicKey),f=Wt.toBuffer(o.signature),l=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]),d=await n.verify(c,l,f),p=n.ownerToAddress("arweave"==n.name?Wt.decode(o.publicKey):Wt.toBuffer(o.publicKey))===n.address;if(!(h||d||p))throw new Error(`Internal withdrawal validation failed - please report this!\nDebug Info:${JSON.stringify(o)}`);const m=await e.post("/account/withdraw",o);if(202===m.status){const e=m.data.tx_id,r=await t.confirmationPoll(e);if(!0!==r)throw new Error(`Unable to confirm withdrawal tx ${e} ${r?r?.toString():""}`)}else ge.checkAndThrow(m,"Withdrawing balance");return m.data}(this.utils,this.api,t)}async getLoadedBalance(){if(!this.address)throw new Error("address is undefined");return this.utils.getBalance(this.address)}async getBalance(t){return this.utils.getBalance(t)}async fund(t,e){return this.funder.fund(t,e)}async getPrice(t){return this.utils.getPrice(this.token,t)}async verifyReceipt(t){return ge.verifyReceipt(this.arbundles,t)}createTransaction(t,e){return new this.IrysTransaction(t,this,e)}getSigner(){return this.tokenConfig.getSigner()}async upload(t,e){return this.uploader.uploadData(t,e)}async uploadWithReceipt(t,e){return this.uploader.uploadData(t,{...e})}async ready(){return!this.tokenConfig.ready||await this.tokenConfig.ready(),this.address=this.tokenConfig.address,this}get transaction(){const t=this;return{fromRaw:e=>new t.IrysTransaction(e,t,{dataIsRawTransaction:!0})}}}const ke=class{_instance;cookieMap=new Map;config;constructor(t){t&&this.applyConfig(t)}applyConfig(t){this.config=this.mergeDefaults(t),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(t){const e=this.cookieMap.get(new URL(t.baseURL??"").host);return e&&(t.headers.cookie=e),t}async responseInterceptor(t){const e=t.headers?.["set-cookie"];return e&&this.cookieMap.set(t.request.host,e),t}mergeDefaults(t){return{url:t.url,timeout:t.timeout??2e4,logging:t.logging??!1,logger:t.logger??console.log,headers:{...t.headers,"x-irys-js-sdk-version":Se.VERSION},withCredentials:t.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(t,e){try{return await this.request(t,{...e,method:"GET"})}catch(t){if(t.response?.status)return t.response;throw t}}async post(t,e,r){try{return await this.request(t,{data:e,...r,method:"POST"})}catch(t){if(t.response?.status)return t.response;throw t}}get instance(){if(this._instance)return this._instance;const t=Ht.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:536870912,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(t.interceptors.request.use(this.requestInterceptor.bind(this)),t.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(t.interceptors.request.use((t=>(this.config.logger(`Requesting: ${t.baseURL}/${t.url}`),t))),t.interceptors.response.use((t=>(this.config.logger(`Response: ${t.config.url} - ${t.status}`),t)))),this._instance=t}async request(t,e){const r=this.instance,n=e?.url??new URL(t,this.config.url).toString();return r({...e,url:n})}},Ee=class{utils;constructor(t){this.utils=t}async fund(t,e=1){const r=new le(t);if(!r.isInteger())throw new Error("must use an integer for funding amount");const n=this.utils.tokenConfig,i=await this.utils.getBundlerAddress(this.utils.token);let s;if(n.needsFee){const t=await n.getFee("winston"===n.base[0]?0:r,i);s=le.isBigNumber(t)?t.multipliedBy(e).integerValue(le.ROUND_CEIL):t}const o=await n.createTx(r,i,s);let a;try{a=await n.sendTx(o.tx)}catch(t){throw t}if(o.txId??=a,!o.txId)throw new Error("Undefined transaction ID");ge.checkAndThrow(a,`Sending transaction to the ${this.utils.token} network`);let u=await this.utils.confirmationPoll(o.txId);if(!await this.submitTransaction(o.txId).catch((t=>{u=t})))throw new Error(`failed to post funding tx - ${o.txId} - keep this id! \n ${u?` - ${u?.message??u}`:""}`);return{reward:le.isBigNumber(s)?s.toString():JSON.stringify(s),target:i,quantity:r.toString(),id:o.txId}}async submitTransaction(t){return await de((async()=>{const e=await this.utils.api.post(`/account/balance/${this.utils.token}`,{tx_id:t});return ge.checkAndThrow(e,`Posting transaction ${t} information to the bundler`,[202]),e}),{retries:5,maxTimeout:1e3,minTimeout:100,randomize:!0})}async submitFundTransaction(t){return this.submitTransaction(t)}};class Ae{irys;constructor(t){this.irys=t}async upload(t,e){return this.irys.uploadWithReceipt(t,e)}async uploadProof(t){return await this.irys.uploadWithReceipt("",{tags:Object.entries({dataProtocol:"Provenance-Confirmation",...t}).map((([t,e])=>({name:xe[t],value:e})))})}async getAllProofs(t,e){const r=Object.entries(t).map((([t,e])=>({name:xe[t],values:[e]})));if(0===r.length)throw new Error("Getting a provenance proof requires at least one query element");const n=[];let i=null;do{const t=await this.irys.api.post("/graphql",{query:"\n    query ($tags: [TagFilter!]) {\n      transactions(tags: $tags) {\n        edges {\n          node {\n            id\n            receipt {\n              deadlineHeight\n              signature\n              timestamp\n              version\n            }\n            tags {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n    ",variables:{tags:r,limit:e?.limit??null,after:i}},void 0);i=t.data.data.transactions?.pageInfo?.hasNextPage?t.data.data.transactions.pageInfo.endCursor:null,n.push(...t.data.data.transactions.edges.map((t=>t.node)))}while(i);return n}async getProof(t){const e=(await this.getAllProofs(t,{limit:1})).at(0);if(!e)throw new Error(`Unable to locate proof with fields ${JSON.stringify(t)}`);return e}}const xe={dataProtocol:"Data-Protocol",hashingAlgo:"Hashing-Algo",dataHash:"Data-Hash",uploadedFor:"Uploaded-For",prompt:"Prompt",promptHash:"Prompt-Hash",model:"Model"};class Te{irys;constructor(t){this.irys=t}async getById(t){const e=(await this.query({ids:[t],limit:1})).at(0);if(!e)throw new Error(`Unable to locate tx with id ${t}`);return e}async getByOwner(t){const e=(await this.query({owners:[t],limit:1})).at(0);if(!e)throw new Error(`Unable to locate tx with owner ${t}`);return e}async getByTag(t,e){const r=(await this.query({tags:[{name:t,values:[e]}],limit:1})).at(0);if(!r)throw new Error(`Unable to locate tx with tag ${t}:${e}`);return r}async query(t){const e=[];let r=null;do{const n=await this.irys.api.post("/graphql",{query:"\n    query ($ids: [String!], $after: String, $currency: String, $owners: [String!], $limit: Int, $order: SortOrder, $hasTags: Boolean, $tags: [TagFilter!]) {\n      transactions(ids: $ids, after: $after, currency: $currency, owners: $owners, limit: $limit, order: $order, hasTags: $hasTags, tags: $tags) {\n        edges {\n          cursor\n          node {\n            address\n            currency\n            id\n            receipt {\n              deadlineHeight\n              signature\n              timestamp\n              version\n            }\n            signature\n            tags {\n              name\n              value\n            }\n            timestamp\n          }\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n    ",variables:{...t,after:r??t.after}},void 0);r=n.data.data.transactions?.pageInfo?.hasNextPage?n.data.data.transactions.pageInfo.endCursor:null,e.push(...n.data.data.transactions.edges.map((t=>t.node)))}while(r);return e}}class Ie{publicKey;signatureType;signatureLength;ownerLength;pem;static verify(t,e,r,n){throw new Error("You must implement verify method on child")}}var Be;!function(t){t[t.ARWEAVE=1]="ARWEAVE",t[t.ED25519=2]="ED25519",t[t.ETHEREUM=3]="ETHEREUM",t[t.SOLANA=4]="SOLANA",t[t.INJECTEDAPTOS=5]="INJECTEDAPTOS",t[t.MULTIAPTOS=6]="MULTIAPTOS",t[t.TYPEDETHEREUM=7]="TYPEDETHEREUM"}(Be||(Be={}));const Re={[Be.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[Be.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[Be.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[Be.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[Be.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[Be.MULTIAPTOS]:{sigLength:2052,pubLength:1025,sigName:"multiAptos"},[Be.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}},Pe=BigInt(0),Oe=BigInt(1),Ce=BigInt(2),Ue=BigInt(8),Ne=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Le=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Ne,n:Ne,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),qe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),ze=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),De=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),je=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),He=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Fe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class Ke{constructor(t,e,r,n){this.x=t,this.y=e,this.z=r,this.t=n}static fromAffine(t){if(!(t instanceof Xe))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(Xe.ZERO)?Ke.ZERO:new Ke(t.x,t.y,Oe,hr(t.x*t.y))}static toAffineBatch(t){const e=function(t,e=Le.P){const r=new Array(t.length),n=cr(t.reduce(((t,n,i)=>n===Pe?t:(r[i]=t,hr(t*n,e))),Oe),e);return t.reduceRight(((t,n,i)=>n===Pe?t:(r[i]=hr(t*r[i],e),hr(t*n,e))),n),r}(t.map((t=>t.z)));return t.map(((t,r)=>t.toAffine(e[r])))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){We(t);const{x:e,y:r,z:n}=this,{x:i,y:s,z:o}=t,a=hr(e*o),u=hr(i*n),h=hr(r*o),c=hr(s*n);return a===u&&h===c}negate(){return new Ke(hr(-this.x),this.y,this.z,hr(-this.t))}double(){const{x:t,y:e,z:r}=this,{a:n}=Le,i=hr(t*t),s=hr(e*e),o=hr(Ce*hr(r*r)),a=hr(n*i),u=t+e,h=hr(hr(u*u)-i-s),c=a+s,f=c-o,l=a-s,d=hr(h*f),p=hr(c*l),m=hr(h*l),g=hr(f*c);return new Ke(d,p,g,m)}add(t){We(t);const{x:e,y:r,z:n,t:i}=this,{x:s,y:o,z:a,t:u}=t,h=hr((r-e)*(o+s)),c=hr((r+e)*(o-s)),f=hr(c-h);if(f===Pe)return this.double();const l=hr(n*Ce*u),d=hr(i*Ce*a),p=d+l,m=c+h,g=d-l,y=hr(p*f),b=hr(m*g),v=hr(p*g),w=hr(f*m);return new Ke(y,b,w,v)}subtract(t){return this.add(t.negate())}precomputeWindow(t){const e=1+256/t,r=[];let n=this,i=n;for(let s=0;s<e;s++){i=n,r.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(t,e){!e&&this.equals(Ke.BASE)&&(e=Xe.BASE);const r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=e&&Ze.get(e);n||(n=this.precomputeWindow(r),e&&1!==r&&(n=Ke.normalizeZ(n),Ze.set(e,n)));let i=Ke.ZERO,s=Ke.BASE;const o=1+256/r,a=2**(r-1),u=BigInt(2**r-1),h=2**r,c=BigInt(r);for(let e=0;e<o;e++){const r=e*a;let o=Number(t&u);t>>=c,o>a&&(o-=h,t+=Oe);const f=r,l=r+Math.abs(o)-1,d=e%2!=0,p=o<0;0===o?s=s.add($e(d,n[f])):i=i.add($e(p,n[l]))}return Ke.normalizeZ([i,s])[0]}multiply(t,e){return this.wNAF(gr(t,Le.l),e)}multiplyUnsafe(t){let e=gr(t,Le.l,!1);const r=Ke.BASE,n=Ke.ZERO;if(e===Pe)return n;if(this.equals(n)||e===Oe)return this;if(this.equals(r))return this.wNAF(e);let i=n,s=this;for(;e>Pe;)e&Oe&&(i=i.add(s)),s=s.double(),e>>=Oe;return i}isSmallOrder(){return this.multiplyUnsafe(Le.h).equals(Ke.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(Le.l/Ce).double();return Le.l%Ce&&(t=t.add(this)),t.equals(Ke.ZERO)}toAffine(t){const{x:e,y:r,z:n}=this,i=this.equals(Ke.ZERO);null==t&&(t=i?Ue:cr(n));const s=hr(e*t),o=hr(r*t),a=hr(n*t);if(i)return Xe.ZERO;if(a!==Oe)throw new Error("invZ was invalid");return new Xe(s,o)}fromRistrettoBytes(){Ge()}toRistrettoBytes(){Ge()}fromRistrettoHash(){Ge()}}function $e(t,e){const r=e.negate();return t?r:e}function We(t){if(!(t instanceof Ke))throw new TypeError("ExtendedPoint expected")}function Ve(t){if(!(t instanceof Je))throw new TypeError("RistrettoPoint expected")}function Ge(){throw new Error("Legacy method: switch to RistrettoPoint")}Ke.BASE=new Ke(Le.Gx,Le.Gy,Oe,hr(Le.Gx*Le.Gy)),Ke.ZERO=new Ke(Pe,Oe,Oe,Pe);class Je{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){const{d:e}=Le,r=hr(ze*t*t),n=hr((r+Oe)*He);let i=BigInt(-1);const s=hr((i-e*r)*hr(r+e));let{isValid:o,value:a}=lr(n,s),u=hr(a*t);sr(u)||(u=hr(-u)),o||(a=u),o||(i=r);const h=hr(i*(r-Oe)*Fe-s),c=a*a,f=hr((a+a)*s),l=hr(h*De),d=hr(Oe-c),p=hr(Oe+c);return new Ke(hr(f*p),hr(d*l),hr(l*p),hr(f*d))}static hashToCurve(t){const e=ur((t=mr(t,64)).slice(0,32)),r=this.calcElligatorRistrettoMap(e),n=ur(t.slice(32,64)),i=this.calcElligatorRistrettoMap(n);return new Je(r.add(i))}static fromHex(t){t=mr(t,32);const{a:e,d:r}=Le,n="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=ur(t);if(!function(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}(ir(i),t)||sr(i))throw new Error(n);const s=hr(i*i),o=hr(Oe+e*s),a=hr(Oe-e*s),u=hr(o*o),h=hr(a*a),c=hr(e*r*u-h),{isValid:f,value:l}=dr(hr(c*h)),d=hr(l*a),p=hr(l*d*c);let m=hr((i+i)*d);sr(m)&&(m=hr(-m));const g=hr(o*p),y=hr(m*g);if(!f||sr(y)||g===Pe)throw new Error(n);return new Je(new Ke(m,g,Oe,y))}toRawBytes(){let{x:t,y:e,z:r,t:n}=this.ep;const i=hr(hr(r+e)*hr(r-e)),s=hr(t*e),o=hr(s*s),{value:a}=dr(hr(i*o)),u=hr(a*i),h=hr(a*s),c=hr(u*h*n);let f;if(sr(n*c)){let r=hr(e*ze),n=hr(t*ze);t=r,e=n,f=hr(u*je)}else f=h;sr(t*c)&&(e=hr(-e));let l=hr((r-e)*f);return sr(l)&&(l=hr(-l)),ir(l)}toHex(){return er(this.toRawBytes())}toString(){return this.toHex()}equals(t){Ve(t);const e=this.ep,r=t.ep,n=hr(e.x*r.y)===hr(e.y*r.x),i=hr(e.y*r.y)===hr(e.x*r.x);return n||i}add(t){return Ve(t),new Je(this.ep.add(t.ep))}subtract(t){return Ve(t),new Je(this.ep.subtract(t.ep))}multiply(t){return new Je(this.ep.multiply(t))}multiplyUnsafe(t){return new Je(this.ep.multiplyUnsafe(t))}}Je.BASE=new Je(Ke.BASE),Je.ZERO=new Je(Ke.ZERO);const Ze=new WeakMap;class Xe{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Ze.delete(this)}static fromHex(t,e=!0){const{d:r,P:n}=Le,i=(t=mr(t,32)).slice();i[31]=-129&t[31];const s=or(i);if(e&&s>=n)throw new Error("Expected 0 < hex < P");if(!e&&s>=qe)throw new Error("Expected 0 < hex < 2**256");const o=hr(s*s),a=hr(o-Oe),u=hr(r*o+Oe);let{isValid:h,value:c}=lr(a,u);if(!h)throw new Error("Point.fromHex: invalid y coordinate");const f=(c&Oe)===Oe;return 0!=(128&t[31])!==f&&(c=hr(-c)),new Xe(c,s)}static async fromPrivateKey(t){return(await br(t)).point}toRawBytes(){const t=ir(this.y);return t[31]|=this.x&Oe?128:0,t}toHex(){return er(this.toRawBytes())}toX25519(){const{y:t}=this;return ir(hr((Oe+t)*cr(Oe-t)))}isTorsionFree(){return Ke.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Xe(hr(-this.x),this.y)}add(t){return Ke.fromAffine(this).add(Ke.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Ke.fromAffine(this).multiply(t,this).toAffine()}}Xe.BASE=new Xe(Le.Gx,Le.Gy),Xe.ZERO=new Xe(Pe,Oe);class Ye{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=mr(t,64),r=Xe.fromHex(e.slice(0,32),!1),n=or(e.slice(32,64));return new Ye(r,n)}assertValidity(){const{r:t,s:e}=this;if(!(t instanceof Xe))throw new Error("Expected Point instance");return gr(e,Le.l,!1),this}toRawBytes(){const t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(ir(this.s),32),t}toHex(){return er(this.toRawBytes())}}function Qe(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r}const tr=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function er(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=tr[t[r]];return e}function rr(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function nr(t){return rr(t.toString(16).padStart(64,"0"))}function ir(t){return nr(t).reverse()}function sr(t){return(hr(t)&Oe)===Oe}function or(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+er(Uint8Array.from(t).reverse()))}const ar=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function ur(t){return hr(or(t)&ar)}function hr(t,e=Le.P){const r=t%e;return r>=Pe?r:e+r}function cr(t,e=Le.P){if(t===Pe||e<=Pe)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=hr(t,e),n=e,i=Pe,s=Oe,o=Oe,a=Pe;for(;r!==Pe;){const t=n/r,e=n%r,u=i-o*t,h=s-a*t;n=r,r=e,i=o,s=a,o=u,a=h}if(n!==Oe)throw new Error("invert: does not exist");return hr(i,e)}function fr(t,e){const{P:r}=Le;let n=t;for(;e-- >Pe;)n*=n,n%=r;return n}function lr(t,e){const r=hr(e*e*e),n=hr(r*r*e);let i=hr(t*r*function(t){const{P:e}=Le,r=BigInt(5),n=BigInt(10),i=BigInt(20),s=BigInt(40),o=BigInt(80),a=t*t%e*t%e,u=fr(a,Ce)*a%e,h=fr(u,Oe)*t%e,c=fr(h,r)*h%e,f=fr(c,n)*c%e,l=fr(f,i)*f%e,d=fr(l,s)*l%e,p=fr(d,o)*d%e,m=fr(p,o)*d%e,g=fr(m,n)*c%e;return{pow_p_5_8:fr(g,Ce)*t%e,b2:a}}(t*n).pow_p_5_8);const s=hr(e*i*i),o=i,a=hr(i*ze),u=s===t,h=s===hr(-t),c=s===hr(-t*ze);return u&&(i=o),(h||c)&&(i=a),sr(i)&&(i=hr(-i)),{isValid:u||h,value:i}}function dr(t){return lr(Oe,t)}function pr(t){return hr(or(t),Le.l)}function mr(t,e){const r=t instanceof Uint8Array?Uint8Array.from(t):rr(t);if("number"==typeof e&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function gr(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if("number"==typeof t&&Number.isSafeInteger(t)&&(t=BigInt(t)),"bigint"==typeof t&&t<e)if(r){if(Pe<t)return t}else if(Pe<=t)return t;throw new TypeError("Expected valid scalar: 0 < scalar < max")}let yr;async function br(t){return function(t){const e=function(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}(t.slice(0,32)),r=t.slice(32,64),n=pr(e),i=Xe.BASE.multiply(n),s=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:s}}(await _r.sha512(function(t){if(32!==(t="bigint"==typeof t||"number"==typeof t?nr(gr(t,qe)):mr(t)).length)throw new Error("Expected 32 bytes");return t}(t)))}async function vr(t,e,r){const{r:n,SB:i,msg:s,pub:o}=function(t,e,r){e=mr(e),r instanceof Xe||(r=Xe.fromHex(r,!1));const{r:n,s:i}=t instanceof Ye?t.assertValidity():Ye.fromHex(t);return{r:n,s:i,SB:Ke.BASE.multiplyUnsafe(i),pub:r,msg:e}}(t,e,r),a=await _r.sha512(n.toRawBytes(),o.toRawBytes(),s);return function(t,e,r,n){const i=pr(n),s=Ke.fromAffine(t).multiplyUnsafe(i);return Ke.fromAffine(e).add(s).subtract(r).multiplyUnsafe(Le.h).equals(Ke.ZERO)}(o,n,i,a)}Xe.BASE._setWindowSize(8);const wr={node:Kt,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},_r={bytesToHex:er,hexToBytes:rr,concatBytes:Qe,getExtendedPublicKey:br,mod:hr,invert:cr,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if((t=mr(t)).length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return hr(or(t),Le.l-Oe)+Oe},randomBytes:(t=32)=>{if(wr.web)return wr.web.getRandomValues(new Uint8Array(t));if(wr.node){const{randomBytes:e}=wr.node;return new Uint8Array(e(t).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>_r.randomBytes(32),sha512:async(...t)=>{const e=Qe(...t);if(wr.web){const t=await wr.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}if(wr.node)return Uint8Array.from(wr.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")},precompute(t=8,e=Xe.BASE){const r=e.equals(Xe.BASE)?e:new Xe(e.x,e.y);return r._setWindowSize(t),r.multiply(Ce),r},sha512Sync:void 0};Object.defineProperties(_r,{sha512Sync:{configurable:!1,get:()=>yr,set(t){yr||(yr=t)}}});var Mr=__webpack_require__(8764).Buffer;class Sr{_key;pk;ownerLength=Re[2].pubLength;signatureLength=Re[2].sigLength;_publicKey;get publicKey(){return this._publicKey}signatureType=2;constructor(t,e){this._key=t,this.pk=e}get key(){throw new Error("You must implement `key`")}sign(t){return async function(t,e){t=mr(t);const{prefix:r,scalar:n,pointBytes:i}=await br(e),s=pr(await _r.sha512(r,t)),o=Xe.BASE.multiply(s),a=hr(s+pr(await _r.sha512(o.toRawBytes(),i,t))*n,Le.l);return new Ye(o,a).toRawBytes()}(Mr.from(t),Mr.from(this.key))}static async verify(t,e,r){let n=t;return"string"==typeof t&&(n=Wt.toBuffer(t)),vr(Mr.from(r),Mr.from(e),Mr.from(n))}}var kr=__webpack_require__(9742);function Er(t){let e=0;for(const r of t)e+=r.byteLength;const r=new Uint8Array(e);let n=0;r.set(new Uint8Array(t[0]),n),n+=t[0].byteLength;for(let e=1;e<t.length;e++)r.set(new Uint8Array(t[e]),n),n+=t[e].byteLength;return r}function Ar(t){return xr(Br(t))}function xr(t){return new TextDecoder("utf-8",{fatal:!0}).decode(t)}function Tr(t){return(new TextEncoder).encode(t)}function Ir(t){return Pr(Tr(t))}function Br(t){return new Uint8Array((0,kr.toByteArray)(Cr(t)))}function Rr(t){return(0,kr.fromByteArray)(new Uint8Array(t))}function Pr(t){return Or(Rr(t))}function Or(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function Cr(t){let e;return e=(t=t.replace(/\-/g,"+").replace(/\_/g,"/")).length%4==0?0:4-t.length%4,t.concat("=".repeat(e))}function Ur(t){return new le(t).shiftedBy(-12)}function Nr(t){return new le(t).shiftedBy(12)}class Lr{keyLength=4096;publicExponent=65537;hashAlgorithm="sha256";driver;constructor(){this.driver=crypto?.subtle}async generateJWK(){const t=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),e=await this.driver.exportKey("jwk",t.privateKey);return{kty:e.kty,e:e.e,n:e.n,d:e.d,p:e.p,q:e.q,dp:e.dp,dq:e.dq,qi:e.qi}}async sign(t,e,{saltLength:r}={saltLength:32}){const n=await this.driver.sign({name:"RSA-PSS",saltLength:r},await this.jwkToCryptoKey(t),e);return new Uint8Array(n)}async hash(t,e="SHA-256"){const r=await this.driver.digest(e,t);return new Uint8Array(r)}async verify(t,e,r){const n={kty:"RSA",e:"AQAB",n:t},i=await this.jwkToPublicCryptoKey(n),s=await this.driver.digest("SHA-256",e),o=await this.driver.verify({name:"RSA-PSS",saltLength:0},i,r,e),a=await this.driver.verify({name:"RSA-PSS",saltLength:32},i,r,e),u=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((i.algorithm.modulusLength-1)/8)-s.byteLength-2},i,r,e);return o||a||u}async jwkToCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}async encrypt(t,e,r){const n=await this.driver.importKey("raw","string"==typeof e?Tr(e):e,{name:"PBKDF2",length:32},!1,["deriveKey"]),i=await this.driver.deriveKey({name:"PBKDF2",salt:Tr(r||"salt"),iterations:1e5,hash:"SHA-256"},n,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=new Uint8Array(16);return crypto.getRandomValues(s),Er([s,await this.driver.encrypt({name:"AES-CBC",iv:s},i,t)])}async decrypt(t,e,r){const n=await this.driver.importKey("raw","string"==typeof e?Tr(e):e,{name:"PBKDF2",length:32},!1,["deriveKey"]),i=await this.driver.deriveKey({name:"PBKDF2",salt:Tr(r||"salt"),iterations:1e5,hash:"SHA-256"},n,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=t.slice(0,16);return Er([await this.driver.decrypt({name:"AES-CBC",iv:s},i,t.slice(16))])}}async function qr(t){if("function"==typeof t[Symbol.asyncIterator]){const e=t,r=(0,Ft.createHash)("sha384");let n=0;for await(const t of e)n+=t.byteLength,r.update(t);const i=Er([Tr("blob"),Tr(n.toString())]),s=Er([await yn().hash(i,"SHA-384"),r.digest()]);return await yn().hash(s,"SHA-384")}if(Array.isArray(t)){const e=Er([Tr("list"),Tr(t.length.toString())]);return await zr(t,await yn().hash(e,"SHA-384"))}const e=t,r=Er([Tr("blob"),Tr(e.byteLength.toString())]),n=Er([await yn().hash(r,"SHA-384"),await yn().hash(e,"SHA-384")]);return await yn().hash(n,"SHA-384")}async function zr(t,e){if(t.length<1)return e;const r=Er([e,await qr(t[0])]),n=await yn().hash(r,"SHA-384");return await zr(t.slice(1),n)}class Dr extends Error{type;response;constructor(t,e={}){e.message?super(e.message):super(),this.type=t,this.response=e.response}getType(){return this.type}}function jr(t){let e=t.data;if("string"==typeof t.data)try{e=JSON.parse(t.data)}catch(t){}if(t.data instanceof ArrayBuffer||t.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch(t){}return e?e.error||e:t.statusText||"unknown"}class Hr{api;network;constructor(t,e){this.api=t,this.network=e}async getByHash(t){const e=await this.api.get(`block/hash/${t}`);if(200===e.status)return e.data;throw 404===e.status?new Dr("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${e}`)}async getByHeight(t){const e=await this.api.get(`block/height/${t}`);if(200===e.status)return e.data;throw 404===e.status?new Dr("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${e}`)}async getCurrent(){const{current:t}=await this.network.getInfo();return await this.getByHash(t)}}var Fr=__webpack_require__(8764).Buffer;const Kr=262144;function $r(t){const e=[];return t.forEach((t=>{Array.isArray(t)?e.push(...$r(t)):e.push(t)})),e}function Wr(t){const e=new Uint8Array(32);for(let r=e.length-1;r>=0;r--){const n=t%256;e[r]=n,t=(t-n)/256}return e}function Vr(t){let e=0;for(let r=0;r<t.length;r++)e*=256,e+=t[r];return e}const Gr=(t,e)=>t.every(((t,r)=>e[r]===t)),Jr=class{crypto;constructor(t){this.crypto=t.deps.crypto}async chunkData(t){const e=[];let r=t,n=0;for(;r.byteLength>=Kr;){let t=Kr;const i=r.byteLength-Kr;i>0&&i<32768&&(t=Math.ceil(r.byteLength/2));const s=r.slice(0,t),o=await this.crypto.hash(s);n+=s.byteLength,e.push({dataHash:o,minByteRange:n-s.byteLength,maxByteRange:n}),r=r.slice(t)}return e.push({dataHash:await this.crypto.hash(r),minByteRange:n,maxByteRange:n+r.byteLength}),e}async generateLeaves(t){return Promise.all(t.map((async({dataHash:t,minByteRange:e,maxByteRange:r})=>({type:"leaf",id:await this.hash(await Promise.all([this.hash(t),this.hash(Wr(r))])),dataHash:t,minByteRange:e,maxByteRange:r}))))}async computeRootHash(t){return(await this.generateTree(t)).id}async generateTree(t){return await this.buildLayers(await this.generateLeaves(await this.chunkData(t)))}async generateTransactionChunks(t){const e=await this.chunkData(t),r=await this.generateLeaves(e),n=await this.buildLayers(r),i=await this.generateProofs(n),s=e.slice(-1)[0];return s.maxByteRange-s.minByteRange==0&&(e.splice(e.length-1,1),i.splice(i.length-1,1)),{data_root:n.id,chunks:e,proofs:i}}async buildLayers(t,e=0){if(t.length<2)return t[0];const r=[];for(let e=0;e<t.length;e+=2)r.push(await this.hashBranch(t[e],t[e+1]));return this.buildLayers(r,e+1)}generateProofs(t){const e=this.resolveBranchProofs(t);return Array.isArray(e)?$r(e):[e]}resolveBranchProofs(t,e=new Uint8Array,r=0){if("leaf"==t.type)return{offset:t.maxByteRange-1,proof:Er([e,t.dataHash,Wr(t.maxByteRange)])};if("branch"==t.type){const n=Er([e,t.leftChild.id,t.rightChild.id,Wr(t.byteRange)]);return[this.resolveBranchProofs(t.leftChild,n,r+1),this.resolveBranchProofs(t.rightChild,n,r+1)]}throw new Error("Unexpected node type")}async validatePath(t,e,r,n,i){if(n<=0)return!1;if(e>=n)return this.validatePath(t,0,n-1,n,i);if(e<0)return this.validatePath(t,0,0,n,i);if(64==i.length){const e=i.slice(0,32),s=i.slice(e.length,e.length+32),o=await this.hash([await this.hash(e),await this.hash(s)]);return!!Gr(t,o)&&{offset:n-1,leftBound:r,rightBound:n,chunkSize:n-r}}const s=i.slice(0,32),o=i.slice(s.length,s.length+32),a=i.slice(s.length+o.length,s.length+o.length+32),u=Vr(a),h=i.slice(s.length+o.length+a.length),c=await this.hash([await this.hash(s),await this.hash(o),await this.hash(a)]);return!!Gr(t,c)&&(e<u?await this.validatePath(s,e,r,Math.min(n,u),h):await this.validatePath(o,e,Math.max(r,u),n,h))}async hashBranch(t,e){return e?{type:"branch",id:await this.hash([await this.hash(t.id),await this.hash(e.id),await this.hash(Wr(t.maxByteRange))]),byteRange:t.maxByteRange,maxByteRange:e.maxByteRange,leftChild:t,rightChild:e}:t}async hash(t){return Array.isArray(t)&&(t=ln.utils.concatBuffers(t)),new Uint8Array(await this.crypto.hash(t))}async debug(t,e=""){if(t.byteLength<1)return e;const r=t.slice(0,32),n=t.slice(r.length,r.length+32),i=t.slice(r.length+n.length,r.length+n.length+32),s=Vr(i),o=t.slice(r.length+n.length+i.length),a=await this.hash([await this.hash(r),await this.hash(n),await this.hash(i)]),u=`${e}\n${JSON.stringify(Fr.from(r))},${JSON.stringify(Fr.from(n))},${s} => ${JSON.stringify(a)}`;return this.debug(o,u)}};class Zr{api;constructor(t){this.api=t}async getTransactionMetadata(t){const e=await this.api.get(`tx/${t}/offset`);if(200===e.status)return e.data;throw new Error(`Unable to get transaction offset: ${jr(e)}`)}async getChunk(t){const e=await this.api.get(`chunk/${t}`);if(200===e.status)return e.data;throw new Error(`Unable to get chunk: ${jr(e)}`)}async getChunkData(t){return Br((await this.getChunk(t)).chunk)}firstChunkOffset(t){return parseInt(t.offset)-parseInt(t.size)+1}async downloadChunkedData(t,e){const r=await this.getTransactionMetadata(t),n=parseInt(r.size),i=new Uint8Array(n);let s=0;for await(const r of this.concurrentChunkDownloader(t,e))i.set(r,s),s+=r.length;return i}async*concurrentChunkDownloader(t,e){const r={concurrency:10,...e},n=await this.getTransactionMetadata(t),i=new le(n.offset),s=new le(n.size),o=i.minus(s).plus(1);let a=0;const u=t=>this.getChunkData(t.toString()).then((t=>(a+=t.length,t))),h=[],c=Math.ceil(s.dividedBy(Kr).toNumber())-2,f=Math.min(c,r.concurrency);let l=0;for(let t=0;t<f;t++)h.push(u(o.plus(Kr*l++)));for(;l<c;)h.push(u(o.plus(Kr*l++))),yield h.shift();for(;h.length>0;)yield h.shift();if(yield u(o.plus(Kr*l++)),s.isGreaterThan(a)&&(yield u(o.plus(Kr*l++))),!s.isEqualTo(a))throw new Error(`got ${a}B, expected ${s.toString()}B`)}}class Xr{crypto;utils;constructor({deps:t}){this.crypto=t.crypto,this.utils=t.utils}async deepHash(t){if(Array.isArray(t)){const e=this.utils.concatBuffers([this.utils.stringToBuffer("list"),this.utils.stringToBuffer(t.length.toString())]);return await this.deepHashChunks(t,await this.crypto.hash(e,"SHA-384"))}const e=this.utils.concatBuffers([this.utils.stringToBuffer("blob"),this.utils.stringToBuffer(t.byteLength.toString())]),r=this.utils.concatBuffers([await this.crypto.hash(e,"SHA-384"),await this.crypto.hash(t,"SHA-384")]);return await this.crypto.hash(r,"SHA-384")}async deepHashChunks(t,e){if(t.length<1)return e;const r=this.utils.concatBuffers([e,await this.deepHash(t[0])]),n=await this.crypto.hash(r,"SHA-384");return await this.deepHashChunks(t.slice(1),n)}}class Yr{_instance;cookieMap=new Map;config;constructor(t){t&&this.applyConfig(t)}applyConfig(t){this.config=this.mergeDefaults(t),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(t){const e=this.cookieMap.get(new URL(t.baseURL??"").host);return e&&(t.headers.cookie=e),t}async responseInterceptor(t){const e=t.headers?.["set-cookie"];return e&&this.cookieMap.set(t.request.host,e),t}mergeDefaults(t){return t.headers??={},t.network&&!Object.keys(t.headers).includes("x-network")&&(t.headers["x-network"]=t.network),{url:t.url,timeout:t.timeout??2e4,logging:t.logging??!1,logger:t.logger??console.log,headers:{...t.headers,"x-irys-arweave-version":ln.VERSION},withCredentials:t.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(t,e){try{return await this.request(t,{...e,method:"GET"})}catch(t){if(t.response?.status)return t.response;throw t}}async post(t,e,r){try{return await this.request(t,{data:e,...r,method:"POST"})}catch(t){if(t.response?.status)return t.response;throw t}}get instance(){if(this._instance)return this._instance;const t=Ht.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:536870912,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(t.interceptors.request.use(this.requestInterceptor.bind(this)),t.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(t.interceptors.request.use((t=>(this.config.logger(`Requesting: ${t.baseURL}/${t.url}`),t))),t.interceptors.response.use((t=>(this.config.logger(`Response: ${t.config.url} - ${t.status}`),t)))),this._instance=t}async request(t,e){const r=this.instance,n=e?.url??new URL(t,this.config.url).toString();return de((t=>r({...e,url:n})),{...this.config.retry,...e?.retry})}}const Qr=t=>"string"!=typeof t&&"url"in t,tn={maxAttempts:15,randomlySelect:!0},en=class{minerInstances=[];globalConfig;gatewayInstances=[];constructor({gateways:t,miners:e,opts:r}){this.globalConfig=r?.globalConfig??{},e&&this.addMiners(e),t&&this.addGateways(t)}async addPeersFrom(t,e){const r=(await this.get("",{url:new URL("/peers",t).toString()})).data;this.addMiners(r.slice(0,e?.limit).map((t=>`http://${t}`)))}addMiners(t){t.forEach((t=>this.minerInstances.push(new Yr(Qr(t)?t:{url:new URL(t),...this.globalConfig}))))}addGateways(t){t.forEach((t=>this.gatewayInstances.push(new Yr(Qr(t)?t:{url:new URL(t),...this.globalConfig}))))}async get(t,e){return this.request(t,{...e,method:"GET"})}async post(t,e,r){return this.request(t,{data:e,...r,method:"POST"})}async request(t,e){const r={...tn,...e?.fallback};let n=0;const i=[],s=e?.gatewayOnly?this.gatewayInstances:this.gatewayInstances.concat(this.minerInstances),o=Math.min(Math.max(r?.maxAttempts,1),s.length),a=r?.onFallback;if(0===s.length)throw new Error("Unable to run request due to 0 configured gateways/miners.");for(;n++<o;){const u=s.at(r?.randomlySelect?Math.floor(Math.random()*s.length):n-1);if(u)try{return await u.request(t,{...e})}catch(t){if(a?.(t,u),i.push(t),n>=o)throw t}}throw new Error("unreachable")}};class rn{get(t,e){if(!Object.getOwnPropertyNames(this).includes(t))throw new Error(`Field "${t}" is not a property of the Arweave Transaction class.`);if(this[t]instanceof Uint8Array)return e&&e.decode&&e.string?xr(this[t]):e&&e.decode&&!e.string?this[t]:Pr(this[t]);if(this[t]instanceof Array){if(void 0!==e?.decode||void 0!==e?.string)throw"tags"===t&&console.warn("Did you mean to use 'transaction[\"tags\"]' ?"),new Error("Cannot decode or stringify an array.");return this[t]}return e&&1==e.decode?e&&e.string?Ar(this[t]):Br(this[t]):this[t]}}class nn extends rn{name;value;constructor(t,e){super(),this.name=t,this.value=e}}class sn extends rn{format=2;id="";last_tx="";owner="";tags=[];target="";quantity="0";data_size="0";data=new Uint8Array;data_root="";reward="0";signature="";merkle;deepHash;chunks;constructor({attributes:t,deps:e}){super(),this.merkle=e.merkle,this.deepHash=e.deepHash,Object.assign(this,t),"string"==typeof this.data&&(this.data=Br(this.data)),t.tags&&(this.tags=t.tags)}addTag(t,e){this.tags.push({name:Ir(t),value:Ir(e)})}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:Pr(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(t){this.owner=t}setSignature({id:t,owner:e,reward:r,tags:n,signature:i}){this.id=t,this.owner=e,r&&(this.reward=r),n&&(this.tags=n),this.signature=i}async prepareChunks(t){!this.chunks&&t.byteLength>0&&(this.chunks=await this.merkle.generateTransactionChunks(t),this.data_root=Pr(this.chunks.data_root)),this.chunks||0!==t.byteLength||(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(t,e){if(!this.chunks)throw new Error("Chunks have not been prepared");const r=this.chunks.proofs[t],n=this.chunks.chunks[t];return{data_root:this.data_root,data_size:this.data_size,data_path:Pr(r.proof),offset:r.offset.toString(),chunk:Pr(e.slice(n.minByteRange,n.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:const t=this.tags.reduce(((t,e)=>Er([t,Br(e.name),Br(e.value)])),new Uint8Array);return Er([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),Tr(this.quantity),Tr(this.reward),this.get("last_tx",{decode:!0,string:!1}),t]);case 2:this.data_root||await this.prepareChunks(this.data);const e=this.tags.map((t=>[Br(t.name),Br(t.value)]));return await this.deepHash.deepHash([Tr(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),Tr(this.quantity),Tr(this.reward),this.get("last_tx",{decode:!0,string:!1}),e,Tr(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}class on{api;constructor(t){this.api=t}getInfo(){return this.api.get("info").then((t=>t.data))}getPeers(){return this.api.get("peers").then((t=>t.data))}}const an=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"];class un{chunkIndex=0;txPosted=!1;transaction;lastRequestTimeEnd=0;totalErrors=0;data;lastResponseStatus=0;lastResponseError="";get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}crypto;api;merkle;deepHash;constructor({deps:t,transaction:e}){if(!e.id)throw new Error("Transaction is not signed");if(!e.chunks)throw new Error("Transaction chunks not prepared");this.api=t.api,this.crypto=t.crypto,this.merkle=t.merkle,this.deepHash=t.deepHash,this.data=e.data,this.transaction=new sn({attributes:Object.assign({},e,{data:new Uint8Array(0)}),deps:{merkle:t.merkle,deepHash:t.deepHash}})}async uploadChunk(t){if(this.isComplete)throw new Error("Upload is already complete");if(""!==this.lastResponseError?this.totalErrors++:this.totalErrors=0,100===this.totalErrors)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let e=""===this.lastResponseError?0:Math.max(this.lastRequestTimeEnd+4e4-Date.now(),4e4);if(e>0&&(e-=e*Math.random()*.3,await new Promise((t=>setTimeout(t,e)))),this.lastResponseError="",!this.txPosted)return void await this.postTransaction();t&&(this.chunkIndex=t);const r=this.transaction.getChunk(t||this.chunkIndex,this.data);if(!await this.merkle.validatePath(this.transaction.chunks.data_root,parseInt(r.offset),0,parseInt(r.data_size),Br(r.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const n=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch((t=>(console.error(t.message),{status:-1,data:{error:t.message}})));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,200==this.lastResponseStatus)this.chunkIndex++;else if(this.lastResponseError=jr(n),an.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized({serialized:t,data:e,deps:r}){if(!t||"number"!=typeof t.chunkIndex||"object"!=typeof t.transaction)throw new Error("Serialized object does not match expected format.");const n=new sn(t.transaction);n.chunks||await n.prepareChunks(e);const i=new un({deps:r,transaction:n});if(i.chunkIndex=t.chunkIndex,i.lastRequestTimeEnd=t.lastRequestTimeEnd,i.lastResponseError=t.lastResponseError,i.lastResponseStatus=t.lastResponseStatus,i.txPosted=t.txPosted,i.data=e,i.transaction.data_root!==t.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return i}static async fromTransactionId(t,e){const r=await t.get(`tx/${e}`);if(200!==r.status)throw new Error(`Tx ${e} not found: ${r.status}`);const n=r.data;return n.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:n}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=1){this.transaction.data=this.data;const t=await this.api.post("tx",this.transaction).catch((t=>(console.error(t),{status:-1,data:{error:t.message}})));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,this.transaction.data=new Uint8Array(0),t.status>=200&&t.status<300)return this.txPosted=!0,void(this.chunkIndex=1);throw this.lastResponseError=jr(t),new Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`)}const t=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,!(t.status>=200&&t.status<300))throw this.lastResponseError=jr(t),new Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`);this.txPosted=!0}}class hn{api;crypto;chunks;merkle;deepHash;constructor({deps:t}){this.api=t.api,this.crypto=t.crypto,this.chunks=t.chunks,this.merkle=t.merkle,this.deepHash=t.deepHash}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then((t=>t.data))}getPrice(t,e){const r=e?`price/${t}/${e}`:`price/${t}`;return this.api.get(r,{transformResponse:[function(t){return t}]}).then((t=>t.data))}async get(t){const e=await this.api.get(`tx/${t}`);if(200==e.status){const r=parseInt(e.data.data_size);if(e.data.format>=2&&r>0&&r<=12582912){const r=await this.getData(t);return new sn({attributes:{...e.data,data:r},deps:{merkle:this.merkle,deepHash:this.deepHash}})}return new sn({attributes:{...e.data,format:e.data.format||1},deps:{merkle:this.merkle,deepHash:this.deepHash}})}if(404===e.status)throw new Dr("TX_NOT_FOUND");if(410===e.status)throw new Dr("TX_FAILED");throw new Dr("TX_INVALID")}fromRaw(t){return new sn({attributes:t,deps:{merkle:this.merkle,deepHash:this.deepHash}})}getStatus(t){return this.api.get(`tx/${t}/status`).then((t=>200===t.status?{status:200,confirmed:t.data}:{status:t.status,confirmed:null}))}async getData(t){let e;try{e=(await this.api.get(`/${t}`,{responseType:"arraybuffer"})).data}catch(e){console.error(`Error while trying to download contiguous data from gateway cache for ${t}`),console.error(e)}if(!e){console.warn(`Falling back to chunks for ${t}`);try{e=await this.chunks.downloadChunkedData(t)}catch(e){console.error(`Error while trying to download chunked data for ${t}`),console.error(e)}}if(!e)throw new Error(`${t} data was not found!`);return e}async getDataStream(t){let e;try{const r=(await this.api.get(`/${t}`,{responseType:"arraybuffer"})).data;e=async function*(){yield r}()}catch(e){console.error(`Error while trying to download contiguous data from gateway cache for ${t}`),console.error(e)}if(!e){console.warn(`Falling back to chunks for ${t}`);try{e=this.chunks.concurrentChunkDownloader(t)}catch(e){console.error(`Error while trying to download chunked data for ${t}`),console.error(e)}}if(!e)throw new Error(`${t} data was not found!`);return e}async sign(t,e,r){const n="object"==typeof e&&(t=>{let e=!0;return["n","e","d","p","q","dp","dq","qi"].map((r=>!(r in t)&&(e=!1))),e})(e),i="object"==typeof arweaveWallet;if(!n&&!i)throw new Error("No valid JWK or external wallet found to sign transaction.");if(i){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}t.tags=t.tags.map((t=>new nn(t.name,t.value)));const e=await arweaveWallet.sign(t,r);t.setSignature({id:e.id,owner:e.owner,reward:e.reward,tags:e.tags,signature:e.signature})}else{if(!n)throw new Error("An error occurred while signing. Check wallet is valid");{t.setOwner(e.n);const n=await t.getSignatureData(),i=await this.crypto.sign(e,n,r),s=await this.crypto.hash(i);t.setSignature({id:Pr(s),owner:e.n,signature:Pr(i)})}}}async verify(t){const e=await t.getSignatureData(),r=t.get("signature",{decode:!0,string:!1}),n=Pr(await this.crypto.hash(r));if(t.id!==n)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(t.owner,e,r)}async post(t){if("string"==typeof t?t=new sn({attributes:JSON.parse(t),deps:{merkle:this.merkle,deepHash:this.deepHash}}):"function"==typeof t.readInt32BE?t=new sn({attributes:JSON.parse(t.toString()),deps:{merkle:this.merkle,deepHash:this.deepHash}}):"object"!=typeof t||t instanceof sn||(t=new sn({attributes:t,deps:{merkle:this.merkle,deepHash:this.deepHash}})),!(t instanceof sn))throw new Error("Must be Transaction object");t.chunks||await t.prepareChunks(t.data);const e=await this.getUploader(t,t.data);try{for(;!e.isComplete;)await e.uploadChunk()}catch(t){if(e.lastResponseStatus>0)return{status:e.lastResponseStatus,statusText:e.lastResponseError,data:{error:e.lastResponseError}};throw t}return{status:200,statusText:"OK",data:{}}}async getUploader(t,e){let r;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t instanceof sn){if(e||(e=t.data),!(e instanceof Uint8Array))throw new Error("Data format is invalid");t.chunks||await t.prepareChunks(e),r=new un({transaction:t,deps:{api:this.api,crypto:this.crypto,merkle:this.merkle,deepHash:this.deepHash}}),r.data&&0!==r.data.length||(r.data=e)}else{if("string"==typeof t&&(t=await un.fromTransactionId(this.api,t)),!(e&&e instanceof Uint8Array))throw new Error("Must provide data when resuming upload");r=await un.fromSerialized({deps:{api:this.api,merkle:this.merkle,crypto:this.crypto,deepHash:this.deepHash},serialized:t,data:e})}return r}async*upload(t,e){const r=await this.getUploader(t,e);for(;!r.isComplete;)await r.uploadChunk(),yield r;return r}}class cn{api;crypto;constructor(t,e){this.api=t,this.crypto=e}getBalance(t){return this.api.get(`wallet/${t}/balance`,{transformResponse:[function(t){return t}]}).then((t=>t.data))}getLastTransactionID(t){return this.api.get(`wallet/${t}/last_tx`).then((t=>t.data))}generate(){return this.crypto.generateJWK()}async jwkToAddress(t){return t&&"use_wallet"!==t?this.getAddress(t):this.getAddress()}async getAddress(t){if(t&&"use_wallet"!==t)return this.ownerToAddress(t.n);try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}async ownerToAddress(t){return Pr(await this.crypto.hash(Br(t)))}}class fn{config;api;wallets;transactions;network;blocks;chunks;static init;static utils=t;crypto;deepHash;merkle;static VERSION="0.0.1";constructor(t){if(this.config=t,!t.crypto)throw new Error("config.crypto is required");this.crypto=function(t,e){const r=t;return r.deepHash=new e.deepHash({deps:{utils:{stringToBuffer:Tr,concatBuffers:Er},crypto:t}}),r}(t.crypto,{deepHash:Xr}),this.deepHash=this.crypto.deepHash;const e=t.gateways?Array.isArray(t.gateways)?t.gateways:[t.gateways]:void 0;this.api=new en({gateways:e,miners:t.miners}),this.wallets=new cn(this.api,this.crypto),this.chunks=new Zr(this.api),this.network=new on(this.api),this.blocks=new Hr(this.api,this.network),this.merkle=new Jr({deps:{crypto:this.crypto}}),this.transactions=new hn({deps:{api:this.api,crypto:t.crypto,chunks:this.chunks,merkle:this.merkle,deepHash:this.deepHash}})}get utils(){return fn.utils}getConfig(){return this.config}async createTransaction(t,e){const r={};if(Object.assign(r,t),!(t.data||t.target&&t.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(null==t.owner&&e&&"use_wallet"!==e&&(r.owner=e.n),null==t.last_tx&&(r.last_tx=await this.transactions.getTransactionAnchor()),"string"==typeof t.data&&(t.data=Tr(t.data)),t.data instanceof ArrayBuffer&&(t.data=new Uint8Array(t.data)),t.data&&!(t.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(null==t.reward){const e=t.data?t.data.byteLength:0;r.reward=await this.transactions.getPrice(e,r.target)}r.data_root="",r.data_size=t.data?t.data.byteLength.toString():"0",r.data=t.data||new Uint8Array(0);const n=new sn({attributes:r,deps:{merkle:this.merkle,deepHash:this.deepHash}});return await n.getSignatureData(),n}}const ln=fn;class dn extends fn{constructor(t,e){super({crypto:e?.crypto??new Lr,...e,gateways:t??"https://arweave.net"})}static init(t){return new dn(t)}}const pn=Lr.default?Lr.default:Lr;class mn extends pn{getPublicKey(t){throw new Error("Unimplemented")}}let gn;function yn(){return gn??=new mn}var bn=__webpack_require__(8764).Buffer;class vn{_key;pk;signatureType=1;ownerLength=Re[1].pubLength;signatureLength=Re[1].sigLength;_publicKey;get publicKey(){return this._publicKey}constructor(t,e){this._key=t,this.pk=e,e||(this.pk=yn().getPublicKey(JSON.parse(t)))}sign(t){return(0,Ft.createSign)("sha256").update(t).sign({key:this._key,padding:Ft.constants.RSA_PKCS1_PSS_PADDING})}static async verify(t,e,r){return await yn().verify(bn.isBuffer(t)?Wt.encode(t):t,e,r)}}var wn=__webpack_require__(2500),_n=__webpack_require__(3550),Mn=__webpack_require__.n(_n),Sn=__webpack_require__(8764).Buffer;const kn=wn.define,En=kn("RSAPublicKey",(function(){this.seq().obj(this.key("n").int(),this.key("e").int())})),An=kn("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())})),xn=(kn("PublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(An),this.key("publicKey").bitstr())})),kn("Version",(function(){this.int({0:"two-prime",1:"multi"})}))),Tn=kn("OtherPrimeInfos",(function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())})),In=kn("RSAPrivateKey",(function(){this.seq().obj(this.key("version").use(xn),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(Tn))}));function Bn(t){return/^[0-9]+$/.test(t)?new _n(t,10):function(t){return new _n(Sn.from(t,"base64"))}(t)}kn("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").use(xn),this.key("algorithm").use(An),this.key("privateKey").bitstr())}));class Rn extends vn{jwk;constructor(t){super(function(t){const e=function(t){return{n:Bn(t.n),e:Bn(t.e),d:t.d&&Bn(t.d),p:t.p&&Bn(t.p),q:t.q&&Bn(t.q),dp:t.dp&&Bn(t.dp),dq:t.dq&&Bn(t.dq),qi:t.qi&&Bn(t.qi)}}(t),r=!!e.d,n=r?"PRIVATE":"PUBLIC",i="-----BEGIN RSA "+n+" KEY-----\n",s="\n-----END RSA "+n+" KEY-----\n";let o=Sn.alloc(0);return r?(e.version="two-prime",o=In.encode(e,"der")):o=En.encode(e,"der"),i+o.toString("base64").match(/.{1,64}/g).join("\n")+s}(t),t.n),this.jwk=t}get publicKey(){if(!this.pk)throw new Error("ArweaveSigner - pk is undefined");return Wt.toBuffer(this.pk)}sign(t){return yn().sign(this.jwk,t)}static async verify(t,e,r){return await yn().verify(t,e,r)}}var Pn=__webpack_require__(8764).Buffer;class On{_publicKey;ownerLength=Re[2].pubLength;signatureLength=Re[2].sigLength;signatureType=2;pem;provider;constructor(t){if(this.provider=t,!this.provider.publicKey)throw new Error("InjectedSolanaSigner - provider.publicKey is undefined");this._publicKey=this.provider.publicKey.toBuffer()}get publicKey(){return this._publicKey}async sign(t){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");return await this.provider.signMessage(t)}static async verify(t,e,r){let n=t;return"string"==typeof t&&(n=Wt.toBuffer(t)),vr(Pn.from(r),Pn.from(e),Pn.from(n))}}let Cn=!1,Un=!1;const Nn={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ln=Nn.default,qn=null;const zn=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Dn,jn;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Dn||(Dn={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(jn||(jn={}));const Hn="0123456789abcdef";class Fn{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Nn[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Ln>Nn[r]||console.log.apply(console,e)}debug(...t){this._log(Fn.levels.DEBUG,t)}info(...t){this._log(Fn.levels.INFO,t)}warn(...t){this._log(Fn.levels.WARNING,t)}makeError(t,e,r){if(Un)return this.makeError("censored error",e,{});e||(e=Fn.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Hn[e[t]>>4],r+=Hn[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let s="";switch(e){case jn.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case jn.CALL_EXCEPTION:case jn.INSUFFICIENT_FUNDS:case jn.MISSING_NEW:case jn.NONCE_EXPIRED:case jn.REPLACEMENT_UNDERPRICED:case jn.TRANSACTION_REPLACED:case jn.UNPREDICTABLE_GAS_LIMIT:s=e}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const o=new Error(t);return o.reason=i,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Fn.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),zn&&this.throwError("platform missing String.prototype.normalize",Fn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:zn})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Fn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Fn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Fn.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Fn.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Fn.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Fn.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Fn.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return qn||(qn=new Fn("logger/5.7.0")),qn}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Fn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Cn){if(!t)return;this.globalLogger().throwError("error censorship permanent",Fn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Un=!!t,Cn=!!e}static setLogLevel(t){const e=Nn[t.toLowerCase()];null!=e?Ln=e:Fn.globalLogger().warn("invalid log level - "+t)}static from(t){return new Fn(t)}}Fn.errors=jn,Fn.levels=Dn;const Kn=new Fn("bytes/5.7.0");function $n(t){return!!t.toHexString}function Wn(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Wn(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Vn(t){return Qn(t)&&!(t.length%2)||Jn(t)}function Gn(t){return"number"==typeof t&&t==t&&t%1==0}function Jn(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!Gn(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Gn(r)||r<0||r>=256)return!1}return!0}function Zn(t,e){if(e||(e={}),"number"==typeof t){Kn.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Wn(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),$n(t)&&(t=t.toHexString()),Qn(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Kn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Wn(new Uint8Array(n))}return Jn(t)?Wn(new Uint8Array(t)):Kn.throwArgumentError("invalid arrayify value","value",t)}function Xn(t){const e=t.map((t=>Zn(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),Wn(n)}function Yn(t){let e=Zn(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function Qn(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const ti="0123456789abcdef";function ei(t,e){if(e||(e={}),"number"==typeof t){Kn.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=ti[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),$n(t))return t.toHexString();if(Qn(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Kn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Jn(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=ti[(240&n)>>4]+ti[15&n]}return e}return Kn.throwArgumentError("invalid hexlify value","value",t)}function ri(t){if("string"!=typeof t)t=ei(t);else if(!Qn(t)||t.length%2)return null;return(t.length-2)/2}function ni(t,e,r){return"string"!=typeof t?t=ei(t):(!Qn(t)||t.length%2)&&Kn.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function ii(t){let e="0x";return t.forEach((t=>{e+=ei(t).substring(2)})),e}function si(t,e){for("string"!=typeof t?t=ei(t):Qn(t)||Kn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Kn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function oi(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Vn(t)){let r=Zn(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ei(r.slice(0,32)),e.s=ei(r.slice(32,64))):65===r.length?(e.r=ei(r.slice(0,32)),e.s=ei(r.slice(32,64)),e.v=r[64]):Kn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:Kn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ei(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=Zn(t)).length>e&&Kn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Wn(r)}(Zn(e._vs),32);e._vs=ei(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&Kn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=ei(r);null==e.s?e.s=i:e.s!==i&&Kn.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?Kn.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&Kn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&Qn(e.r)?e.r=si(e.r,32):Kn.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&Qn(e.s)?e.s=si(e.s,32):Kn.throwArgumentError("signature missing or invalid s","signature",t);const r=Zn(e.s);r[0]>=128&&Kn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ei(r);e._vs&&(Qn(e._vs)||Kn.throwArgumentError("signature invalid _vs","signature",t),e._vs=si(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&Kn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function ai(t){return ei(Xn([(t=oi(t)).r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}var ui=__webpack_require__(1094),hi=__webpack_require__.n(ui);function ci(t){return"0x"+hi().keccak_256(Zn(t))}const fi=new Fn("strings/5.7.0");var li,di;function pi(t,e,r,n,i){if(t===di.BAD_PREFIX||t===di.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===di.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(li||(li={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(di||(di={}));const mi=Object.freeze({error:function(t,e,r,n,i){return fi.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:pi,replace:function(t,e,r,n,i){return t===di.OVERLONG?(n.push(i),0):(n.push(65533),pi(t,e,r))}});function gi(t,e=li.current){e!=li.current&&(fi.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const s=65536+((1023&n)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return Zn(r)}function yi(t,e){return function(t,e){null==e&&(e=mi.error),t=Zn(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7==0){r.push(i);continue}let s=null,o=null;if(192==(224&i))s=1,o=127;else if(224==(240&i))s=2,o=2047;else{if(240!=(248&i)){n+=e(128==(192&i)?di.UNEXPECTED_CONTINUE:di.BAD_PREFIX,n-1,t,r);continue}s=3,o=65535}if(n-1+s>=t.length){n+=e(di.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let i=0;i<s;i++){let i=t[n];if(128!=(192&i)){n+=e(di.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(di.OUT_OF_RANGE,n-1-s,t,r,a):a>=55296&&a<=57343?n+=e(di.UTF16_SURROGATE,n-1-s,t,r,a):a<=o?n+=e(di.OVERLONG,n-1-s,t,r,a):r.push(a))}return r}(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function bi(t){return"string"==typeof t&&(t=gi(t)),ci(Xn([gi("Ethereum Signed Message:\n"),gi(String(t.length)),t]))}var vi=__webpack_require__(3715),wi=__webpack_require__.n(vi);function _i(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},t(r,r.exports),r.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self&&self;var Mi=Si;function Si(t,e){if(!t)throw new Error(e||"Assertion failed")}Si.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var ki=_i((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),Ei=_i((function(t,e){var r=e;r.assert=Mi,r.toArray=ki.toArray,r.zero2=ki.zero2,r.toHex=ki.toHex,r.encode=ki.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,u=s.andln(i-1);s.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,s=0;t.cmpn(-i)>0||e.cmpn(-s)>0;){var o,a,u=t.andln(3)+i&3,h=e.andln(3)+s&3;3===u&&(u=-1),3===h&&(h=-1),o=0==(1&u)?0:3!=(n=t.andln(7)+i&7)&&5!==n||2!==h?u:-u,r[0].push(o),a=0==(1&h)?0:3!=(n=e.andln(7)+s&7)&&5!==n||2!==u?h:-h,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(Mn())(t,"hex","le")}})),Ai=Ei.getNAF,xi=Ei.getJSF,Ti=Ei.assert;function Ii(t,e){this.type=t,this.p=new(Mn())(e.p,16),this.red=e.prime?Mn().red(e.prime):Mn().mont(this.p),this.zero=new(Mn())(0).toRed(this.red),this.one=new(Mn())(1).toRed(this.red),this.two=new(Mn())(2).toRed(this.red),this.n=e.n&&new(Mn())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Bi=Ii;function Ri(t,e){this.curve=t,this.type=e,this.precomputed=null}Ii.prototype.point=function(){throw new Error("Not implemented")},Ii.prototype.validate=function(){throw new Error("Not implemented")},Ii.prototype._fixedNafMul=function(t,e){Ti(t.precomputed);var r=t._getDoubles(),n=Ai(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,o,a=[];for(s=0;s<n.length;s+=r.step){o=0;for(var u=s+r.step-1;u>=s;u--)o=(o<<1)+n[u];a.push(o)}for(var h=this.jpoint(null,null,null),c=this.jpoint(null,null,null),f=i;f>0;f--){for(s=0;s<a.length;s++)(o=a[s])===f?c=c.mixedAdd(r.points[s]):o===-f&&(c=c.mixedAdd(r.points[s].neg()));h=h.add(c)}return h.toP()},Ii.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=Ai(e,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var u=0;a>=0&&0===s[a];a--)u++;if(a>=0&&u++,o=o.dblp(u),a<0)break;var h=s[a];Ti(0!==h),o="affine"===t.type?h>0?o.mixedAdd(i[h-1>>1]):o.mixedAdd(i[-h-1>>1].neg()):h>0?o.add(i[h-1>>1]):o.add(i[-h-1>>1].neg())}return"affine"===t.type?o.toP():o},Ii.prototype._wnafMulAdd=function(t,e,r,n,i){var s,o,a,u=this._wnafT1,h=this._wnafT2,c=this._wnafT3,f=0;for(s=0;s<n;s++){var l=(a=e[s])._getNAFPoints(t);u[s]=l.wnd,h[s]=l.points}for(s=n-1;s>=1;s-=2){var d=s-1,p=s;if(1===u[d]&&1===u[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=xi(r[d],r[p]);for(f=Math.max(y[0].length,f),c[d]=new Array(f),c[p]=new Array(f),o=0;o<f;o++){var b=0|y[0][o],v=0|y[1][o];c[d][o]=g[3*(b+1)+(v+1)],c[p][o]=0,h[d]=m}}else c[d]=Ai(r[d],u[d],this._bitLength),c[p]=Ai(r[p],u[p],this._bitLength),f=Math.max(c[d].length,f),f=Math.max(c[p].length,f)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(s=f;s>=0;s--){for(var M=0;s>=0;){var S=!0;for(o=0;o<n;o++)_[o]=0|c[o][s],0!==_[o]&&(S=!1);if(!S)break;M++,s--}if(s>=0&&M++,w=w.dblp(M),s<0)break;for(o=0;o<n;o++){var k=_[o];0!==k&&(k>0?a=h[o][k-1>>1]:k<0&&(a=h[o][-k-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(s=0;s<n;s++)h[s]=null;return i?w:w.toP()},Ii.BasePoint=Ri,Ri.prototype.eq=function(){throw new Error("Not implemented")},Ri.prototype.validate=function(){return this.curve.validate(this)},Ii.prototype.decodePoint=function(t,e){t=Ei.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?Ti(t[t.length-1]%2==0):7===t[0]&&Ti(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},Ri.prototype.encodeCompressed=function(t){return this.encode(t,!0)},Ri.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},Ri.prototype.encode=function(t,e){return Ei.encode(this._encode(e),t)},Ri.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},Ri.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},Ri.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},Ri.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},Ri.prototype._getBeta=function(){return null},Ri.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Pi=_i((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),Oi=Ei.assert;function Ci(t){Bi.call(this,"short",t),this.a=new(Mn())(t.a,16).toRed(this.red),this.b=new(Mn())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Pi(Ci,Bi);var Ui=Ci;function Ni(t,e,r,n){Bi.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(Mn())(e,16),this.y=new(Mn())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Li(t,e,r,n){Bi.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(Mn())(0)):(this.x=new(Mn())(e,16),this.y=new(Mn())(r,16),this.z=new(Mn())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ci.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(Mn())(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new(Mn())(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],Oi(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(Mn())(t.a,16),b:new(Mn())(t.b,16)}})):this._getEndoBasis(r)}}},Ci.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Mn().mont(t),r=new(Mn())(2).toRed(e).redInvm(),n=r.redNeg(),i=new(Mn())(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Ci.prototype._getEndoBasis=function(t){for(var e,r,n,i,s,o,a,u,h,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,l=this.n.clone(),d=new(Mn())(1),p=new(Mn())(0),m=new(Mn())(0),g=new(Mn())(1),y=0;0!==f.cmpn(0);){var b=l.div(f);u=l.sub(b.mul(f)),h=m.sub(b.mul(d));var v=g.sub(b.mul(p));if(!n&&u.cmp(c)<0)e=a.neg(),r=d,n=u.neg(),i=h;else if(n&&2==++y)break;a=u,l=f,f=u,m=d,d=h,g=p,p=v}s=u.neg(),o=h;var w=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(w)>=0&&(s=e,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},Ci.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),u=i.mul(r.b),h=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:u.add(h).neg()}},Ci.prototype.pointFromX=function(t,e){(t=new(Mn())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},Ci.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Ci.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],u=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*s]=a,n[2*s+1]=u,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var h=this._wnafMulAdd(1,n,i,2*s,r),c=0;c<2*s;c++)n[c]=null,i[c]=null;return h},Pi(Ni,Bi.BasePoint),Ci.prototype.point=function(t,e,r){return new Ni(this,t,e,r)},Ci.prototype.pointFromJSON=function(t,e){return Ni.fromJSON(this,t,e)},Ni.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},Ni.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Ni.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},Ni.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Ni.prototype.isInfinity=function(){return this.inf},Ni.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Ni.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},Ni.prototype.getX=function(){return this.x.fromRed()},Ni.prototype.getY=function(){return this.y.fromRed()},Ni.prototype.mul=function(t){return t=new(Mn())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Ni.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Ni.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Ni.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Ni.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},Ni.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Pi(Li,Bi.BasePoint),Ci.prototype.jpoint=function(t,e,r){return new Li(this,t,e,r)},Li.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Li.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Li.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=s.redSub(o);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=a.redSqr(),c=h.redMul(a),f=n.redMul(h),l=u.redSqr().redIAdd(c).redISub(f).redISub(f),d=u.redMul(f.redISub(l)).redISub(s.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,d,p)},Li.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),h=u.redMul(o),c=r.redMul(u),f=a.redSqr().redIAdd(h).redISub(c).redISub(c),l=a.redMul(c.redISub(f)).redISub(i.redMul(h)),d=this.z.redMul(o);return this.curve.jpoint(f,l,d)},Li.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,u=a.redSqr().redSqr(),h=o.redAdd(o);for(e=0;e<t;e++){var c=s.redSqr(),f=h.redSqr(),l=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=s.redMul(f),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=d.redMul(g);y=y.redIAdd(y).redISub(l);var b=h.redMul(a);e+1<t&&(u=u.redMul(l)),s=m,a=b,h=y}return this.curve.jpoint(s,h.redMul(i),a)},Li.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Li.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(o).redISub(o),h=s.redIAdd(s);h=(h=h.redIAdd(h)).redIAdd(h),t=u,e=a.redMul(o.redISub(u)).redISub(h),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(l);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),m=p.redSqr(),g=l.redIAdd(l);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Li.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(o).redISub(o);t=u;var h=s.redIAdd(s);h=(h=h.redIAdd(h)).redIAdd(h),e=a.redMul(o.redISub(u)).redISub(h),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var g=f.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},Li.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),u=e.redAdd(e),h=(u=u.redIAdd(u)).redMul(o),c=a.redSqr().redISub(h.redAdd(h)),f=h.redISub(c),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(f).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},Li.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var h=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(u),c=e.redMul(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(a).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(h.redMul(u.redISub(h)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,l,d)},Li.prototype.mul=function(t,e){return t=new(Mn())(t,e),this.curve._wnafMul(this,t)},Li.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},Li.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Li.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Li.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var qi=_i((function(t,e){var r=e;r.base=Bi,r.short=Ui,r.mont=null,r.edwards=null})),zi=_i((function(t,e){var r,n=e,i=Ei.assert;function s(t){"short"===t.type?this.curve=new qi.short(t):"edwards"===t.type?this.curve=new qi.edwards(t):this.curve=new qi.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new s(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:wi().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:wi().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:wi().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:wi().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:wi().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:wi().sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:wi().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(t){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:wi().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Di(t){if(!(this instanceof Di))return new Di(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ki.toArray(t.entropy,t.entropyEnc||"hex"),r=ki.toArray(t.nonce,t.nonceEnc||"hex"),n=ki.toArray(t.pers,t.persEnc||"hex");Mi(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var ji=Di;Di.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Di.prototype._hmac=function(){return new(wi().hmac)(this.hash,this.K)},Di.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Di.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=ki.toArray(t,e),r=ki.toArray(r,n),Mi(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Di.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=ki.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,t);return this._update(r),this._reseed++,ki.encode(s,e)};var Hi=Ei.assert;function Fi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Ki=Fi;Fi.fromPublic=function(t,e,r){return e instanceof Fi?e:new Fi(t,{pub:e,pubEnc:r})},Fi.fromPrivate=function(t,e,r){return e instanceof Fi?e:new Fi(t,{priv:e,privEnc:r})},Fi.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Fi.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Fi.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Fi.prototype._importPrivate=function(t,e){this.priv=new(Mn())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Fi.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Hi(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Hi(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Fi.prototype.derive=function(t){return t.validate()||Hi(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Fi.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Fi.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Fi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var $i=Ei.assert;function Wi(t,e){if(t instanceof Wi)return t;this._importDER(t,e)||($i(t.r&&t.s,"Signature without r or s"),this.r=new(Mn())(t.r,16),this.s=new(Mn())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Vi=Wi;function Gi(){this.place=0}function Ji(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return!(i<=127)&&(e.place=o,i)}function Zi(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Xi(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Wi.prototype._importDER=function(t,e){t=Ei.toArray(t,e);var r=new Gi;if(48!==t[r.place++])return!1;var n=Ji(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=Ji(t,r);if(!1===i)return!1;var s=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var o=Ji(t,r);if(!1===o)return!1;if(t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(Mn())(s),this.s=new(Mn())(a),this.recoveryParam=null,!0},Wi.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Zi(e),r=Zi(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Xi(n,e.length),(n=n.concat(e)).push(2),Xi(n,r.length);var i=n.concat(r),s=[48];return Xi(s,i.length),s=s.concat(i),Ei.encode(s,t)};var Yi=function(){throw new Error("unsupported")},Qi=Ei.assert;function ts(t){if(!(this instanceof ts))return new ts(t);"string"==typeof t&&(Qi(Object.prototype.hasOwnProperty.call(zi,t),"Unknown curve "+t),t=zi[t]),t instanceof zi.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var es=ts;ts.prototype.keyPair=function(t){return new Ki(this,t)},ts.prototype.keyFromPrivate=function(t,e){return Ki.fromPrivate(this,t,e)},ts.prototype.keyFromPublic=function(t,e){return Ki.fromPublic(this,t,e)},ts.prototype.genKeyPair=function(t){t||(t={});for(var e=new ji({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Yi(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(Mn())(2));;){var i=new(Mn())(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},ts.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},ts.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(Mn())(t,16));for(var i=this.n.byteLength(),s=e.getPrivate().toArray("be",i),o=t.toArray("be",i),a=new ji({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(Mn())(1)),h=0;;h++){var c=n.k?n.k(h):new(Mn())(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(u)>=0)){var f=this.g.mul(c);if(!f.isInfinity()){var l=f.getX(),d=l.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(f.getY().isOdd()?1:0)|(0!==l.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new Vi({r:d,s:p,recoveryParam:m})}}}}}},ts.prototype.verify=function(t,e,r,n){t=this._truncateToN(new(Mn())(t,16)),r=this.keyFromPublic(r,n);var i=(e=new Vi(e,"hex")).r,s=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),u=a.mul(t).umod(this.n),h=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),h)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(u,r.getPublic(),h)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},ts.prototype.recoverPubKey=function(t,e,r,n){Qi((3&r)===r,"The recovery param is more than two bits"),e=new Vi(e,n);var i=this.n,s=new(Mn())(t),o=e.r,a=e.s,u=1&r,h=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");o=h?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var c=e.r.invm(i),f=i.sub(s).mul(c).umod(i),l=a.mul(c).umod(i);return this.g.mulAdd(f,o,l)},ts.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new Vi(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch(t){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var rs=_i((function(t,e){var r=e;r.version="6.5.4",r.utils=Ei,r.rand=function(){throw new Error("unsupported")},r.curve=qi,r.curves=zi,r.ec=es,r.eddsa=null})),ns=rs.ec,is=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};const ss=new Fn("properties/5.7.0");function os(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function as(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function us(t){return is(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function hs(t){const e={};for(const r in t)e[r]=t[r];return e}const cs={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function fs(t){if(null==t||cs[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch(t){continue}if(!fs(n))return!1}return!0}return ss.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function ls(t){if(fs(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>ds(t))));if("object"==typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&os(e,r,ds(n))}return e}return ss.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function ds(t){return ls(t)}class ps{constructor(t){for(const e in t)this[e]=ds(t[e])}}const ms=new Fn("signing-key/5.7.0");let gs=null;function ys(){return gs||(gs=new ns("secp256k1")),gs}class bs{constructor(t){os(this,"curve","secp256k1"),os(this,"privateKey",ei(t)),32!==ri(this.privateKey)&&ms.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=ys().keyFromPrivate(Zn(this.privateKey));os(this,"publicKey","0x"+e.getPublic(!1,"hex")),os(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),os(this,"_isSigningKey",!0)}_addPoint(t){const e=ys().keyFromPublic(Zn(this.publicKey)),r=ys().keyFromPublic(Zn(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=ys().keyFromPrivate(Zn(this.privateKey)),r=Zn(t);32!==r.length&&ms.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return oi({recoveryParam:n.recoveryParam,r:si("0x"+n.r.toString(16),32),s:si("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=ys().keyFromPrivate(Zn(this.privateKey)),r=ys().keyFromPublic(Zn(ws(t)));return si("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function vs(t,e){const r=oi(e),n={r:Zn(r.r),s:Zn(r.s)};return"0x"+ys().recoverPubKey(Zn(t),n,r.recoveryParam).encode("hex",!1)}function ws(t,e){const r=Zn(t);if(32===r.length){const t=new bs(r);return e?"0x"+ys().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?ei(r):"0x"+ys().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+ys().keyFromPublic(r).getPublic(!0,"hex"):ei(r):ms.throwArgumentError("invalid public or private key","key","[REDACTED]")}var _s=Mn().BN;const Ms=new Fn("bignumber/5.7.0"),Ss={},ks=9007199254740991;let Es=!1;class As{constructor(t,e){t!==Ss&&Ms.throwError("cannot call constructor directly; use BigNumber.from",Fn.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Ts(Is(this).fromTwos(t))}toTwos(t){return Ts(Is(this).toTwos(t))}abs(){return"-"===this._hex[0]?As.from(this._hex.substring(1)):this}add(t){return Ts(Is(this).add(Is(t)))}sub(t){return Ts(Is(this).sub(Is(t)))}div(t){return As.from(t).isZero()&&Bs("division-by-zero","div"),Ts(Is(this).div(Is(t)))}mul(t){return Ts(Is(this).mul(Is(t)))}mod(t){const e=Is(t);return e.isNeg()&&Bs("division-by-zero","mod"),Ts(Is(this).umod(e))}pow(t){const e=Is(t);return e.isNeg()&&Bs("negative-power","pow"),Ts(Is(this).pow(e))}and(t){const e=Is(t);return(this.isNegative()||e.isNeg())&&Bs("unbound-bitwise-result","and"),Ts(Is(this).and(e))}or(t){const e=Is(t);return(this.isNegative()||e.isNeg())&&Bs("unbound-bitwise-result","or"),Ts(Is(this).or(e))}xor(t){const e=Is(t);return(this.isNegative()||e.isNeg())&&Bs("unbound-bitwise-result","xor"),Ts(Is(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Bs("negative-width","mask"),Ts(Is(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Bs("negative-width","shl"),Ts(Is(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Bs("negative-width","shr"),Ts(Is(this).shrn(t))}eq(t){return Is(this).eq(Is(t))}lt(t){return Is(this).lt(Is(t))}lte(t){return Is(this).lte(Is(t))}gt(t){return Is(this).gt(Is(t))}gte(t){return Is(this).gte(Is(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Is(this).isZero()}toNumber(){try{return Is(this).toNumber()}catch(t){Bs("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Ms.throwError("this platform does not support BigInt",Fn.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Es||(Es=!0,Ms.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Ms.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Fn.errors.UNEXPECTED_ARGUMENT,{}):Ms.throwError("BigNumber.toString does not accept parameters",Fn.errors.UNEXPECTED_ARGUMENT,{})),Is(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof As)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new As(Ss,xs(t)):t.match(/^-?[0-9]+$/)?new As(Ss,xs(new _s(t))):Ms.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&Bs("underflow","BigNumber.from",t),(t>=ks||t<=-ks)&&Bs("overflow","BigNumber.from",t),As.from(String(t));const e=t;if("bigint"==typeof e)return As.from(e.toString());if(Jn(e))return As.from(ei(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return As.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(Qn(t)||"-"===t[0]&&Qn(t.substring(1))))return As.from(t)}return Ms.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function xs(t){if("string"!=typeof t)return xs(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Ms.throwArgumentError("invalid hex","value",t),"0x00"===(t=xs(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Ts(t){return As.from(xs(t))}function Is(t){const e=As.from(t).toHexString();return"-"===e[0]?new _s("-"+e.substring(3),16):new _s(e.substring(2),16)}function Bs(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),Ms.throwError(t,Fn.errors.NUMERIC_FAULT,n)}const Rs=new Fn("rlp/5.7.0");function Ps(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function Os(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(Os(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=Ps(e.length);return r.unshift(247+r.length),r.concat(e)}Vn(t)||Rs.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Zn(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Ps(e.length);return r.unshift(183+r.length),r.concat(e)}function Cs(t){return ei(Os(t))}const Us=new Fn("address/5.7.0");function Ns(t){Qn(t,20)||Us.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=Zn(ci(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const Ls={};for(let t=0;t<10;t++)Ls[String(t)]=String(t);for(let t=0;t<26;t++)Ls[String.fromCharCode(65+t)]=String(10+t);const qs=Math.floor((zs=9007199254740991,Math.log10?Math.log10(zs):Math.log(zs)/Math.LN10));var zs;function Ds(t){let e=null;if("string"!=typeof t&&Us.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=Ns(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Us.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>Ls[t])).join("");for(;e.length>=qs;){let t=e.substring(0,qs);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&Us.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new _s(r,36).toString(16);e.length<40;)e="0"+e;e=Ns("0x"+e)}else Us.throwArgumentError("invalid address","address",t);var r;return e}const js=new Fn("transactions/5.7.0");var Hs;!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(Hs||(Hs={}));const Fs=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Ks={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function $s(t){return Ds(ni(ci(ni(ws(t),1)),12))}function Ws(t,e){return $s(vs(Zn(t),e))}function Vs(t,e){const r=Yn(As.from(t).toHexString());return r.length>32&&js.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Gs(t,e){return{address:Ds(t),storageKeys:(e||[]).map(((e,r)=>(32!==ri(e)&&js.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,e),e.toLowerCase())))}}function Js(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&js.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${e}]`,t),Gs(t[0],t[1])):Gs(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return Gs(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function Zs(t){return Js(t).map((t=>[t.address,t.storageKeys]))}function Xs(t,e){if(null==t.type||0===t.type)return null!=t.accessList&&js.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),function(t,e){var r,n;n=Ks,(r=t)&&"object"==typeof r||ss.throwArgumentError("invalid object","object",r),Object.keys(r).forEach((t=>{n[t]||ss.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)}));const i=[];Fs.forEach((function(e){let r=t[e.name]||[];const n={};e.numeric&&(n.hexPad="left"),r=Zn(ei(r,n)),e.length&&r.length!==e.length&&r.length>0&&js.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,r),e.maxLength&&(r=Yn(r),r.length>e.maxLength&&js.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,r)),i.push(ei(r))}));let s=0;if(null!=t.chainId?(s=t.chainId,"number"!=typeof s&&js.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!Vn(e)&&e.v>28&&(s=Math.floor((e.v-35)/2)),0!==s&&(i.push(ei(s)),i.push("0x"),i.push("0x")),!e)return Cs(i);const o=oi(e);let a=27+o.recoveryParam;return 0!==s?(i.pop(),i.pop(),i.pop(),a+=2*s+8,o.v>28&&o.v!==a&&js.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):o.v!==a&&js.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),i.push(ei(a)),i.push(Yn(Zn(o.r))),i.push(Yn(Zn(o.s))),Cs(i)}(t,e);switch(t.type){case 1:return function(t,e){const r=[Vs(t.chainId||0,"chainId"),Vs(t.nonce||0,"nonce"),Vs(t.gasPrice||0,"gasPrice"),Vs(t.gasLimit||0,"gasLimit"),null!=t.to?Ds(t.to):"0x",Vs(t.value||0,"value"),t.data||"0x",Zs(t.accessList||[])];if(e){const t=oi(e);r.push(Vs(t.recoveryParam,"recoveryParam")),r.push(Yn(t.r)),r.push(Yn(t.s))}return ii(["0x01",Cs(r)])}(t,e);case 2:return function(t,e){if(null!=t.gasPrice){const e=As.from(t.gasPrice),r=As.from(t.maxFeePerGas||0);e.eq(r)||js.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r})}const r=[Vs(t.chainId||0,"chainId"),Vs(t.nonce||0,"nonce"),Vs(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Vs(t.maxFeePerGas||0,"maxFeePerGas"),Vs(t.gasLimit||0,"gasLimit"),null!=t.to?Ds(t.to):"0x",Vs(t.value||0,"value"),t.data||"0x",Zs(t.accessList||[])];if(e){const t=oi(e);r.push(Vs(t.recoveryParam,"recoveryParam")),r.push(Yn(t.r)),r.push(Yn(t.s))}return ii(["0x02",Cs(r)])}(t,e)}return js.throwError(`unsupported transaction type: ${t.type}`,Fn.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}const Ys=new Fn("abstract-provider/5.7.0");class Qs{constructor(){Ys.checkAbstract(new.target,Qs),os(this,"_isProvider",!0)}getFeeData(){return t=this,e=void 0,n=function*(){const{block:t,gasPrice:e}=yield us({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let r=null,n=null,i=null;return t&&t.baseFeePerGas&&(r=t.baseFeePerGas,i=As.from("1500000000"),n=t.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:e}},new((r=void 0)||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}));var t,e,r,n}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}var to=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};const eo=new Fn("abstract-signer/5.7.0"),ro=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],no=[Fn.errors.INSUFFICIENT_FUNDS,Fn.errors.NONCE_EXPIRED,Fn.errors.REPLACEMENT_UNDERPRICED];class io{constructor(){eo.checkAbstract(new.target,io),os(this,"_isSigner",!0)}getBalance(t){return to(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return to(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return to(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield us(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return to(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield us(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return to(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return to(this,void 0,void 0,(function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return to(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return to(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return to(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const e in t)-1===ro.indexOf(e)&&eo.throwArgumentError("invalid transaction key: "+e,"transaction",t);const e=hs(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&eo.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return to(this,void 0,void 0,(function*(){const e=yield us(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>to(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&eo.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||eo.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):eo.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&eo.throwError("network does not support EIP-1559",Fn.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):eo.throwError("failed to get consistent fee data",Fn.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(no.indexOf(t.code)>=0)throw t;return eo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Fn.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&eo.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield us(e)}))}_checkProvider(t){this.provider||eo.throwError("missing provider",Fn.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}class so extends io{constructor(t,e){super(),os(this,"address",t),os(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then((()=>{eo.throwError(t,Fn.errors.UNSUPPORTED_OPERATION,{operation:e})}))}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new so(this.address,t)}}function oo(t){return ci(gi(t))}const ao=new Fn("hash/5.7.0"),uo=new Uint8Array(32);uo.fill(0);const ho=As.from(-1),co=As.from(0),fo=As.from(1),lo=As.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),po=si(fo.toHexString(),32),mo=si(co.toHexString(),32),go={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},yo=["name","version","chainId","verifyingContract","salt"];function bo(t){return function(e){return"string"!=typeof e&&ao.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const vo={name:bo("name"),version:bo("version"),chainId:function(t){try{return As.from(t).toString()}catch(t){}return ao.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Ds(t).toLowerCase()}catch(t){}return ao.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Zn(t);if(32!==e.length)throw new Error("bad length");return ei(e)}catch(t){}return ao.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function wo(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");(n%8!=0||n>256||e[2]&&e[2]!==String(n))&&ao.throwArgumentError("invalid numeric width","type",t);const i=lo.mask(r?n-1:n),s=r?i.add(fo).mul(ho):co;return function(e){const r=As.from(e);return(r.lt(s)||r.gt(i))&&ao.throwArgumentError(`value out-of-bounds for ${t}`,"value",e),si(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&ao.throwArgumentError("invalid bytes width","type",t),function(e){return Zn(e).length!==r&&ao.throwArgumentError(`invalid length for ${t}`,"value",e),function(t){const e=Zn(t),r=e.length%32;return r?ii([e,uo.slice(r)]):ei(e)}(e)}}}switch(t){case"address":return function(t){return si(Ds(t),32)};case"bool":return function(t){return t?po:mo};case"bytes":return function(t){return ci(t)};case"string":return function(t){return oo(t)}}return null}function _o(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class Mo{constructor(t){os(this,"types",Object.freeze(ds(t))),os(this,"_encoderCache",{}),os(this,"_types",{});const e={},r={},n={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],n[t]={}}));for(const n in t){const i={};t[n].forEach((s=>{i[s.name]&&ao.throwArgumentError(`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(n)}`,"types",t),i[s.name]=!0;const o=s.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===n&&ao.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",t),wo(o)||(r[o]||ao.throwArgumentError(`unknown type ${JSON.stringify(o)}`,"types",t),r[o].push(n),e[n][o]=!0)}))}const i=Object.keys(r).filter((t=>0===r[t].length));0===i.length?ao.throwArgumentError("missing primary type","types",t):i.length>1&&ao.throwArgumentError(`ambiguous primary types or unused types: ${i.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),os(this,"primaryType",i[0]),function i(s,o){o[s]&&ao.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",t),o[s]=!0,Object.keys(e[s]).forEach((t=>{r[t]&&(i(t,o),Object.keys(o).forEach((e=>{n[e][t]=!0})))})),delete o[s]}(this.primaryType,{});for(const e in n){const r=Object.keys(n[e]);r.sort(),this._types[e]=_o(e,t[e])+r.map((e=>_o(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=wo(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),n=parseInt(e[3]);return e=>{n>=0&&e.length!==n&&ao.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let i=e.map(r);return this._types[t]&&(i=i.map(ci)),ci(ii(i))}}const r=this.types[t];if(r){const e=oo(this._types[t]);return t=>{const n=r.map((({name:e,type:r})=>{const n=this.getEncoder(r)(t[e]);return this._types[r]?ci(n):n}));return n.unshift(e),ii(n)}}return ao.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const e=this._types[t];return e||ao.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return ci(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(wo(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const t=n[1],i=parseInt(n[3]);return i>=0&&e.length!==i&&ao.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const i=this.types[t];return i?i.reduce(((t,{name:n,type:i})=>(t[n]=this._visit(i,e[n],r),t)),{}):ao.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Mo(t)}static getPrimaryType(t){return Mo.from(t).primaryType}static hashStruct(t,e,r){return Mo.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const n=go[r];n||ao.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>yo.indexOf(t.name)-yo.indexOf(e.name))),Mo.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return ii(["0x1901",Mo.hashDomain(t),Mo.from(e).hash(r)])}static hash(t,e,r){return ci(Mo.encode(t,e,r))}static resolveNames(t,e,r,n){return i=this,s=void 0,a=function*(){t=hs(t);const i={};t.verifyingContract&&!Qn(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const s=Mo.from(e);s.visit(r,((t,e)=>("address"!==t||Qn(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=yield n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=s.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e)),{domain:t,value:r}},new((o=void 0)||(o=Promise))((function(t,e){function r(t){try{u(a.next(t))}catch(t){e(t)}}function n(t){try{u(a.throw(t))}catch(t){e(t)}}function u(e){var i;e.done?t(e.value):(i=e.value,i instanceof o?i:new o((function(t){t(i)}))).then(r,n)}u((a=a.apply(i,s||[])).next())}));var i,s,o,a}static getPayload(t,e,r){Mo.hashDomain(t);const n={},i=[];yo.forEach((e=>{const r=t[e];null!=r&&(n[e]=vo[e](r),i.push({name:e,type:go[e]}))}));const s=Mo.from(e),o=hs(e);return o.EIP712Domain?ao.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):o.EIP712Domain=i,s.encode(r),{types:o,domain:n,primaryType:s.primaryType,message:s.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return ei(Zn(e));if(t.match(/^u?int/))return As.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!=typeof e&&ao.throwArgumentError("invalid string","value",e),e}return ao.throwArgumentError("unsupported type","type",t)}))}}}class So{constructor(t){os(this,"alphabet",t),os(this,"base",t.length),os(this,"_alphabetMap",{}),os(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=Zn(t);if(0===e.length)return"";let r=[0];for(let t=0;t<e.length;++t){let n=e[t];for(let t=0;t<r.length;++t)n+=r[t]<<8,r[t]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let t=0;0===e[t]&&t<e.length-1;++t)n+=this._leader;for(let t=r.length-1;t>=0;--t)n+=this.alphabet[r[t]];return n}decode(t){if("string"!=typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return Zn(new Uint8Array(e.reverse()))}}new So("abcdefghijklmnopqrstuvwxyz234567");const ko=new So("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Eo;!function(t){t.sha256="sha256",t.sha512="sha512"}(Eo||(Eo={}));const Ao=new Fn("sha2/5.7.0");function xo(t){return"0x"+wi().sha256().update(Zn(t)).digest("hex")}function To(t,e,r){return Eo[t]||Ao.throwError("unsupported algorithm "+t,Fn.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+wi().hmac(wi()[t],Zn(e)).update(Zn(r)).digest("hex")}function Io(t,e,r,n,i){let s;t=Zn(t),e=Zn(e);let o=1;const a=new Uint8Array(n),u=new Uint8Array(e.length+4);let h,c;u.set(e);for(let f=1;f<=o;f++){u[e.length]=f>>24&255,u[e.length+1]=f>>16&255,u[e.length+2]=f>>8&255,u[e.length+3]=255&f;let l=Zn(To(i,t,u));s||(s=l.length,c=new Uint8Array(s),o=Math.ceil(n/s),h=n-(o-1)*s),c.set(l);for(let e=1;e<r;e++){l=Zn(To(i,t,l));for(let t=0;t<s;t++)c[t]^=l[t]}const d=(f-1)*s,p=f===o?h:s;a.set(Zn(c).slice(0,p),d)}return ei(a)}const Bo=new Fn("wordlists/5.7.0");class Ro{constructor(t){Bo.checkAbstract(new.target,Ro),os(this,"locale",t)}split(t){return t.toLowerCase().split(/ +/g)}join(t){return t.join(" ")}static check(t){const e=[];for(let r=0;r<2048;r++){const n=t.getWord(r);if(r!==t.getWordIndex(n))return"0x";e.push(n)}return oo(e.join("\n")+"\n")}static register(t,e){e||(e=t.locale)}}let Po=null;function Oo(t){if(null==Po&&(Po="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==Ro.check(t)))throw Po=null,new Error("BIP39 Wordlist for en (English) FAILED")}const Co=new class extends Ro{constructor(){super("en")}getWord(t){return Oo(this),Po[t]}getWordIndex(t){return Oo(this),Po.indexOf(t)}};Ro.register(Co);const Uo={en:Co},No=new Fn("hdnode/5.7.0"),Lo=As.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),qo=gi("Bitcoin seed"),zo=2147483648;function Do(t){return(1<<t)-1<<8-t}function jo(t){return si(ei(t),32)}function Ho(t){return ko.encode(Xn([t,ni(xo(xo(t)),0,4)]))}function Fo(t){if(null==t)return Uo.en;if("string"==typeof t){const e=Uo[t];return null==e&&No.throwArgumentError("unknown locale","wordlist",t),e}return t}const Ko={},$o="m/44'/60'/0'/0/0";class Wo{constructor(t,e,r,n,i,s,o,a){if(t!==Ko)throw new Error("HDNode constructor cannot be called directly");if(e){const t=new bs(e);os(this,"privateKey",t.privateKey),os(this,"publicKey",t.compressedPublicKey)}else os(this,"privateKey",null),os(this,"publicKey",ei(r));var u;os(this,"parentFingerprint",n),os(this,"fingerprint",ni((u=xo(this.publicKey),"0x"+wi().ripemd160().update(Zn(u)).digest("hex")),0,4)),os(this,"address",$s(this.publicKey)),os(this,"chainCode",i),os(this,"index",s),os(this,"depth",o),null==a?(os(this,"mnemonic",null),os(this,"path",null)):"string"==typeof a?(os(this,"mnemonic",null),os(this,"path",a)):(os(this,"mnemonic",a),os(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Ho(Xn([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",ei(this.depth),this.parentFingerprint,si(ei(this.index),4),this.chainCode,null!=this.privateKey?Xn(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Wo(Ko,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(t){if(t>4294967295)throw new Error("invalid index - "+String(t));let e=this.path;e&&(e+="/"+(2147483647&t));const r=new Uint8Array(37);if(t&zo){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(Zn(this.privateKey),1),e&&(e+="'")}else r.set(Zn(this.publicKey));for(let e=24;e>=0;e-=8)r[33+(e>>3)]=t>>24-e&255;const n=Zn(To(Eo.sha512,this.chainCode,r)),i=n.slice(0,32),s=n.slice(32);let o=null,a=null;this.privateKey?o=jo(As.from(i).add(this.privateKey).mod(Lo)):a=new bs(ei(i))._addPoint(this.publicKey);let u=e;const h=this.mnemonic;return h&&(u=Object.freeze({phrase:h.phrase,path:e,locale:h.locale||"en"})),new Wo(Ko,o,a,this.fingerprint,jo(s),t,this.depth+1,u)}derivePath(t){const e=t.split("/");if(0===e.length||"m"===e[0]&&0!==this.depth)throw new Error("invalid path - "+t);"m"===e[0]&&e.shift();let r=this;for(let t=0;t<e.length;t++){const n=e[t];if(n.match(/^[0-9]+'$/)){const t=parseInt(n.substring(0,n.length-1));if(t>=zo)throw new Error("invalid path index - "+n);r=r._derive(zo+t)}else{if(!n.match(/^[0-9]+$/))throw new Error("invalid path component - "+n);{const t=parseInt(n);if(t>=zo)throw new Error("invalid path index - "+n);r=r._derive(t)}}}return r}static _fromSeed(t,e){const r=Zn(t);if(r.length<16||r.length>64)throw new Error("invalid seed");const n=Zn(To(Eo.sha512,qo,r));return new Wo(Ko,jo(n.slice(0,32)),null,"0x00000000",jo(n.slice(32)),0,0,e)}static fromMnemonic(t,e,r){return t=Go(Vo(t,r=Fo(r)),r),Wo._fromSeed(function(t,e){e||(e="");const r=gi("mnemonic"+e,li.NFKD);return Io(gi(t,li.NFKD),r,2048,64,"sha512")}(t,e),{phrase:t,path:"m",locale:r.locale})}static fromSeed(t){return Wo._fromSeed(t,null)}static fromExtendedKey(t){const e=ko.decode(t);82===e.length&&Ho(e.slice(0,78))===t||No.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=e[4],n=ei(e.slice(5,9)),i=parseInt(ei(e.slice(9,13)).substring(2),16),s=ei(e.slice(13,45)),o=e.slice(45,78);switch(ei(e.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Wo(Ko,null,ei(o),n,s,i,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==o[0])break;return new Wo(Ko,ei(o.slice(1)),null,n,s,i,r,null)}return No.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Vo(t,e){e=Fo(e),No.checkNormalize();const r=e.split(t);if(r.length%3!=0)throw new Error("invalid mnemonic");const n=Zn(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let t=0;t<r.length;t++){let s=e.getWordIndex(r[t].normalize("NFKD"));if(-1===s)throw new Error("invalid mnemonic");for(let t=0;t<11;t++)s&1<<10-t&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=Do(r.length/3);if((Zn(xo(n.slice(0,s/8)))[0]&o)!=(n[n.length-1]&o))throw new Error("invalid checksum");return ei(n.slice(0,s/8))}function Go(t,e){if(e=Fo(e),(t=Zn(t)).length%4!=0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let e=0;e<t.length;e++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[e],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[e]>>8-n,r.push(t[e]&(1<<8-n)-1),n+=3);const i=t.length/4,s=Zn(xo(t))[0]&Do(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map((t=>e.getWord(t))))}const Jo=new Fn("random/5.7.0"),Zo=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw new Error("unable to locate global object")}();let Xo=Zo.crypto||Zo.msCrypto;function Yo(t){(t<=0||t>1024||t%1||t!=t)&&Jo.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return Xo.getRandomValues(e),Zn(e)}Xo&&Xo.getRandomValues||(Jo.warn("WARNING: Missing strong random number source"),Xo={getRandomValues:function(t){return Jo.throwError("no secure random source avaialble",Fn.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var Qo=__webpack_require__(8709),ta=__webpack_require__.n(Qo),ea=__webpack_require__(7635),ra=__webpack_require__.n(ea);function na(t){return"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Zn(t)}function ia(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function sa(t){return"string"==typeof t?gi(t,li.NFKC):Zn(t)}function oa(t,e){let r=t;const n=e.toLowerCase().split("/");for(let t=0;t<n.length;t++){let e=null;for(const i in r)if(i.toLowerCase()===n[t]){e=r[i];break}if(null===e)return null;r=e}return r}function aa(t){const e=Zn(t);e[6]=15&e[6]|64,e[8]=63&e[8]|128;const r=ei(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const ua="json-wallets/5.7.0";const ha=new Fn(ua);function ca(t){return null!=t&&t.mnemonic&&t.mnemonic.phrase}class fa extends ps{isKeystoreAccount(t){return!(!t||!t._isKeystoreAccount)}}function la(t,e){const r=na(oa(t,"crypto/ciphertext"));if(ei(ci(Xn([e.slice(16,32),r]))).substring(2)!==oa(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const n=function(t,e,r){if("aes-128-ctr"===oa(t,"crypto/cipher")){const n=na(oa(t,"crypto/cipherparams/iv")),i=new(ta().Counter)(n);return Zn(new(ta().ModeOfOperation.ctr)(e,i).decrypt(r))}return null}(t,e.slice(0,16),r);n||ha.throwError("unsupported cipher",Fn.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=e.slice(32,64),s=$s(n);if(t.address){let e=t.address.toLowerCase();if("0x"!==e.substring(0,2)&&(e="0x"+e),Ds(e)!==s)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:s,privateKey:ei(n)};if("0.1"===oa(t,"x-ethers/version")){const e=na(oa(t,"x-ethers/mnemonicCiphertext")),r=na(oa(t,"x-ethers/mnemonicCounter")),n=new(ta().Counter)(r),s=new(ta().ModeOfOperation.ctr)(i,n),a=oa(t,"x-ethers/path")||$o,u=oa(t,"x-ethers/locale")||"en",h=Zn(s.decrypt(e));try{const t=Go(h,u),e=Wo.fromMnemonic(t,null,u).derivePath(a);if(e.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=e.mnemonic}catch(t){if(t.code!==Fn.errors.INVALID_ARGUMENT||"wordlist"!==t.argument)throw t}}return new fa(o)}function da(t,e,r,n,i){return Zn(Io(t,e,r,n,i))}function pa(t,e,r,n,i){return Promise.resolve(da(t,e,r,n,i))}function ma(t,e,r,n,i){const s=sa(e),o=oa(t,"crypto/kdf");if(o&&"string"==typeof o){const e=function(t,e){return ha.throwArgumentError("invalid key-derivation function parameters",t,e)};if("scrypt"===o.toLowerCase()){const r=na(oa(t,"crypto/kdfparams/salt")),a=parseInt(oa(t,"crypto/kdfparams/n")),u=parseInt(oa(t,"crypto/kdfparams/r")),h=parseInt(oa(t,"crypto/kdfparams/p"));a&&u&&h||e("kdf",o),0!=(a&a-1)&&e("N",a);const c=parseInt(oa(t,"crypto/kdfparams/dklen"));return 32!==c&&e("dklen",c),n(s,r,a,u,h,64,i)}if("pbkdf2"===o.toLowerCase()){const n=na(oa(t,"crypto/kdfparams/salt"));let i=null;const o=oa(t,"crypto/kdfparams/prf");"hmac-sha256"===o?i="sha256":"hmac-sha512"===o?i="sha512":e("prf",o);const a=parseInt(oa(t,"crypto/kdfparams/c")),u=parseInt(oa(t,"crypto/kdfparams/dklen"));return 32!==u&&e("dklen",u),r(s,n,a,u,i)}}return ha.throwArgumentError("unsupported key-derivation function","kdf",o)}const ga=new Fn(ua);class ya extends ps{isCrowdsaleAccount(t){return!(!t||!t._isCrowdsaleAccount)}}function ba(t,e){const r=JSON.parse(t);e=sa(e);const n=Ds(oa(r,"ethaddr")),i=na(oa(r,"encseed"));i&&i.length%16==0||ga.throwArgumentError("invalid encseed","json",t);const s=Zn(Io(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),u=new(ta().ModeOfOperation.cbc)(s,o),h=ta().padding.pkcs7.strip(Zn(u.decrypt(a)));let c="";for(let t=0;t<h.length;t++)c+=String.fromCharCode(h[t]);const f=ci(gi(c));return new ya({_isCrowdsaleAccount:!0,address:n,privateKey:f})}function va(t){let e=null;try{e=JSON.parse(t)}catch(t){return!1}return e.encseed&&e.ethaddr}function wa(t){let e=null;try{e=JSON.parse(t)}catch(t){return!1}return!(!e.version||parseInt(e.version)!==e.version||3!==parseInt(e.version))}function _a(t,e,r){if(va(t)){r&&r(0);const n=ba(t,e);return r&&r(1),Promise.resolve(n)}return wa(t)?function(t,e,r){return n=this,i=void 0,o=function*(){const n=JSON.parse(t);return la(n,yield ma(n,e,pa,ra().scrypt,r))},new((s=void 0)||(s=Promise))((function(t,e){function r(t){try{u(o.next(t))}catch(t){e(t)}}function a(t){try{u(o.throw(t))}catch(t){e(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof s?n:new s((function(t){t(n)}))).then(r,a)}u((o=o.apply(n,i||[])).next())}));var n,i,s,o}(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}var Ma=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};const Sa=new Fn("wallet/5.7.0");class ka extends io{constructor(t,e){if(super(),null!=(r=t)&&Qn(r.privateKey,32)&&null!=r.address){const e=new bs(t.privateKey);if(os(this,"_signingKey",(()=>e)),os(this,"address",$s(this.publicKey)),this.address!==Ds(t.address)&&Sa.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(t){const e=t.mnemonic;return e&&e.phrase}(t)){const e=t.mnemonic;os(this,"_mnemonic",(()=>({phrase:e.phrase,path:e.path||$o,locale:e.locale||"en"})));const r=this.mnemonic;$s(Wo.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path).privateKey)!==this.address&&Sa.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else os(this,"_mnemonic",(()=>null))}else{if(bs.isSigningKey(t))"secp256k1"!==t.curve&&Sa.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),os(this,"_signingKey",(()=>t));else{"string"==typeof t&&t.match(/^[0-9a-f]*$/i)&&64===t.length&&(t="0x"+t);const e=new bs(t);os(this,"_signingKey",(()=>e))}os(this,"_mnemonic",(()=>null)),os(this,"address",$s(this.publicKey))}var r;e&&!Qs.isProvider(e)&&Sa.throwArgumentError("invalid provider","provider",e),os(this,"provider",e||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(t){return new ka(this,t)}signTransaction(t){return us(t).then((e=>{null!=e.from&&(Ds(e.from)!==this.address&&Sa.throwArgumentError("transaction from address mismatch","transaction.from",t.from),delete e.from);const r=this._signingKey().signDigest(ci(Xs(e)));return Xs(e,r)}))}signMessage(t){return Ma(this,void 0,void 0,(function*(){return ai(this._signingKey().signDigest(bi(t)))}))}_signTypedData(t,e,r){return Ma(this,void 0,void 0,(function*(){const n=yield Mo.resolveNames(t,e,r,(t=>(null==this.provider&&Sa.throwError("cannot resolve ENS names without a provider",Fn.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:t}),this.provider.resolveName(t))));return ai(this._signingKey().signDigest(Mo.hash(n.domain,e,n.value)))}))}encrypt(t,e,r){if("function"!=typeof e||r||(r=e,e={}),r&&"function"!=typeof r)throw new Error("invalid callback");return e||(e={}),function(t,e,r,n){try{if(Ds(t.address)!==$s(t.privateKey))throw new Error("address/privateKey mismatch");if(ca(t)){const e=t.mnemonic;if(Wo.fromMnemonic(e.phrase,null,e.locale).derivePath(e.path||$o).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(t){return Promise.reject(t)}"function"!=typeof r||n||(n=r,r={}),r||(r={});const i=Zn(t.privateKey),s=sa(e);let o=null,a=null,u=null;if(ca(t)){const e=t.mnemonic;o=Zn(Vo(e.phrase,e.locale||"en")),a=e.path||$o,u=e.locale||"en"}let h=r.client;h||(h="ethers.js");let c=null;c=r.salt?Zn(r.salt):Yo(32);let f=null;if(r.iv){if(f=Zn(r.iv),16!==f.length)throw new Error("invalid iv")}else f=Yo(16);let l=null;if(r.uuid){if(l=Zn(r.uuid),16!==l.length)throw new Error("invalid uuid")}else l=Yo(16);let d=1<<17,p=8,m=1;return r.scrypt&&(r.scrypt.N&&(d=r.scrypt.N),r.scrypt.r&&(p=r.scrypt.r),r.scrypt.p&&(m=r.scrypt.p)),ra().scrypt(s,c,d,p,m,64,n).then((e=>{const r=(e=Zn(e)).slice(0,16),n=e.slice(16,32),s=e.slice(32,64),g=new(ta().Counter)(f),y=Zn(new(ta().ModeOfOperation.ctr)(r,g).encrypt(i)),b=ci(Xn([n,y])),v={address:t.address.substring(2).toLowerCase(),id:aa(l),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ei(f).substring(2)},ciphertext:ei(y).substring(2),kdf:"scrypt",kdfparams:{salt:ei(c).substring(2),n:d,dklen:32,p:m,r:p},mac:b.substring(2)}};if(o){const t=Yo(16),e=new(ta().Counter)(t),r=Zn(new(ta().ModeOfOperation.ctr)(s,e).encrypt(o)),n=new Date,i=n.getUTCFullYear()+"-"+ia(n.getUTCMonth()+1,2)+"-"+ia(n.getUTCDate(),2)+"T"+ia(n.getUTCHours(),2)+"-"+ia(n.getUTCMinutes(),2)+"-"+ia(n.getUTCSeconds(),2)+".0Z";v["x-ethers"]={client:h,gethFilename:"UTC--"+i+"--"+v.address,mnemonicCounter:ei(t).substring(2),mnemonicCiphertext:ei(r).substring(2),path:a,locale:u,version:"0.1"}}return JSON.stringify(v)}))}(this,t,e,r)}static createRandom(t){let e=Yo(16);t||(t={}),t.extraEntropy&&(e=Zn(ni(ci(Xn([e,t.extraEntropy])),0,16)));const r=Go(e,t.locale);return ka.fromMnemonic(r,t.path,t.locale)}static fromEncryptedJson(t,e,r){return _a(t,e,r).then((t=>new ka(t)))}static fromEncryptedJsonSync(t,e){return new ka(function(t,e){if(va(t))return ba(t,e);if(wa(t))return function(t,e){const r=JSON.parse(t);return la(r,ma(r,e,da,ra().syncScrypt))}(t,e);throw new Error("invalid JSON wallet")}(t,e))}static fromMnemonic(t,e,r){return e||(e=$o),new ka(Wo.fromMnemonic(t,null,r).derivePath(e))}}function Ea(t,e,r,n){return Ws(Mo.hash(t,e,r),n)}var Aa=__webpack_require__(8764).Buffer;class xa{signer;publicKey;ownerLength=Re[Be.ETHEREUM].pubLength;signatureLength=Re[Be.ETHEREUM].sigLength;signatureType=Be.ETHEREUM;constructor(t){this.signer=t.getSigner()}async setPublicKey(){const t="sign this message to connect to Bundlr.Network",e=await this.signer.signMessage(t),r=vs(Zn(await bi(t)),e);this.publicKey=Aa.from(Zn(r))}async sign(t){this.publicKey||await this.setPublicKey();const e=await this.signer.signMessage(t);return Aa.from(e.slice(2),"hex")}static verify(t,e,r){const n=$s(t);return function(t,e){return Ws(bi(t),e)}(e,r)===n}}var Ta=__webpack_require__(3581);class Ia extends Sr{get publicKey(){return Ta.decode(this.pk)}get key(){return Ta.decode(this._key)}constructor(t){const e=Ta.decode(t);super(Ta.encode(e.subarray(0,32)),Ta.encode(e.subarray(32,64)))}}var Ba=__webpack_require__(7221),Ra=__webpack_require__(8764),Pa=__webpack_require__(5811);function Oa(t){return t=Ca(t),Pa("keccak256").update(t).digest()}function Ca(t){if(!Ra.Buffer.isBuffer(t))if(Array.isArray(t))t=Ra.Buffer.from(t);else if("string"==typeof t)t=Ua(t)?Ra.Buffer.from(Na(La(t)),"hex"):Ra.Buffer.from(t);else if("number"==typeof t)t=za(t);else if(null==t)t=Ra.Buffer.allocUnsafe(0);else if(_n.isBN(t))t=t.toArrayLike(Ra.Buffer);else{if(!t.toArray)throw new Error("invalid type");t=Ra.Buffer.from(t.toArray())}return t}function Ua(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function Na(t){if("string"!=typeof t)throw new Error(`while padding to even, value must be string, is currently ${typeof t}, while padToEven.`);return t.length%2&&(t=`0${t}`),t}function La(t){return"string"!=typeof t?t:qa(t)?t.slice(2):t}function qa(t){if("string"!=typeof t)throw new Error("value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return t.startsWith("0x")}function za(t){const e=Da(t);return Ra.Buffer.from(Na(e.slice(2)),"hex")}function Da(t){return`0x${t.toString(16)}`}"undefined"!=typeof window&&(window.keccak256=Oa);const ja=Oa,Ha={intToBuffer:za,intToHex:Da,isHexPrefixed:qa,stripHexPrefix:La,padToEven:Na,isHexString:Ua,toBuffer:Ca};var Fa=__webpack_require__(8764).Buffer;class Ka{_key;ownerLength=Re[Be.ETHEREUM].pubLength;signatureLength=Re[Be.ETHEREUM].sigLength;signatureType=Be.ETHEREUM;pk;constructor(t,e){this._key=t,this.pk=e.toString("hex")}get publicKey(){throw new Error("You must implement `publicKey`")}get key(){return Fa.from(this._key,"hex")}static async verify(t,e,r){let n=t;"string"==typeof t&&(n=Wt.toBuffer(t));let i=!1;try{i=Ba.ecdsaVerify(r,ja(Fa.from(e)),n)}catch(t){}return i}async sign(t){return Ba.ecdsaSign(ja(Fa.from(t)),Fa.from(this.key)).signature}}var $a=__webpack_require__(8764).Buffer;class Wa extends Ka{get publicKey(){return $a.from(this.pk,"hex")}constructor(t){t.startsWith("0x")&&(t=t.slice(2));const e=$a.from(t,"hex"),r=Ba.publicKeyCreate(e,!1);super(t,$a.from(r))}async sign(t){return new ka(this._key).signMessage(t).then((t=>$a.from(t.slice(2),"hex")))}static async verify(t,e,r){return Ba.ecdsaVerify(65===r.length?r.slice(0,-1):r,Zn(bi(e)),"string"==typeof t?Wt.toBuffer(t):t)}}class Va extends Wa{}class Ga extends Ia{constructor(t){super(t.replace("ed25519:",""))}}var Ja=__webpack_require__(8764).Buffer;class Za extends Sr{get publicKey(){return Ja.from(this.pk)}get key(){return Ja.from(this._key)}constructor(t,e){super(t.subarray(0,32),e)}}var Xa=__webpack_require__(8764).Buffer;class Ya extends On{signatureType=4;constructor(t){super(t)}async sign(t){return super.sign(Xa.from(Xa.from(t).toString("hex")))}static async verify(t,e,r){return super.verify(t,Xa.from(Xa.from(e).toString("hex")),r)}}var Qa=__webpack_require__(8764).Buffer;class tu extends Ia{signatureType=4;constructor(t){super(t)}async sign(t){return super.sign(Qa.from(Qa.from(t).toString("hex")))}static async verify(t,e,r){return super.verify(t,Qa.from(Qa.from(e).toString("hex")),r)}}var eu=__webpack_require__(8764).Buffer;class ru extends Sr{constructor(t,e){super(t,e)}get publicKey(){return eu.from(this.pk.slice(2),"hex")}get key(){return eu.from(this._key.slice(2),"hex")}}var nu=__webpack_require__(8764).Buffer;class iu{_publicKey;ownerLength=Re[Be.INJECTEDAPTOS].pubLength;signatureLength=Re[Be.INJECTEDAPTOS].sigLength;signatureType=Be.INJECTEDAPTOS;pem;provider;constructor(t,e){this.provider=t,this._publicKey=e}get publicKey(){return this._publicKey}async sign(t){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");const e=await this.provider.signMessage({message:nu.from(t).toString("hex"),nonce:"bundlr"});return nu.from(e.signature,"hex")}static async verify(t,e,r){const n=t;return vr(nu.from(r),nu.from(`APTOS\nmessage: ${nu.from(e).toString("hex")}\nnonce: bundlr`),nu.from(n))}}var su=__webpack_require__(8764).Buffer;class ou{_publicKey;ownerLength=Re[Be.MULTIAPTOS].pubLength;signatureLength=Re[Be.MULTIAPTOS].sigLength;signatureType=Be.MULTIAPTOS;collectSignatures;provider;constructor(t,e){this._publicKey=t,this.collectSignatures=e}get publicKey(){return this._publicKey}async sign(t){const{signatures:e,bitmap:r}=await this.collectSignatures(t),n=new Uint8Array([0,0,0,0]),i=new Set;r.forEach((t=>{if(t>=32)throw new Error(`Invalid bit value ${t}.`);if(i.has(t))throw new Error("Duplicated bits detected.");i.add(t);const e=Math.floor(t/8);let r=n[e];r|=128>>t%8,n[e]=r}));const s=su.alloc(this.signatureLength);let o=0;for(let t=0;t<32;t++)n.includes(t)&&s.set(e[o++],64*t);return s.set(n,this.signatureLength-4),s}static async verify(t,e,r){const n=Re[Be.MULTIAPTOS].sigLength-4,i=r.slice(0,n),s=r.slice(n);let o=!1;for(let r=0;r<32;r++){const n=Math.floor(r/8),a=r-8*n;if(0!=(s[n]&128>>a)){const n=i.slice(64*r,64*(r+1)),s=t.slice(32*r,32*(r+1));await vr(su.from(n),su.from(e),su.from(s))||(o=!0)}}return!o}}var au=__webpack_require__(8764).Buffer;class uu extends Wa{ownerLength=Re[Be.TYPEDETHEREUM].pubLength;signatureLength=Re[Be.TYPEDETHEREUM].sigLength;signatureType=Be.TYPEDETHEREUM;address;signer;constructor(t){super(t),this.address="0x"+ja(super.publicKey.slice(1)).slice(-20).toString("hex"),this.signer=new ka(t)}get publicKey(){return au.from(this.address)}async sign(t){const e=await this.signer._signTypedData(hu,cu,{address:this.address,"Transaction hash":t});return au.from(e.slice(2),"hex")}static async verify(t,e,r){const n=t.toString(),i=Ea(hu,cu,{address:n,"Transaction hash":e},r);return n.toLowerCase()===i.toLowerCase()}}const hu={name:"Bundlr",version:"1"},cu={Bundlr:[{name:"Transaction hash",type:"bytes"},{name:"address",type:"address"}]};var fu=__webpack_require__(8764).Buffer;class lu{ownerLength=Re[Be.TYPEDETHEREUM].pubLength;signatureLength=Re[Be.TYPEDETHEREUM].sigLength;signatureType=Be.TYPEDETHEREUM;address;signer;publicKey;constructor(t){this.signer=t.getSigner()}async ready(){this.address=(await this.signer.getAddress()).toString().toLowerCase(),this.publicKey=fu.from(this.address)}async sign(t){const e=await this.signer._signTypedData(hu,cu,{address:this.address,"Transaction hash":t});return fu.from(e.slice(2),"hex")}static verify(t,e,r){const n=t.toString(),i=Ea(hu,cu,{address:n,"Transaction hash":e},r);return n.toLowerCase()===i.toLowerCase()}}class du{signer;publicKey;ownerLength=Re[Be.ARWEAVE].pubLength;signatureLength=Re[Be.ARWEAVE].sigLength;signatureType=Be.ARWEAVE;arweave;constructor(t,e){this.signer=t,this.arweave=e}async setPublicKey(){const t=await this.signer.getActivePublicKey();this.publicKey=Wt.toBuffer(t)}async sign(t){this.publicKey||await this.setPublicKey();const e=await this.signer.signature(t,{name:"RSA-PSS",saltLength:32});return new Uint8Array(Object.values(e).map((t=>+t)))}static async verify(t,e,r){return await yn().verify(t,e,r)}}const pu={1:Rn,2:Sr,3:Wa,4:Ya,5:iu,6:ou,7:uu},mu=async function(t){return qr([Tr("dataitem"),Tr("1"),Tr(t.signatureType.toString()),t.rawOwner,t.rawTarget,t.rawAnchor,t.rawTags,t.rawData])};function gu(t,e){const r=new Uint8Array(t);if(e<0)throw new Error("Array is unsigned, cannot represent -ve numbers");if(e>2**(8*t)-1)throw new Error(`Number ${e} is too large for an array of ${t} bytes`);for(let t=0;t<r.length;t++){const n=255&e;r[t]=n,e=(e-n)/256}return r}function yu(t){return gu(8,t)}function bu(t){return gu(2,t)}function vu(t){return gu(16,t)}function wu(t){return gu(32,t)}function _u(t){let e=0;for(let r=t.length-1;r>=0;r--)e=256*e+t[r];return e}var Mu=__webpack_require__(8764).Buffer;class Su{buf;pos;constructor(t=Mu.alloc(xu),e=0){this.buf=t,this.pos=e}writeTags(t){if(!Array.isArray(t))throw new Error("input must be array");const e=t.length;let r;if(e)for(this.writeLong(e),r=0;r<e;r++){const e=t[r];if("string"!=typeof e?.name||"string"!=typeof e?.value)throw new Error(`Invalid tag format for ${e}, expected {name:string, value: string}`);this.writeString(e.name),this.writeString(e.value)}this.writeLong(0)}toBuffer(){const t=Mu.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(t,0,0,this.pos),t}writeLong(t){const e=this.buf;let r,n;if(t>=-1073741824&&t<1073741824){n=t>=0?t<<1:~t<<1|1;do{e[this.pos]=127&n,n>>=7}while(n&&(e[this.pos++]|=128))}else{r=t>=0?2*t:2*-t-1;do{e[this.pos]=127&r,r/=128}while(r>=1&&(e[this.pos++]|=128))}this.pos++,this.buf=e}writeString(t){const e=Mu.byteLength(t),r=this.buf;this.writeLong(e);let n=this.pos;if(this.pos+=e,!(this.pos>r.length)){if(e>64)this.buf.write(t,this.pos-e,e,"utf8");else{let i,s,o,a;for(i=0,s=e;i<s;i++)o=t.charCodeAt(i),o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):55296==(64512&o)&&56320==(64512&(a=t.charCodeAt(i+1)))?(o=65536+((1023&o)<<10)+(1023&a),i++,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}this.buf=r}}readLong(){let t=0,e=0;const r=this.buf;let n,i,s,o;do{n=r[this.pos++],i=128&n,t|=(127&n)<<e,e+=7}while(i&&e<28);if(i){s=t,o=268435456;do{n=r[this.pos++],s+=(127&n)*o,o*=128}while(128&n);return(s%2?-(s+1):s)/2}return t>>1^-(1&t)}skipLong(){const t=this.buf;for(;128&t[this.pos++];);}readTags(){const t=[];let e;for(;e=this.readLong();)for(e<0&&(e=-e,this.skipLong());e--;){const e=this.readString(),r=this.readString();t.push({name:e,value:r})}return t}readString(){const t=this.readLong(),e=this.pos,r=this.buf;if(this.pos+=t,this.pos>r.length)throw new Error("TAP Position out of range");return this.buf.slice(e,e+t).toString()}}function ku(t){if(0===t?.length)return Mu.allocUnsafe(0);const e=new Su;return e.writeTags(t),e.toBuffer()}function Eu(t){return new Su(t).readTags()}const Au=80,xu=4096;class Tu{binary;_id;constructor(t){this.binary=t}static isDataItem(t){return void 0!==t.binary}get signatureType(){const t=_u(this.binary.subarray(0,2));if(void 0!==Be?.[t])return t;throw new Error("Unknown signature type: "+t)}async isValid(){return Tu.verify(this.binary)}get id(){return Wt.encode(this.rawId)}set id(t){this._id=Wt.toBuffer(t)}get rawId(){return(0,Ft.createHash)("sha256").update(this.rawSignature).digest()}set rawId(t){this._id=t}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return Wt.encode(this.rawSignature)}set rawOwner(t){if(t.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${t.byteLength} bytes.`);this.binary.set(t,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return Re[this.signatureType].sigLength}get owner(){return Wt.encode(this.rawOwner)}get ownerLength(){return Re[this.signatureType].pubLength}get rawTarget(){const t=this.getTargetStart();return 1==this.binary[t]?this.binary.subarray(t+1,t+33):Ra.Buffer.alloc(0)}get target(){return Wt.encode(this.rawTarget)}get rawAnchor(){const t=this.getAnchorStart();return 1==this.binary[t]?this.binary.subarray(t+1,t+33):Ra.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){const t=this.getTagsStart(),e=_u(this.binary.subarray(t+8,t+16));return this.binary.subarray(t+16,t+16+e)}get tags(){const t=this.getTagsStart();if(0==_u(this.binary.subarray(t,t+8)))return[];const e=_u(this.binary.subarray(t+8,t+16));return Eu(Ra.Buffer.from(this.binary.subarray(t+16,t+16+e)))}get tagsB64Url(){return this.tags.map((t=>({name:Wt.encode(t.name),value:Wt.encode(t.value)})))}getStartOfData(){const t=this.getTagsStart();return t+16+_u(this.binary.subarray(t+8,t+16))}get rawData(){const t=this.getTagsStart(),e=t+16+_u(this.binary.subarray(t+8,t+16));return this.binary.subarray(e,this.binary.length)}get data(){return Wt.encode(this.rawData)}getRaw(){return this.binary}async sign(t){return this._id=await qu(this,t),this.rawId}async setSignature(t){this.binary.set(t,2),this._id=Ra.Buffer.from(await yn().hash(t))}isSigned(){return(this._id?.length??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map((t=>({name:Wt.encode(t.name),value:Wt.encode(t.value)}))),data:this.data}}static async verify(t){if(t.byteLength<Au)return!1;const e=new Tu(t),r=e.signatureType,n=e.getTagsStart(),i=_u(t.subarray(n,n+8)),s=_u(t.subarray(n+8,n+16));if(s>xu)return!1;if(i>0)try{if(Eu(Ra.Buffer.from(t.subarray(n+16,n+16+s))).length!==i)return!1}catch(t){return!1}const o=pu[r],a=await mu(e);return await o.verify(e.rawOwner,a,e.rawSignature)}async getSignatureData(){return mu(this)}getTagsStart(){const t=this.getTargetStart();let e=t+(1==this.binary[t]?33:1);return e+=1==this.binary[e]?33:1,e}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let t=this.getTargetStart()+1;return t+=1==this.binary[this.getTargetStart()]?32:0,t}}const Iu=Tu;var Bu=__webpack_require__(8764).Buffer;const Ru=32;class Pu{length;items;binary;constructor(t){this.binary=t,this.length=this.getDataItemCount(),this.items=this.getItems()}getRaw(){return this.binary}get(t){if("number"==typeof t){if(t>=this.length)throw new RangeError("Index out of range");return this.getByIndex(t)}return this.getById(t)}getSizes(){const t=[];for(let e=Ru;e<Ru+64*this.length;e+=64)t.push(_u(this.binary.subarray(e,e+32)));return t}getIds(){const t=[];for(let e=Ru;e<Ru+64*this.length;e+=64){const r=this.binary.subarray(e+32,e+64);if(0===r.length)throw new Error("Invalid bundle, id specified in headers doesn't exist");t.push(Wt.encode(r))}return t}getIdBy(t){if(t>this.length-1)throw new RangeError("Index of bundle out of range");const e=64+64*t;return Wt.encode(this.binary.subarray(e,e+32))}async toTransaction(t,e,r){const n=await e.createTransaction({data:this.binary,...t},r);return n.addTag("Bundle-Format","binary"),n.addTag("Bundle-Version","2.0.0"),n}async verify(){for(const t of this.items){const e=await t.isValid(),r=Wt((0,Ft.createHash)("sha256").update(t.rawSignature).digest());if(!e||t.id!==r)return!1}return!0}getOffset(t){let e=0;for(let r=Ru;r<Ru+64*this.length;r+=64){const n=_u(this.binary.subarray(r,r+32));e+=n;const i=this.binary.subarray(r+32,r+64);if(0===Bu.compare(i,t))return{startOffset:e,size:n}}return{startOffset:-1,size:-1}}getByIndex(t){let e=0;const r=this.getBundleStart();let n,i,s=0;for(let r=Ru;r<Ru+64*this.length;r+=64){if(n=_u(this.binary.subarray(r,r+32)),s++===t){i=this.binary.subarray(r+32,r+64);break}e+=n}const o=r+e,a=this.binary.subarray(o,o+n),u=new Iu(a);return u.rawId=i,u}getById(t){const e=Wt.toBuffer(t),r=this.getOffset(e);if(-1===r.startOffset)throw new Error("Transaction not found");const n=this.getBundleStart()+r.startOffset;return new Iu(this.binary.subarray(n,n+r.size))}getDataItemCount(){return _u(this.binary.subarray(0,32))}getBundleStart(){return 32+64*this.length}getItems(){const t=new Array(this.length);let e=0;const r=this.getBundleStart();let n=0;for(let i=Ru;i<Ru+64*this.length;i+=64){const s=_u(this.binary.subarray(i,i+32)),o=this.binary.subarray(i+32,i+64);if(0===o.length)throw new Error("Invalid bundle, id specified in headers doesn't exist");const a=r+e,u=this.binary.subarray(a,a+s);e+=s;const h=new Iu(u);h.rawId=o,t[n]=h,n++}return t}}const Ou=Pu;var Cu=__webpack_require__(8764).Buffer;function Uu(t){return new Ou(t)}async function Nu(t,e){const r=new Uint8Array(64*t.length),n=await Promise.all(t.map((async(t,n)=>{const i=t.isSigned()?t.rawId:await qu(t,e),s=new Uint8Array(64);return s.set(wu(t.getRaw().byteLength),0),s.set(i,32),r.set(s,64*n),t.getRaw()}))).then((t=>Cu.concat(t))),i=Cu.concat([Cu.from(wu(t.length)),Cu.from(r),n]);return new Ou(i)}async function Lu(t,e){const r=await mu(t),n=await e.sign(r),i=await yn().hash(n);return{signature:Cu.from(n),id:Cu.from(i)}}async function qu(t,e){const{signature:r,id:n}=await Lu(t,e);return t.getRaw().set(r,2),n}var zu=__webpack_require__(8764).Buffer;function Du(t,e,r){const n=e.publicKey,i=r?.target?Wt.toBuffer(r.target):null,s=1+(i?.byteLength??0),o=r?.anchor?zu.from(r.anchor):null,a=1+(o?.byteLength??0),u=(r?.tags?.length??0)>0?ku(r?.tags):null,h=16+(u?u.byteLength:0),c=zu.from(t),f=c.byteLength,l=2+e.signatureLength+e.ownerLength+s+a+h+f,d=zu.alloc(l);if(d.set(bu(e.signatureType),0),d.set(new Uint8Array(e.signatureLength).fill(0),2),n.byteLength!==e.ownerLength)throw new Error(`Owner must be ${e.ownerLength} bytes, but was incorrectly ${n.byteLength}`);d.set(n,2+e.signatureLength);const p=2+e.signatureLength+e.ownerLength;if(d[p]=i?1:0,i){if(32!==i.byteLength)throw new Error(`Target must be 32 bytes but was incorrectly ${i.byteLength}`);d.set(i,p+1)}const m=p+s;let g=m+1;if(d[m]=o?1:0,o){if(g+=o.byteLength,32!==o.byteLength)throw new Error("Anchor must be 32 bytes");d.set(o,m+1)}d.set(yu(r?.tags?.length??0),g);const y=yu(u?.byteLength??0);d.set(y,g+8),u&&d.set(u,g+16);const b=g+h;return d.set(c,b),new Iu(d)}class ju{signatureType;rawSignature;signature;signatureLength;rawOwner;owner;ownerLength;rawTarget;target;rawAnchor;anchor;rawTags;tags;rawData;data;static async verify(...t){throw new Error("You must implement `verify`")}}var Hu=__webpack_require__(8764).Buffer;async function Fu(t){const e=Wu(t);let r=(await e.next()).value;r=await $u(e,r,32);const n=_u(r.subarray(0,32));r=r.subarray(32);const i=64*n;r=await $u(e,r,i);const s=new Array(n);for(let t=0;t<i;t+=64)s[t/64]=[_u(r.subarray(t,t+32)),Wt(Hu.from(r.subarray(t+32,t+64)))];r=r.subarray(i);let o=32+i;const a=[];for(const[t,n]of s){r=await $u(e,r,Au),r=await $u(e,r,2);const i=_u(r.subarray(0,2));r=r.subarray(2);const{sigLength:s,pubLength:u,sigName:h}=Re[i];r=await $u(e,r,s);const c=r.subarray(0,s);r=r.subarray(s),r=await $u(e,r,u);const f=r.subarray(0,u);r=r.subarray(u),r=await $u(e,r,1);const l=1===r[0];l&&(r=await $u(e,r,33));const d=l?r.subarray(1,33):Hu.allocUnsafe(0);r=r.subarray(l?33:1),r=await $u(e,r,1);const p=1===r[0];p&&(r=await $u(e,r,33));const m=p?r.subarray(1,33):Hu.allocUnsafe(0);r=r.subarray(p?33:1),r=await $u(e,r,8);const g=_u(r.subarray(0,8));r=r.subarray(8),r=await $u(e,r,8);const y=_u(r.subarray(0,8));r=r.subarray(8),r=await $u(e,r,y);const b=r.subarray(0,y),v=0!==g&&0!==y?Eu(Hu.from(b)):[];if(v.length!==g)throw new Error("Tags lengths don't match");r=r.subarray(y);const w=new ve.Transform;w._transform=function(t,e,r){this.push(t),r()};const _=qr([Tr("dataitem"),Tr("1"),Tr(i.toString()),f,d,m,b,w]),M=2+s+u+(l?33:1)+(p?33:1)+16+y,S=t-M;if(r.byteLength>S)w.write(r.subarray(0,S)),r=r.subarray(S);else{let t=r.byteLength;for(w.write(r);S>t;){if(r=(await e.next()).value,!r)throw new Error(`Not enough data bytes  expected: ${S} received: ${t}`);t+=r.byteLength,t>S?w.write(r.subarray(0,r.byteLength-(t-S))):w.write(r)}r=r.subarray(r.byteLength-(t-S))}if(w.end(),n!==Wt((0,Ft.createHash)("sha256").update(c).digest()))throw new Error("ID doesn't match signature");const k=pu[i];if(!await k.verify(f,await _,c))throw new Error("Invalid signature");a.push({id:n,sigName:h,signature:Wt(Hu.from(c)),target:Wt(Hu.from(d)),anchor:Wt(Hu.from(m)),owner:Wt(Hu.from(f)),tags:v,dataOffset:o+M,dataSize:S}),o+=M+S}return a}async function Ku(t,e,r,n){const i=Du("",r,n),s=new ve.PassThrough,o=[Tr("dataitem"),Tr("1"),Tr(i.signatureType.toString()),i.rawOwner,i.rawTarget,i.rawAnchor,i.rawTags,t],a=await qr(o),u=Hu.from(await r.sign(a));return i.setSignature(u),s.write(i.getRaw()),e.pipe(s)}async function $u(t,e,r){if(e.byteLength>=r)return e;const{done:n,value:i}=await t.next();if(n&&!i)throw new Error("Invalid buffer");return $u(t,Hu.concat([Hu.from(e),Hu.from(i)]),r)}async function*Wu(t){for await(const e of t)yield e}const Vu=Fu,Gu={readBytes:$u,getReader:Wu},Ju={...e,stream:r};globalThis.arbundles??=Ju;var Zu=__webpack_require__(6146),Xu=__webpack_require__(7187);const Yu={notReadable:Symbol("not readable"),readable:Symbol("readable"),ended:Symbol("ended"),errored:Symbol("errored")};class Qu{_stream;_error;_state=Yu.notReadable;_size;_rejections=new Set;get closed(){return this._state===Yu.ended}constructor(t,{size:e}={}){this._stream=t,this._size=e;const r=["_handleStreamEnd","_handleStreamError"];for(const t of r)Object.defineProperty(this,t,{configurable:!0,writable:!0,value:this[t].bind(this)});t.once("error",this._handleStreamError),t.once("end",this._handleStreamEnd),t.on("readable",(()=>{this._state=Yu.readable}))}[Symbol.asyncIterator](){return this}async next(){switch(this._state){case Yu.notReadable:{let t,e;try{t=this._untilReadable(),e=this._untilEnd(),await Promise.race([t.promise,e.promise])}finally{null!=t&&t.close(),null!=e&&e.close()}return this.next()}case Yu.ended:return this.close(),{done:!0,value:void 0};case Yu.errored:throw this.close(),this._error;case Yu.readable:{const t=this._size?this._stream.read(this._size):this._stream.read();return null!==t?{done:!1,value:t}:(this._state=Yu.notReadable,await new Promise((t=>setTimeout((t=>t(!0)),0,t))),this.next())}}}_untilReadable(){let t;const e=new Promise(((e,r)=>{t=()=>{this._state=Yu.readable,this._rejections.delete(r),e()},this._state,this._stream.once("readable",t),this._rejections.add(r)}));return{close:()=>{null!=t&&this._stream.removeListener("readable",t)},promise:e}}_untilEnd(){let t;const e=new Promise(((e,r)=>{t=()=>{this._state=Yu.ended,this._rejections.delete(r),e()},this._stream.once("end",t),this._rejections.add(r)}));return{close:()=>{null!=t&&this._stream.removeListener("end",t)},promise:e}}return(){return this._state=Yu.ended,this.next()}throw(t){return this._error=t,this._state=Yu.errored,this.next()}close(t){this._stream.removeListener("end",this._handleStreamEnd),this._stream.removeListener("error",this._handleStreamError),this._state=Yu.ended,this._stream.destroy(t)}_handleStreamError(t){this._error=t,this._state=Yu.errored;for(const e of this._rejections)e(t)}_handleStreamEnd(){this._state=Yu.ended}get state(){return this._state}}var th=__webpack_require__(8764).Buffer;class eh extends Xu.EventEmitter{tokenConfig;api;uploadID;token;chunkSize;batchSize;paused=!1;isResume=!1;uploadOptions;arbundles;constructor(t,e){super({captureRejections:!0}),this.tokenConfig=t,this.arbundles=this.tokenConfig.irys.arbundles,this.api=e,this.token=this.tokenConfig.name,this.chunkSize=25e6,this.batchSize=5,this.uploadID=""}setResumeData(t){return t&&(this.uploadID=t,this.isResume=!0),this}getResumeData(){return this.uploadID}setChunkSize(t){if(t<1)throw new Error("Invalid chunk size (must be >=1)");return this.chunkSize=t,this}setBatchSize(t){if(t<1)throw new Error("Invalid batch size (must be >=1)");return this.batchSize=t,this}pause(){this.emit("pause"),this.paused=!0}resume(){this.paused=!1,this.emit("resume")}async uploadTransaction(t,e){return this.uploadOptions=e,this.arbundles.DataItem.isDataItem(t)?this.runUpload(t.getRaw()):this.runUpload(t)}async uploadData(t,e){return this.uploadOptions=e?.upload,this.runUpload(t,{...e})}async runUpload(t,e){let r=this.uploadID;const n=void 0===e,i={"x-chunking-version":"2"};let s;if(r){if(s=await this.api.get(`/chunks/${this.token}/${r}/-1`,{headers:i}),404===s.status)throw new Error("Upload ID not found - your upload has probably expired.");if(ge.checkAndThrow(s,"Getting upload info"),this.chunkSize!=+s.data.size)throw new Error(`Chunk size not equal to that of a previous upload (${+s.data.size}).`)}else s=await this.api.get(`/chunks/${this.token}/-1/-1`,{headers:i}),ge.checkAndThrow(s,"Getting upload token"),this.uploadID=r=s.data.id;const{max:o,min:a}=s.data;if(this.chunkSize<+a||this.chunkSize>+o)throw new Error(`Chunk size out of allowed range: ${a} - ${o}`);let u=0;const h=(t,e,n)=>new Promise((s=>{de((async o=>{await this.api.post(`/chunks/${this.token}/${r}/${e}`,t,{headers:{"Content-Type":"application/octet-stream",...i},maxBodyLength:1/0,maxContentLength:1/0}).then((r=>{if(r?.status>=300){const i={res:r,id:n,offset:e,size:t.length};throw this.emit("chunkError",i),402===r?.status&&o(new Error("Not enough funds to send data")),i}this.emit("chunkUpload",{id:n,offset:e,size:t.length,totalUploaded:u+=t.length}),s({o:e,d:r})}))}))})),c=s.data.chunks??[],f=new ve.PassThrough;let l=th.alloc(0),d=!1,p=!0;f.on("end",(()=>d=!0)),f.on("error",(t=>{throw new Error(`Error processing readable: ${t}`)}));const m=async t=>{for(;!d;){if(l.length>=t)return e=th.from(l.slice(0,t)),l=l.slice(t),e;var e=f.read(t);if(null!==e){if(e.length===t)return e;l=th.concat([l,e])}else await new Promise((t=>setTimeout((t=>t(!0)),0,t)))}for(;l.length>=t;)return e=th.from(l.slice(0,t)),l=l.slice(t),e;return p=!1,l};let g,y;if(!n){g=this.arbundles.createData("",this.tokenConfig.getSigner(),{...e,anchor:e?.anchor??Ft.randomBytes(32).toString("base64").slice(0,32)});const t=g.getRaw();y=t.length,f.write(t),u-=t.length}if(th.isBuffer(t))f.write(t),f.end();else{if(!("pipe"in t))throw new Error("Input data is not a buffer or a compatible stream (no .pipe method)");t.pipe(f)}let b=0;const v=new Set;let w,_,M,S=0;if(!n){_=new ve.PassThrough;const t=g.getRaw().length;if(this.chunkSize<y)throw new Error(`Configured chunk size is too small for transaction header! (${this.chunkSize} < ${y})`);w=await m(this.chunkSize),S++,b+=w.length,_.write(w.slice(t));const e=[this.arbundles.stringToBuffer("dataitem"),this.arbundles.stringToBuffer("1"),this.arbundles.stringToBuffer(g.signatureType.toString()),g.rawOwner,g.rawTarget,g.rawAnchor,g.rawTags,new Qu(_)];M=this.arbundles.deepHash(e)}let k=c.pop();for(;p;){if(this.paused&&await new Promise((t=>this.on("resume",(()=>t(void 0))))),k&&+k[0]-b<=this.chunkSize){const t=k[1],e=await m(t);n||_.write(e),b+=t,k=c.pop(),S++,u+=t;continue}const t=await m(this.chunkSize);for(n||_.write(t);v.size>=this.batchSize;){const[t]=await Promise.race(v);v.delete(t)}const e=(async()=>await h(t,b,++S))().then((t=>[e,t]));v.add(e),b+=t.length}if(_&&_.end(),await Promise.all(v),!n){const t=await M,e=th.from(await this.tokenConfig.getSigner().sign(t));w.set(e,2),await h(w,0,0)}const E=await this.api.post(`/chunks/${this.token}/${r}/-1`,null,{headers:{"Content-Type":"application/octet-stream",...i},timeout:this.api.config?.timeout??4e5});if(402===E.status){const t=E?.headers?.["retry-after"],e=E.data+(t?` - retry after ${t}s`:"");throw new Error(e)}if(ge.checkAndThrow(E,"Finalising upload",[201]),201===E.status)throw new Error(E.data);return E.data.verify=ge.verifyReceipt.bind({},this.arbundles,E.data.data),this.emit("done",E),E}get completionPromise(){return new Promise((t=>this.on("done",t)))}}var rh=__webpack_require__(8764).Buffer;const nh=5e7,ih=class{api;token;tokenConfig;utils;contentTypeOverride;forceUseChunking;arbundles;irysTransaction;constructor(t,e,r,n,i){this.api=t,this.token=r,this.tokenConfig=n,this.arbundles=this.tokenConfig.irys.arbundles,this.utils=e,this.irysTransaction=i}async uploadTransaction(t,e){let r;const n=this.arbundles.DataItem.isDataItem(t);if(this.forceUseChunking||n&&t.getRaw().length>=nh||!n)r=await this.chunkedUploader.uploadTransaction(n?t.getRaw():t,e);else{const{url:e,timeout:n,headers:i}=this.api.getConfig(),s={"Content-Type":"application/octet-stream",...i};if(r=await this.api.post(new URL(`/tx/${this.token}`,e).toString(),t.getRaw(),{headers:s,timeout:n,maxBodyLength:1/0}),201===r.status)throw new Error(r.data)}if(402===r.status){const t=r?.headers?.["retry-after"],e=r.data+(t?` - retry after ${t}s`:"");throw new Error(e)}if(r.status>=400)throw new Error(`whilst uploading Irys transaction: ${r.status} ${r.statusText}`);return r.data.verify=async()=>this.utils.verifyReceipt(r.data),r}async uploadData(t,e){if("string"==typeof t&&(t=rh.from(t)),rh.isBuffer(t)&&t.length<=nh){const r=this.arbundles.createData(t,this.tokenConfig.getSigner(),{...e,anchor:e?.anchor??(0,Ft.randomBytes)(32).toString("base64").slice(0,32)});return await r.sign(this.tokenConfig.getSigner()),(await this.uploadTransaction(r,{...e?.upload})).data}return(await this.chunkedUploader.uploadData(t,e)).data}async concurrentUploader(t,e){const r=[],n=e?.logFunction?e?.logFunction:async t=>{},i=e?.concurrency??5,s=await Zu.PromisePool.for(t).withConcurrency(i>=1?i:5).handleError((async(t,e)=>{if(r.push(t),"Not enough funds to send data"===t.message)throw t})).process((async(t,r,s)=>{await de((async s=>{try{const s=await this.processItem(t,e?.itemOptions);return r%i==0&&await n(`Processed ${r} Items`),e?.resultProcessor?await e.resultProcessor({item:t,res:s,i:r}):{item:t,res:s,i:r}}catch(t){throw"Not enough funds to send data"===t?.message&&s(t),t}}),{retries:3,minTimeout:1e3,maxTimeout:1e4})}));return{errors:r,results:s.results}}async processItem(t,e){return this.arbundles.DataItem.isDataItem(t)?this.uploadTransaction(t,{...e?.upload}):this.uploadData(t,e)}async generateManifest(t){const{items:e,indexFile:r}=t,n={manifest:"arweave/paths",version:"0.1.0",paths:{}};if(r){if(!e.has(r))throw new Error(`Unable to access item: ${r}`);n.index={path:r}}for(const[t,r]of e.entries())n.paths[t]={id:r};return n}get chunkedUploader(){return new eh(this.tokenConfig,this.api)}set useChunking(t){"boolean"==typeof t&&(this.forceUseChunking=t)}set contentType(t){this.contentTypeOverride=t}async uploadBundle(t,e){const r=e?.throwawayKey??await this.arbundles.getCryptoDriver().generateJWK(),n=new Rn(r),i=t.map((t=>this.arbundles.DataItem.isDataItem(t)?t:this.arbundles.createData(t,n))),s=await this.arbundles.bundleAndSignData(i,n),o=this.arbundles.createData(s.getRaw(),this.tokenConfig.getSigner(),{tags:[{name:"Bundle-Format",value:"binary"},{name:"Bundle-Version",value:"2.0.0"}]});return await o.sign(this.tokenConfig.getSigner()),{...await this.uploadTransaction(o,e),txs:i,throwawayKey:r,throwawayKeyAddress:Wt(rh.from(await this.arbundles.getCryptoDriver().hash(Wt.toBuffer(Wt(n.publicKey)))))}}};var sh=__webpack_require__(8764).Buffer;class oh extends ih{irys;constructor(t){super(t.api,t.utils,t.token,t.tokenConfig,t.IrysTransaction),this.irys=t}async uploadFile(t,e){const r=e?.tags&&e.tags.some((({name:t})=>"content-type"===t.toLowerCase()))?e?.tags:[...e?.tags??[],{name:"Content-Type",value:t.type}];return this.uploadData(sh.from(await t.arrayBuffer()),{tags:r,...e})}async uploadFolder(t,e){const r=[],n=new Map,i=e?.throwawayKey??await this.irys.arbundles.getCryptoDriver().generateJWK(),s=new Rn(i);for(const e of t){const t=e.webkitRelativePath?e.webkitRelativePath:e.name,i=e.tags&&e.tags.some((({name:t})=>"content-type"===t.toLowerCase()))?e.tags:[...e.tags??[],{name:"Content-Type",value:e.type}],o=this.irys.arbundles.createData(sh.from(await e.arrayBuffer()),s,{tags:i});await o.sign(s),r.push(o),n.set(t,o.id)}const o=await this.generateManifest({items:n,indexFile:e?.indexFileRelPath}),a=this.irys.arbundles.createData(JSON.stringify(o),e?.seperateManifestTx?this.irys.tokenConfig.getSigner():s,{tags:[{name:"Type",value:"manifest"},{name:"Content-Type",value:"application/x.arweave-manifest+json"},...e?.manifestTags??[]]});!0===e?.seperateManifestTx?(await a.sign(this.irys.tokenConfig.getSigner()),await this.uploadTransaction(a,{...e})):(await a.sign(s),r.push(a));const u=await this.uploadBundle(r,{...e});return{...u.data,manifestId:a.id,manifest:o,throwawayKey:u.throwawayKey,throwawayKeyAddress:u.throwawayKeyAddress,txs:u.txs}}}class ah extends Se{tokenConfig;uploader;uploadFolder;uploadFile;constructor({url:t,wallet:e,config:r,getTokenConfig:i}){switch(t){case void 0:case"node1":t="https://node1.irys.xyz";break;case"node2":t="https://node2.irys.xyz";break;case"devnet":t="https://devnet.irys.xyz"}const s=new URL(t);if(super({url:s,arbundles:n}),this.api=new ke({url:s,timeout:r?.timeout??1e5,headers:r?.headers}),this.tokenConfig=i(this),this.token=this.tokenConfig.name,"devnet.irys.network"===s.host&&!(r?.providerUrl??(e?.rpcUrl||this.tokenConfig.inheritsRPC)))throw new Error(`Using ${s.host} requires a dev/testnet RPC to be configured! see https://docs.irys.network/sdk/using-devnet`);this.utils=new ge(this.api,this.token,this.tokenConfig),this.uploader=new oh(this),this.funder=new Ee(this.utils),this.uploader=new oh(this),this.provenance=new Ae(this),this.transactions=new Te(this),this.address="Please run `await Irys.ready()`",this.uploadFolder=this.uploader.uploadFolder.bind(this.uploader),this.uploadFile=this.uploader.uploadFile.bind(this.uploader)}}var uh=__webpack_require__(8764).Buffer;class hh{base;wallet;_address;providerUrl;providerInstance;ticker;name;irys;minConfirm=5;isSlow=!1;needsFee=!0;inheritsRPC=!1;constructor(t){Object.assign(this,t)}get address(){return this._address}async ready(){this._address=this.wallet?this.ownerToAddress(await this.getPublicKey()):void 0}async getId(t){return Wt.encode(uh.from(await yn().hash(await t.rawSignature())))}async price(){return ch(this.ticker)}}async function ch(t){const e=await Ht.get(`https://api.redstone.finance/prices?symbol=${t}&provider=redstone&limit=1`);return await ge.checkAndThrow(e,"Getting price data"),e.data[0].value}const fh=lu;class lh extends hh{signer;w3signer;inheritsRPC=!0;constructor(t){super(t),this.base=["wei",1e18]}async getTx(t){const e=this.providerInstance,r=await e.getTransaction(t);if(!r)throw new Error("Tx doesn't exist");if(!r.to)throw new Error(`Unable to resolve transactions ${t} receiver`);return{from:r.from,to:r.to,blockHeight:r.blockNumber?new le(r.blockNumber):void 0,amount:new le(r.value.toHexString(),16),pending:!r.blockNumber,confirmed:r.confirmations>=this.minConfirm}}ownerToAddress(t){return t.toString().toLowerCase()}async sign(t){return(await this.getSigner()).sign(t)}getSigner(){return this.signer||(this.signer=new lu(this.wallet)),this.signer}async verify(t,e,r){return fh.verify(t,e,r)}async getCurrentHeight(){const t=this.providerInstance,e=await t.send("eth_blockNumber",[]);return new le(e,16)}async getFee(t,e){const r=this.providerInstance,n={to:e,from:this.address,value:"0x"+new le(t).toString(16)},i=await r.estimateGas(n),s=await r.getGasPrice();return new le(i.mul(s).toString())}async sendTx(t){const e=this.w3signer,r=await e.sendTransaction(t);return r?r.hash:void 0}async createTx(t,e,r){const n=As.from(new le(t).toFixed()),i=this.w3signer,s=await i.estimateGas({to:e,from:this.address,value:n.toHexString()});let o=await i.getGasPrice();return"matic"===this.name&&(o=As.from(new le(o.toString()).multipliedBy(10).decimalPlaces(0).toString())),{txId:void 0,tx:await i.populateTransaction({to:e,from:this.address,value:n.toHexString(),gasPrice:o,gasLimit:s})}}async getPublicKey(){return this.address}async ready(){this.w3signer=await this.wallet.getSigner(),this._address=(await this.w3signer.getAddress()).toString().toLowerCase(),await this.getSigner().ready(),this.providerInstance=this.wallet,await(this.providerInstance?._ready?.())}}var dh=__webpack_require__(58),ph=__webpack_require__(3508),mh=__webpack_require__(8652),gh=__webpack_require__(7191),yh=__webpack_require__(5532),bh=__webpack_require__(2023),vh=__webpack_require__(8764).Buffer;class wh extends hh{keyPair;near;constructor(t){super(t),this.near=this.wallet._near,this.base=["yoctoNEAR",1e25]}async ready(){if(!this.wallet.isSignedIn())throw new Error("Wallet has not been signed in!");const t=new ph.X,e=this.wallet.account();if(this.keyPair=await t.getKey(this.wallet._networkId,e.accountId),!this.keyPair){this.keyPair=dh.KeyPair.fromRandom("ed25519");const r=this.keyPair.getPublicKey().toString();await t.setKey(this.wallet._networkId,e.accountId,this.keyPair),await e.addKey(r)}this._address=await this.wallet.getAccountId(),this.providerInstance=this.wallet._near.connection.provider}async getTx(t){const e=await this.providerInstance,[r,n]=t.split(":"),i=await e.txStatusReceipts(gh.decode(n),r),s=await e.block(i.transaction_outcome.block_hash),o=(await e.block({finality:"final"})).header.height;if(""!==i.receipts_outcome[0].outcome.status.SuccessValue)throw new Error("Transaction failed!");const a=i.receipts[0].receipt.Action.actions[0].Transfer.deposit??0;return{from:r,to:i.transaction.receiver_id,amount:new le(a),blockHeight:new le(s.header.height),pending:!1,confirmed:o-s.header.height>=this.minConfirm}}ownerToAddress(t){const e="string"==typeof t?t:gh.encode(t);return vh.from(gh.decode(e.replace("ed25519:",""))).toString("hex")}async sign(t){return this.getSigner().sign(t)}getSigner(){return new Ga(this.keyPair.secretKey)}async verify(t,e,r){return Ga.verify(t,e,r)}async getCurrentHeight(){const t=await this.providerInstance.status();return new le(t.sync_info.latest_block_height)}async getFee(t,e){const r=(await this.providerInstance.block({finality:"final"})).header.height,n=await this.providerInstance.gasPrice(r);return new le(n.gas_price).multipliedBy(45e10)}async sendTx(t){const e=await this.providerInstance.sendTransaction(t);return`${this.address}:${e.transaction.hash}`}async createTx(t,e,r){if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const n=await this.providerInstance.query({request_type:"view_access_key",finality:"final",account_id:this.address,public_key:this.keyPair.getPublicKey().toString()}),i=++n.nonce,s=vh.from(gh.decode(n.block_hash)),o=[mh.actionCreators.transfer(new _n(new le(t).toString()))],a=(0,mh.createTransaction)(this.address,this.keyPair.getPublicKey(),e,i,o,s),u=(0,yh.serialize)(mh.SCHEMA,a),h=new Uint8Array(bh.sha256.array(u)),c=this.keyPair.sign(h);return{tx:new mh.SignedTransaction({transaction:a,signature:new mh.Signature({keyType:a.publicKey.keyType,data:c.signature})}),txId:void 0}}async getPublicKey(){return vh.from(this.keyPair.getPublicKey().data)}}function _h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mh(t){return Mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(t)}function Sh(t){var e=function(t,e){if("object"!==Mh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Mh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Mh(e)?e:String(e)}function kh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sh(n.key),n)}}function Eh(t,e,r){return e&&kh(t.prototype,e),r&&kh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ah(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function xh(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Th(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ih(t,e){xh(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Bh="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Rh=t=>t instanceof Uint8Array,Ph=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Oh=(t,e)=>t<<32-e|t>>>e;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Ch(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}function Uh(t){if("string"==typeof t&&(t=Ch(t)),!Rh(t))throw new Error("expected Uint8Array, got "+typeof t);return t}function Nh(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!Rh(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}class Lh{clone(){return this._cloneInto()}}function qh(t){const e=e=>t().update(Uh(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function zh(t=32){if(Bh&&"function"==typeof Bh.getRandomValues)return Bh.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class Dh extends Lh{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ph(this.buffer)}update(t){Th(this);const{view:e,buffer:r,blockLen:n}=this,i=(t=Uh(t)).length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(e,0),this.pos=0);else{const e=Ph(t);for(;n<=i-s;s+=n)this.process(e,s)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Th(this),Ih(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let t=s;t<n;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,h=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+h,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=Ph(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<u;t++)o.setUint32(4*t,h[t],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return t.length=n,t.pos=o,t.finished=i,t.destroyed=s,n%e&&t.buffer.set(r),t}}const jh=BigInt(2**32-1),Hh=BigInt(32);function Fh(t,e=!1){return e?{h:Number(t&jh),l:Number(t>>Hh&jh)}:{h:0|Number(t>>Hh&jh),l:0|Number(t&jh)}}function Kh(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Fh(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const $h=(t,e,r)=>t<<r|e>>>32-r,Wh=(t,e,r)=>e<<r|t>>>32-r,Vh=(t,e,r)=>e<<r-32|t>>>64-r,Gh=(t,e,r)=>t<<r-32|e>>>64-r,Jh={fromBig:Fh,split:Kh,toBig:(t,e)=>BigInt(t>>>0)<<Hh|BigInt(e>>>0),shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:$h,rotlSL:Wh,rotlBH:Vh,rotlBL:Gh,add:function(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,add5H:(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[Zh,Xh]=(()=>Jh.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))))(),Yh=new Uint32Array(80),Qh=new Uint32Array(80);class tc extends Dh{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:u,El:h,Fh:c,Fl:f,Gh:l,Gl:d,Hh:p,Hl:m}=this;return[t,e,r,n,i,s,o,a,u,h,c,f,l,d,p,m]}set(t,e,r,n,i,s,o,a,u,h,c,f,l,d,p,m){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|h,this.Fh=0|c,this.Fl=0|f,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|m}process(t,e){for(let r=0;r<16;r++,e+=4)Yh[r]=t.getUint32(e),Qh[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|Yh[t-15],r=0|Qh[t-15],n=Jh.rotrSH(e,r,1)^Jh.rotrSH(e,r,8)^Jh.shrSH(e,r,7),i=Jh.rotrSL(e,r,1)^Jh.rotrSL(e,r,8)^Jh.shrSL(e,r,7),s=0|Yh[t-2],o=0|Qh[t-2],a=Jh.rotrSH(s,o,19)^Jh.rotrBH(s,o,61)^Jh.shrSH(s,o,6),u=Jh.rotrSL(s,o,19)^Jh.rotrBL(s,o,61)^Jh.shrSL(s,o,6),h=Jh.add4L(i,u,Qh[t-7],Qh[t-16]),c=Jh.add4H(h,n,a,Yh[t-7],Yh[t-16]);Yh[t]=0|c,Qh[t]=0|h}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:u,Dl:h,Eh:c,El:f,Fh:l,Fl:d,Gh:p,Gl:m,Hh:g,Hl:y}=this;for(let t=0;t<80;t++){const e=Jh.rotrSH(c,f,14)^Jh.rotrSH(c,f,18)^Jh.rotrBH(c,f,41),b=Jh.rotrSL(c,f,14)^Jh.rotrSL(c,f,18)^Jh.rotrBL(c,f,41),v=c&l^~c&p,w=f&d^~f&m,_=Jh.add5L(y,b,w,Xh[t],Qh[t]),M=Jh.add5H(_,g,e,v,Zh[t],Yh[t]),S=0|_,k=Jh.rotrSH(r,n,28)^Jh.rotrBH(r,n,34)^Jh.rotrBH(r,n,39),E=Jh.rotrSL(r,n,28)^Jh.rotrBL(r,n,34)^Jh.rotrBL(r,n,39),A=r&i^r&o^i&o,x=n&s^n&a^s&a;g=0|p,y=0|m,p=0|l,m=0|d,l=0|c,d=0|f,({h:c,l:f}=Jh.add(0|u,0|h,0|M,0|S)),u=0|o,h=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const T=Jh.add3L(S,E,x);r=Jh.add3H(T,M,k,A),n=0|T}({h:r,l:n}=Jh.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=Jh.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=Jh.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:u,l:h}=Jh.add(0|this.Dh,0|this.Dl,0|u,0|h)),({h:c,l:f}=Jh.add(0|this.Eh,0|this.El,0|c,0|f)),({h:l,l:d}=Jh.add(0|this.Fh,0|this.Fl,0|l,0|d)),({h:p,l:m}=Jh.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:y}=Jh.add(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(r,n,i,s,o,a,u,h,c,f,l,d,p,m,g,y)}roundClean(){Yh.fill(0),Qh.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ec=qh((()=>new tc)),rc=(BigInt(0),BigInt(1)),nc=BigInt(2),ic=t=>t instanceof Uint8Array,sc=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function oc(t){if(!ic(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=sc[t[r]];return e}function ac(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function uc(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let e=0;e<r.length;e++){const n=2*e,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[e]=s}return r}function hc(t){return ac(oc(t))}function cc(t){if(!ic(t))throw new Error("Uint8Array expected");return ac(oc(Uint8Array.from(t).reverse()))}function fc(t,e){return uc(t.toString(16).padStart(2*e,"0"))}function lc(t,e){return fc(t,e).reverse()}function dc(t,e,r){let n;if("string"==typeof e)try{n=uc(e)}catch(r){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else{if(!ic(e))throw new Error(`${t} must be hex string or Uint8Array`);n=Uint8Array.from(e)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function pc(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!ic(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}const mc=t=>(nc<<BigInt(t-1))-rc,gc=t=>new Uint8Array(t),yc=t=>Uint8Array.from(t);function bc(t,e,r){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=gc(t),i=gc(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...t)=>r(i,n,...t),u=(t=gc())=>{i=a(yc([0]),t),n=a(),0!==t.length&&(i=a(yc([1]),t),n=a())},h=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const r=[];for(;t<e;){n=a();const e=n.slice();r.push(e),t+=n.length}return pc(...r)};return(t,e)=>{let r;for(o(),u(t);!(r=e(h()));)u();return o(),r}}const vc={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function wc(t,e,r={}){const n=(e,r,n)=>{const i=vc[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const s=t[e];if(!(n&&void 0===s||i(s,t)))throw new Error(`Invalid param ${String(e)}=${s} (${typeof s}), expected ${r}`)};for(const[t,r]of Object.entries(e))n(t,r,!1);for(const[t,e]of Object.entries(r))n(t,e,!0);return t}const _c=BigInt(0),Mc=BigInt(1),Sc=BigInt(2),kc=BigInt(3),Ec=BigInt(4),Ac=BigInt(5),xc=BigInt(8);function Tc(t,e){const r=t%e;return r>=_c?r:e+r}function Ic(t,e,r){if(r<=_c||e<_c)throw new Error("Expected power/modulo > 0");if(r===Mc)return _c;let n=Mc;for(;e>_c;)e&Mc&&(n=n*t%r),t=t*t%r,e>>=Mc;return n}function Bc(t,e,r){let n=t;for(;e-- >_c;)n*=n,n%=r;return n}function Rc(t,e){if(t===_c||e<=_c)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Tc(t,e),n=e,i=_c,s=Mc,o=Mc,a=_c;for(;r!==_c;){const t=n/r,e=n%r,u=i-o*t,h=s-a*t;n=r,r=e,i=o,s=a,o=u,a=h}if(n!==Mc)throw new Error("invert: does not exist");return Tc(i,e)}BigInt(9),BigInt(16);const Pc=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Oc(t,e){const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Cc(t,e,r=!1,n={}){if(t<=_c)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=Oc(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=function(t){if(t%Ec===kc){const e=(t+Mc)/Ec;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}if(t%xc===Ac){const e=(t-Ac)/xc;return function(t,r){const n=t.mul(r,Sc),i=t.pow(n,e),s=t.mul(r,i),o=t.mul(t.mul(s,Sc),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(t){const e=(t-Mc)/Sc;let r,n,i;for(r=t-Mc,n=0;r%Sc===_c;r/=Sc,n++);for(i=Sc;i<t&&Ic(i,e,t)!==t-Mc;i++);if(1===n){const e=(t+Mc)/Ec;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}const s=(r+Mc)/Sc;return function(t,o){if(t.pow(o,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let a=n,u=t.pow(t.mul(t.ONE,i),r),h=t.pow(o,s),c=t.pow(o,r);for(;!t.eql(c,t.ONE);){if(t.eql(c,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(c);e<a&&!t.eql(r,t.ONE);e++)r=t.sqr(r);const r=t.pow(u,Mc<<BigInt(a-e-1));u=t.sqr(r),h=t.mul(h,r),c=t.mul(c,u),a=e}return h}}(t)}(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:mc(i),ZERO:_c,ONE:Mc,create:e=>Tc(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return _c<=e&&e<t},is0:t=>t===_c,isOdd:t=>(t&Mc)===Mc,neg:e=>Tc(-e,t),eql:(t,e)=>t===e,sqr:e=>Tc(e*e,t),add:(e,r)=>Tc(e+r,t),sub:(e,r)=>Tc(e-r,t),mul:(e,r)=>Tc(e*r,t),pow:(t,e)=>function(t,e,r){if(r<_c)throw new Error("Expected power > 0");if(r===_c)return t.ONE;if(r===Mc)return e;let n=t.ONE,i=e;for(;r>_c;)r&Mc&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Mc;return n}(a,t,e),div:(e,r)=>Tc(e*Rc(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>Rc(e,t),sqrt:n.sqrt||(t=>o(a,t)),invertBatch:t=>function(t,e){const r=new Array(e.length),n=e.reduce(((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n))),t.ONE),i=t.inv(n);return e.reduceRight(((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n))),i),r}(a,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?lc(t,s):fc(t,s),fromBytes:t=>{if(t.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${t.length}`);return r?cc(t):hc(t)}});return Object.freeze(a)}function Uc(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Nc(t){const e=Uc(t);return e+Math.ceil(e/2)}const Lc=BigInt(0),qc=BigInt(1);function zc(t,e){const r=(t,e)=>{const r=e.negate();return t?r:e},n=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let n=t.ZERO,i=e;for(;r>Lc;)r&qc&&(n=n.add(i)),i=i.double(),r>>=qc;return n},precomputeWindow(t,e){const{windows:r,windowSize:i}=n(e),s=[];let o=t,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let t=1;t<i;t++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(e,i,s){const{windows:o,windowSize:a}=n(e);let u=t.ZERO,h=t.BASE;const c=BigInt(2**e-1),f=2**e,l=BigInt(e);for(let t=0;t<o;t++){const e=t*a;let n=Number(s&c);s>>=l,n>a&&(n-=f,s+=qc);const o=e,d=e+Math.abs(n)-1,p=t%2!=0,m=n<0;0===n?h=h.add(r(p,i[o])):u=u.add(r(m,i[d]))}return{p:u,f:h}},wNAFCached(t,e,r,n){const i=t._WINDOW_SIZE||1;let s=e.get(t);return s||(s=this.precomputeWindow(t,i),1!==i&&e.set(t,n(s))),this.wNAF(i,s,r)}}}function Dc(t){return wc(t.Fp,Pc.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),wc(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Oc(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const jc=BigInt(0),Hc=BigInt(1),Fc=BigInt(2),Kc=BigInt(8),$c={zip215:!0};function Wc(t){const e=function(t){const e=Dc(t);return wc(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:u}=e,h=Fc<<BigInt(8*a)-Hc,c=r.create,f=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:r.sqrt(t*r.inv(e))}}catch(t){return{isValid:!1,value:jc}}}),l=e.adjustScalarBytes||(t=>t),d=e.domain||((t,e,r)=>{if(e.length||r)throw new Error("Contexts/pre-hash are not supported");return t}),p=t=>"bigint"==typeof t&&jc<t,m=(t,e)=>p(t)&&p(e)&&t<e,g=t=>t===jc||m(t,h);function y(t,e){if(m(t,e))return t;throw new Error(`Expected valid scalar < ${e}, got ${typeof t} ${t}`)}function b(t){return t===jc?t:y(t,n)}const v=new Map;function w(t){if(!(t instanceof _))throw new Error("ExtendedPoint expected")}class _{constructor(t,e,r,n){if(this.ex=t,this.ey=e,this.ez=r,this.et=n,!g(t))throw new Error("x required");if(!g(e))throw new Error("y required");if(!g(r))throw new Error("z required");if(!g(n))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(t){if(t instanceof _)throw new Error("extended point not allowed");const{x:e,y:r}=t||{};if(!g(e)||!g(r))throw new Error("invalid affine point");return new _(e,r,Hc,c(e*r))}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.ez)));return t.map(((t,r)=>t.toAffine(e[r]))).map(_.fromAffine)}_setWindowSize(t){this._WINDOW_SIZE=t,v.delete(this)}assertValidity(){const{a:t,d:r}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:n,ey:i,ez:s,et:o}=this,a=c(n*n),u=c(i*i),h=c(s*s),f=c(h*h),l=c(a*t);if(c(h*c(l+u))!==c(f+c(r*c(a*u))))throw new Error("bad point: equation left != right (1)");if(c(n*i)!==c(s*o))throw new Error("bad point: equation left != right (2)")}equals(t){w(t);const{ex:e,ey:r,ez:n}=this,{ex:i,ey:s,ez:o}=t,a=c(e*o),u=c(i*n),h=c(r*o),f=c(s*n);return a===u&&h===f}is0(){return this.equals(_.ZERO)}negate(){return new _(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:t}=e,{ex:r,ey:n,ez:i}=this,s=c(r*r),o=c(n*n),a=c(Fc*c(i*i)),u=c(t*s),h=r+n,f=c(c(h*h)-s-o),l=u+o,d=l-a,p=u-o,m=c(f*d),g=c(l*p),y=c(f*p),b=c(d*l);return new _(m,g,b,y)}add(t){w(t);const{a:r,d:n}=e,{ex:i,ey:s,ez:o,et:a}=this,{ex:u,ey:h,ez:f,et:l}=t;if(r===BigInt(-1)){const t=c((s-i)*(h+u)),e=c((s+i)*(h-u)),r=c(e-t);if(r===jc)return this.double();const n=c(o*Fc*l),d=c(a*Fc*f),p=d+n,m=e+t,g=d-n,y=c(p*r),b=c(m*g),v=c(p*g),w=c(r*m);return new _(y,b,w,v)}const d=c(i*u),p=c(s*h),m=c(a*n*l),g=c(o*f),y=c((i+s)*(u+h)-d-p),b=g-m,v=g+m,M=c(p-r*d),S=c(y*b),k=c(v*M),E=c(y*M),A=c(b*v);return new _(S,k,A,E)}subtract(t){return this.add(t.negate())}wNAF(t){return k.wNAFCached(this,v,t,_.normalizeZ)}multiply(t){const{p:e,f:r}=this.wNAF(y(t,n));return _.normalizeZ([e,r])[0]}multiplyUnsafe(t){let e=b(t);return e===jc?S:this.equals(S)||e===Hc?this:this.equals(M)?this.wNAF(e).p:k.unsafeLadder(this,e)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return k.unsafeLadder(this,n).is0()}toAffine(t){const{ex:e,ey:n,ez:i}=this,s=this.is0();null==t&&(t=s?Kc:r.inv(i));const o=c(e*t),a=c(n*t),u=c(i*t);if(s)return{x:jc,y:Hc};if(u!==Hc)throw new Error("invZ was invalid");return{x:o,y:a}}clearCofactor(){const{h:t}=e;return t===Hc?this:this.multiplyUnsafe(t)}static fromHex(t,n=!1){const{d:i,a:s}=e,o=r.BYTES,a=(t=dc("pointHex",t,o)).slice(),u=t[o-1];a[o-1]=-129&u;const l=cc(a);l===jc||y(l,n?h:r.ORDER);const d=c(l*l),p=c(d-Hc),m=c(i*d-s);let{isValid:g,value:b}=f(p,m);if(!g)throw new Error("Point.fromHex: invalid y coordinate");const v=(b&Hc)===Hc,w=0!=(128&u);if(!n&&b===jc&&w)throw new Error("Point.fromHex: x=0 and x_0=1");return w!==v&&(b=c(-b)),_.fromAffine({x:b,y:l})}static fromPrivateKey(t){return x(t).point}toRawBytes(){const{x:t,y:e}=this.toAffine(),n=lc(e,r.BYTES);return n[n.length-1]|=t&Hc?128:0,n}toHex(){return oc(this.toRawBytes())}}_.BASE=new _(e.Gx,e.Gy,Hc,c(e.Gx*e.Gy)),_.ZERO=new _(jc,Hc,Hc,jc);const{BASE:M,ZERO:S}=_,k=zc(_,8*a);function E(t){return Tc(t,n)}function A(t){return E(cc(t))}function x(t){const e=a;t=dc("private key",t,e);const r=dc("hashed private key",s(t),2*e),n=l(r.slice(0,e)),i=r.slice(e,2*e),o=A(n),u=M.multiply(o),h=u.toRawBytes();return{head:n,prefix:i,scalar:o,point:u,pointBytes:h}}function T(t=new Uint8Array,...e){const r=pc(...e);return A(s(d(r,dc("context",t),!!i)))}const I=$c;return M._setWindowSize(8),{CURVE:e,getPublicKey:function(t){return x(t).pointBytes},sign:function(t,e,n={}){t=dc("message",t),i&&(t=i(t));const{prefix:s,scalar:o,pointBytes:u}=x(e),h=T(n.context,s,t),c=M.multiply(h).toRawBytes(),f=E(h+T(n.context,c,u,t)*o);return b(f),dc("result",pc(c,lc(f,r.BYTES)),2*a)},verify:function(t,e,n,s=I){const{context:o,zip215:a}=s,u=r.BYTES;t=dc("signature",t,2*u),e=dc("message",e),i&&(e=i(e));const h=cc(t.slice(u,2*u));let c,f,l;try{c=_.fromHex(n,a),f=_.fromHex(t.slice(0,u),a),l=M.multiplyUnsafe(h)}catch(t){return!1}if(!a&&c.isSmallOrder())return!1;const d=T(o,f.toRawBytes(),c.toRawBytes(),e);return f.add(c.multiplyUnsafe(d)).subtract(l).clearCofactor().equals(_.ZERO)},ExtendedPoint:_,utils:{getExtendedPublicKey:x,randomPrivateKey:()=>o(r.BYTES),precompute:(t=8,e=_.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}}const Vc=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Gc=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Jc=(BigInt(0),BigInt(1)),Zc=BigInt(2),Xc=BigInt(5),Yc=BigInt(10),Qc=BigInt(20),tf=BigInt(40),ef=BigInt(80);const rf=Cc(Vc,void 0,!0),nf={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:rf,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ec,randomBytes:zh,adjustScalarBytes:function(t){return t[0]&=248,t[31]&=127,t[31]|=64,t},uvRatio:function(t,e){const r=Vc,n=Tc(e*e*e,r),i=Tc(n*n*e,r);let s=Tc(t*n*function(t){const e=Vc,r=t*t%e*t%e,n=Bc(r,Zc,e)*r%e,i=Bc(n,Jc,e)*t%e,s=Bc(i,Xc,e)*i%e,o=Bc(s,Yc,e)*s%e,a=Bc(o,Qc,e)*o%e,u=Bc(a,tf,e)*a%e,h=Bc(u,ef,e)*u%e,c=Bc(h,ef,e)*u%e,f=Bc(c,Yc,e)*s%e;return{pow_p_5_8:Bc(f,Zc,e)*t%e,b2:r}}(t*i).pow_p_5_8,r);const o=Tc(e*s*s,r),a=s,u=Tc(s*Gc,r),h=o===t,c=o===Tc(-t,r),f=o===Tc(-t*Gc,r);return h&&(s=a),(c||f)&&(s=u),(Tc(s,r)&Mc)===Mc&&(s=Tc(-s,r)),{isValid:h||c,value:s}}},sf=Wc(nf);const of=(rf.ORDER+BigInt(3))/BigInt(8);function af(t,e,r,n,i,s,o){try{var a=t[s](o),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,i)}function uf(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var s=t.apply(e,r);function o(t){af(s,n,i,o,a,"next",t)}function a(t){af(s,n,i,o,a,"throw",t)}o(void 0)}))}}function hf(t,e){return hf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hf(t,e)}function cf(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hf(t,e)}function ff(t,e){if(e&&("object"===Mh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function lf(t){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lf(t)}rf.pow(Zc,of),rf.sqrt(rf.neg(rf.ONE)),rf.ORDER,BigInt(5),BigInt(8),BigInt(486662),function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);t.isOdd(r)&&t.neg(r)}(rf,rf.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var df=__webpack_require__(4687),pf=__webpack_require__.n(df),mf=__webpack_require__(11),gf=__webpack_require__.n(mf);const yf=(t,e,r)=>t&e^t&r^e&r,bf=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wf=new Uint32Array(64);class _f extends Dh{constructor(){super(64,32,8,!1),this.A=0|vf[0],this.B=0|vf[1],this.C=0|vf[2],this.D=0|vf[3],this.E=0|vf[4],this.F=0|vf[5],this.G=0|vf[6],this.H=0|vf[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[t,e,r,n,i,s,o,a]}set(t,e,r,n,i,s,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)wf[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=wf[t-15],r=wf[t-2],n=Oh(e,7)^Oh(e,18)^e>>>3,i=Oh(r,17)^Oh(r,19)^r>>>10;wf[t]=i+wf[t-7]+n+wf[t-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:u,H:h}=this;for(let t=0;t<64;t++){const e=h+(Oh(o,6)^Oh(o,11)^Oh(o,25))+((c=o)&a^~c&u)+bf[t]+wf[t]|0,f=(Oh(r,2)^Oh(r,13)^Oh(r,22))+yf(r,n,i)|0;h=u,u=a,a=o,o=s+e|0,s=i,i=n,n=r,r=e+f|0}var c;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,n,i,s,o,a,u,h)}roundClean(){wf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Mf=qh((()=>new _f));var Sf=__webpack_require__(9386);function kf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ef(t,e){if(t){if("string"==typeof t)return kf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kf(t,e):void 0}}function Af(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,s,o,a=[],u=!0,h=!1;try{if(s=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);u=!0);}catch(t){h=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return a}}(t,e)||Ef(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xf=__webpack_require__(475);function Tf(t,e,r){return(e=Sh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function If(t){return function(t){if(Array.isArray(t))return kf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ef(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bf(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},s=Object.keys(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}class Rf extends TypeError{constructor(t,e){let r;const{message:n,...i}=t,{path:s}=t;super(0===s.length?n:"At path: "+s.join(".")+" -- "+n),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[t,...e()]}}}function Pf(t){return"object"==typeof t&&null!=t}function Of(t){return"string"==typeof t?JSON.stringify(t):""+t}function Cf(t,e,r,n){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:u="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Of(n)+"`"}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*Uf(t,e,r,n){(function(t){return Pf(t)&&"function"==typeof t[Symbol.iterator]})(t)||(t=[t]);for(const i of t){const t=Cf(i,e,r,n);t&&(yield t)}}function*Nf(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&"type"!==e.type&&Pf(e.schema)&&Pf(t)&&!Array.isArray(t)))for(const r in t)void 0===e.schema[r]&&delete t[r];let u=!0;for(const r of e.validator(t,a))u=!1,yield[r,void 0];for(let[r,h,c]of e.entries(t,a)){const e=Nf(h,c,{path:void 0===r?n:[...n,r],branch:void 0===r?i:[...i,h],coerce:s,mask:o});for(const n of e)n[0]?(u=!1,yield[n[0],void 0]):s&&(h=n[1],void 0===r?t=h:t instanceof Map?t.set(r,h):t instanceof Set?t.add(h):Pf(t)&&(t[r]=h))}if(u)for(const r of e.refiner(t,a))u=!1,yield[r,void 0];u&&(yield[void 0,t])}class Lf{constructor(t){const{type:e,schema:r,validator:n,refiner:i,coercer:s=(t=>t),entries:o=function*(){}}=t;this.type=e,this.schema=r,this.entries=o,this.coercer=s,this.validator=n?(t,e)=>Uf(n(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>Uf(i(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const r=Df(t,e);if(r[0])throw r[0]}(t,this)}create(t){return qf(t,this)}is(t){return zf(t,this)}mask(t){return function(t,e){const r=Df(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}(t,this)}validate(t,e={}){return Df(t,this,e)}}function qf(t,e){const r=Df(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function zf(t,e){return!Df(t,e)[0]}function Df(t,e,r={}){const n=Nf(t,e,r),i=function(t){const{done:e,value:r}=t.next();return e?void 0:r}(n);return i[0]?[new Rf(i[0],(function*(){for(const t of n)t[0]&&(yield t[0])})),void 0]:[void 0,i[1]]}function jf(t,e){return new Lf({type:t,schema:null,validator:e})}function Hf(t){return new Lf({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+Of(t)})}function Ff(){return jf("boolean",(t=>"boolean"==typeof t))}function Kf(t){return jf("instance",(e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+Of(e)))}function $f(t){const e=Of(t),r=typeof t;return new Lf({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||"Expected the literal `"+e+"`, but received: "+Of(r)})}function Wf(t){return new Lf({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function Vf(){return jf("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+Of(t)))}function Gf(t){return new Lf({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function Jf(t,e){return new Lf({type:"record",schema:null,*entries(r){if(Pf(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator:t=>Pf(t)||"Expected an object, but received: "+Of(t)})}function Zf(){return jf("string",(t=>"string"==typeof t||"Expected a string, but received: "+Of(t)))}function Xf(t){const e=jf("never",(()=>!1));return new Lf({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator:t=>Array.isArray(t)||"Expected an array, but received: "+Of(t)})}function Yf(t){const e=Object.keys(t);return new Lf({type:"type",schema:t,*entries(r){if(Pf(r))for(const n of e)yield[n,r[n],t[n]]},validator:t=>Pf(t)||"Expected an object, but received: "+Of(t)})}function Qf(t){const e=t.map((t=>t.type)).join(" | ");return new Lf({type:"union",schema:null,validator(r,n){const i=[];for(const e of t){const[...t]=Nf(r,e,n),[s]=t;if(!s[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Of(r),...i]}})}function tl(){return jf("unknown",(()=>!0))}function el(t,e,r){return new Lf({...t,coercer:(n,i)=>zf(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var rl=__webpack_require__(1198),nl=__webpack_require__.n(rl);function il(t,e,r){return il=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&hf(i,r.prototype),i},il.apply(null,arguments)}function sl(t){var e="function"==typeof Map?new Map:void 0;return sl=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return il(t,arguments,lf(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),hf(n,t)},sl(t)}function ol(){return ol="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lf(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},ol.apply(this,arguments)}var al=__webpack_require__(6855),ul=__webpack_require__(9062);const[hl,cl,fl]=[[],[],[]],ll=BigInt(0),dl=BigInt(1),pl=BigInt(2),ml=BigInt(7),gl=BigInt(256),yl=BigInt(113);for(let t=0,e=dl,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],hl.push(2*(5*n+r)),cl.push((t+1)*(t+2)/2%64);let i=ll;for(let t=0;t<7;t++)e=(e<<dl^(e>>ml)*yl)%gl,e&pl&&(i^=dl<<(dl<<BigInt(t))-dl);fl.push(i)}const[bl,vl]=Kh(fl,!0),wl=(t,e,r)=>r>32?Vh(t,e,r):$h(t,e,r),_l=(t,e,r)=>r>32?Gh(t,e,r):Wh(t,e,r);class Ml extends Lh{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ah(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,i=(e+2)%10,s=r[i],o=r[i+1],a=wl(s,o,1)^r[n],u=_l(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=u}let e=t[2],i=t[3];for(let r=0;r<24;r++){const n=cl[r],s=wl(e,i,n),o=_l(e,i,n),a=hl[r];e=t[a],i=t[a+1],t[a]=s,t[a+1]=o}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=bl[n],t[1]^=vl[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Th(this);const{blockLen:e,state:r}=this,n=(t=Uh(t)).length;for(let i=0;i<n;){const s=Math.min(e-this.pos,n-i);for(let e=0;e<s;e++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,0!=(128&e)&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){Th(this,!1),xh(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ah(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ih(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return t||(t=new Ml(e,r,n,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=s,t.destroyed=this.destroyed,t}}const Sl=((t,e,r)=>qh((()=>new Ml(e,t,r))))(1,136,32);class kl extends Lh{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ah(t.outputLen),Ah(t.blockLen)}(t);const r=Uh(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),i.fill(0)}update(t){return Th(this),this.iHash.update(t),this}digestInto(t){Th(this),xh(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return t.finished=n,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const El=(t,e,r)=>new kl(t,e).update(r).digest();El.create=(t,e)=>new kl(t,e);const{bytesToNumberBE:Al,hexToBytes:xl}=i,Tl={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){const{Err:e}=Tl;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(128&n[0])throw new e("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Al(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Tl,r="string"==typeof t?xl(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Tl._parseInt(r.subarray(2)),{d:o,l:a}=Tl._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,r=t=>{const e=t.toString(16);return 1&e.length?`0${e}`:e},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},Il=BigInt(0),Bl=BigInt(1),Rl=(BigInt(2),BigInt(3));function Pl(t){const e=function(t){const e=Dc(t);return wc(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(t){return Tc(t,n)}function a(t){return Rc(t,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:c,isWithinCurveOrder:f}=function(t){const e=function(t){const e=Dc(t);wc(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,n=e.toBytes||((t,e,n)=>{const i=e.toAffine();return pc(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=e.fromBytes||(t=>{const e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function s(t){const{a:n,b:i}=e,s=r.sqr(t),o=r.mul(s,t);return r.add(r.add(o,r.mul(t,n)),i)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(t){return"bigint"==typeof t&&Il<t&&t<e.n}function a(t){if(!o(t))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(t){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:s}=e;if(r&&"bigint"!=typeof t){if(t instanceof Uint8Array&&(t=oc(t)),"string"!=typeof t||!r.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*n,"0")}let o;try{o="bigint"==typeof t?t:hc(dc("private key",t,n))}catch(e){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof t}`)}return i&&(o=Tc(o,s)),a(o),o}const h=new Map;function c(t){if(!(t instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw new Error("x required");if(null==e||!r.isValid(e))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw new Error("invalid affine point");if(t instanceof f)throw new Error("projective point not allowed");const i=t=>r.eql(t,r.ZERO);return i(e)&&i(n)?f.ZERO:new f(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(f.fromAffine)}static fromHex(t){const e=f.fromAffine(i(dc("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return f.BASE.multiply(u(t))}_setWindowSize(t){this._WINDOW_SIZE=t,h.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:t,y:n}=this.toAffine();if(!r.isValid(t)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),o=s(t);if(!r.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){c(t);const{px:e,py:n,pz:i}=this,{px:s,py:o,pz:a}=t,u=r.eql(r.mul(e,a),r.mul(s,i)),h=r.eql(r.mul(n,a),r.mul(o,i));return u&&h}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:n}=e,i=r.mul(n,Rl),{px:s,py:o,pz:a}=this;let u=r.ZERO,h=r.ZERO,c=r.ZERO,l=r.mul(s,s),d=r.mul(o,o),p=r.mul(a,a),m=r.mul(s,o);return m=r.add(m,m),c=r.mul(s,a),c=r.add(c,c),u=r.mul(t,c),h=r.mul(i,p),h=r.add(u,h),u=r.sub(d,h),h=r.add(d,h),h=r.mul(u,h),u=r.mul(m,u),c=r.mul(i,c),p=r.mul(t,p),m=r.sub(l,p),m=r.mul(t,m),m=r.add(m,c),c=r.add(l,l),l=r.add(c,l),l=r.add(l,p),l=r.mul(l,m),h=r.add(h,l),p=r.mul(o,a),p=r.add(p,p),l=r.mul(p,m),u=r.sub(u,l),c=r.mul(p,d),c=r.add(c,c),c=r.add(c,c),new f(u,h,c)}add(t){c(t);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:u}=t;let h=r.ZERO,l=r.ZERO,d=r.ZERO;const p=e.a,m=r.mul(e.b,Rl);let g=r.mul(n,o),y=r.mul(i,a),b=r.mul(s,u),v=r.add(n,i),w=r.add(o,a);v=r.mul(v,w),w=r.add(g,y),v=r.sub(v,w),w=r.add(n,s);let _=r.add(o,u);return w=r.mul(w,_),_=r.add(g,b),w=r.sub(w,_),_=r.add(i,s),h=r.add(a,u),_=r.mul(_,h),h=r.add(y,b),_=r.sub(_,h),d=r.mul(p,w),h=r.mul(m,b),d=r.add(h,d),h=r.sub(y,d),d=r.add(y,d),l=r.mul(h,d),y=r.add(g,g),y=r.add(y,g),b=r.mul(p,b),w=r.mul(m,w),y=r.add(y,b),b=r.sub(g,b),b=r.mul(p,b),w=r.add(w,b),g=r.mul(y,w),l=r.add(l,g),g=r.mul(_,w),h=r.mul(v,h),h=r.sub(h,g),g=r.mul(v,y),d=r.mul(_,d),d=r.add(d,g),new f(h,l,d)}subtract(t){return this.add(t.negate())}is0(){return this.equals(f.ZERO)}wNAF(t){return d.wNAFCached(this,h,t,(t=>{const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(f.fromAffine)}))}multiplyUnsafe(t){const n=f.ZERO;if(t===Il)return n;if(a(t),t===Bl)return this;const{endo:i}=e;if(!i)return d.unsafeLadder(this,t);let{k1neg:s,k1:o,k2neg:u,k2:h}=i.splitScalar(t),c=n,l=n,p=this;for(;o>Il||h>Il;)o&Bl&&(c=c.add(p)),h&Bl&&(l=l.add(p)),p=p.double(),o>>=Bl,h>>=Bl;return s&&(c=c.negate()),u&&(l=l.negate()),l=new f(r.mul(l.px,i.beta),l.py,l.pz),c.add(l)}multiply(t){a(t);let n,i,s=t;const{endo:o}=e;if(o){const{k1neg:t,k1:e,k2neg:a,k2:u}=o.splitScalar(s);let{p:h,f:c}=this.wNAF(e),{p:l,f:p}=this.wNAF(u);h=d.constTimeNegate(t,h),l=d.constTimeNegate(a,l),l=new f(r.mul(l.px,o.beta),l.py,l.pz),n=h.add(l),i=c.add(p)}else{const{p:t,f:e}=this.wNAF(s);n=t,i=e}return f.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(t,e,r){const n=f.BASE,i=(t,e)=>e!==Il&&e!==Bl&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),s=i(this,e).add(i(t,r));return s.is0()?void 0:s}toAffine(t){const{px:e,py:n,pz:i}=this,s=this.is0();null==t&&(t=s?r.ONE:r.inv(i));const o=r.mul(e,t),a=r.mul(n,t),u=r.mul(i,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===Bl)return!0;if(r)return r(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===Bl?this:r?r(f,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),n(f,this,t)}toHex(t=!0){return oc(this.toRawBytes(t))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const l=e.nBitLength,d=zc(f,e.endo?Math.ceil(l/2):l);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}({...e,toBytes(t,e,n){const i=e.toAffine(),s=r.toBytes(i.x),o=pc;return n?o(Uint8Array.from([e.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(t){const e=t.length,n=t[0],o=t.subarray(1);if(e!==i||2!==n&&3!==n){if(e===s&&4===n)return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${e} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const t=hc(o);if(!(Il<(a=t)&&a<r.ORDER))throw new Error("Point is not on curve");const e=c(t);let i=r.sqrt(e);return 1==(1&n)!=((i&Bl)===Bl)&&(i=r.neg(i)),{x:t,y:i}}var a}}),l=t=>oc(fc(t,e.nByteLength));function d(t){return t>n>>Bl}const p=(t,e,r)=>hc(t.slice(e,r));class m{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){const r=e.nByteLength;return t=dc("compactSignature",t,2*r),new m(p(t,0,r),p(t,r,2*r))}static fromDER(t){const{r:e,s:r}=Tl.toSig(dc("DER",t));return new m(e,r)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new m(this.r,this.s,t)}recoverPublicKey(t){const{r:n,s:i,recovery:s}=this,h=v(dc("msgHash",t));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const c=2===s||3===s?n+e.n:n;if(c>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=0==(1&s)?"02":"03",d=u.fromHex(f+l(c)),p=a(c),m=o(-h*p),g=o(i*p),y=u.BASE.multiplyAndAddUnsafe(d,m,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return uc(this.toDERHex())}toDERHex(){return Tl.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return uc(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const g={isValidPrivateKey(t){try{return h(t),!0}catch(t){return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const t=Nc(e.n);return function(t,e,r=!1){const n=t.length,i=Uc(e),s=Nc(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=Tc(r?hc(t):cc(t),e-Mc)+Mc;return r?lc(o,i):fc(o,i)}(e.randomBytes(t),e.n)},precompute:(t=8,e=u.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function y(t){const e=t instanceof Uint8Array,r="string"==typeof t,n=(e||r)&&t.length;return e?n===i||n===s:r?n===2*i||n===2*s:t instanceof u}const b=e.bits2int||function(t){const r=hc(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},v=e.bits2int_modN||function(t){return o(b(t))},w=mc(e.nBitLength);function _(t){if("bigint"!=typeof t)throw new Error("bigint expected");if(!(Il<=t&&t<w))throw new Error(`bigint expected < 2^${e.nBitLength}`);return fc(t,e.nByteLength)}const M={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return u.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(y(t))throw new Error("first arg must be private key");if(!y(e))throw new Error("second arg must be public key");return u.fromHex(e).multiply(h(t)).toRawBytes(r)},sign:function(t,n,i=M){const{seed:s,k2sig:c}=function(t,n,i=M){if(["recovered","canonical"].some((t=>t in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:c}=e;let{lowS:l,prehash:p,extraEntropy:g}=i;null==l&&(l=!0),t=dc("msgHash",t),p&&(t=dc("prehashed msgHash",s(t)));const y=v(t),w=h(n),S=[_(w),_(y)];if(null!=g){const t=!0===g?c(r.BYTES):g;S.push(dc("extraEntropy",t))}const k=pc(...S),E=y;return{seed:k,k2sig:function(t){const e=b(t);if(!f(e))return;const r=a(e),n=u.BASE.multiply(e).toAffine(),i=o(n.x);if(i===Il)return;const s=o(r*o(E+i*w));if(s===Il)return;let h=(n.x===i?0:2)|Number(n.y&Bl),c=s;return l&&d(s)&&(c=function(t){return d(t)?o(-t):t}(s),h^=1),new m(i,c,h)}}}(t,n,i),l=e;return bc(l.hash.outputLen,l.nByteLength,l.hmac)(s,c)},verify:function(t,r,n,i=S){const s=t;if(r=dc("msgHash",r),n=dc("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:h,prehash:c}=i;let f,l;try{if("string"==typeof s||s instanceof Uint8Array)try{f=m.fromDER(s)}catch(t){if(!(t instanceof Tl.Err))throw t;f=m.fromCompact(s)}else{if("object"!=typeof s||"bigint"!=typeof s.r||"bigint"!=typeof s.s)throw new Error("PARSE");{const{r:t,s:e}=s;f=new m(t,e)}}l=u.fromHex(n)}catch(t){if("PARSE"===t.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(h&&f.hasHighS())return!1;c&&(r=e.hash(r));const{r:d,s:p}=f,g=v(r),y=a(p),b=o(g*y),w=o(d*y),_=u.BASE.multiplyAndAddUnsafe(l,b,w)?.toAffine();return!!_&&o(_.x)===d},ProjectivePoint:u,Signature:m,utils:g}}function Ol(t){return{hash:t,hmac:(e,...r)=>El(t,e,Nh(...r)),randomBytes:zh}}BigInt(4);const Cl=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ul=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Nl=BigInt(1),Ll=BigInt(2),ql=(t,e)=>(t+e/Ll)/e;const zl=Cc(Cl,void 0,void 0,{sqrt:function(t){const e=Cl,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),h=t*t*t%e,c=h*h*t%e,f=Bc(c,r,e)*c%e,l=Bc(f,r,e)*c%e,d=Bc(l,Ll,e)*h%e,p=Bc(d,i,e)*d%e,m=Bc(p,s,e)*p%e,g=Bc(m,a,e)*m%e,y=Bc(g,u,e)*g%e,b=Bc(y,a,e)*m%e,v=Bc(b,r,e)*c%e,w=Bc(v,o,e)*p%e,_=Bc(w,n,e)*h%e,M=Bc(_,Ll,e);if(!zl.eql(zl.sqr(M),t))throw new Error("Cannot find square root");return M}}),Dl=function(t,e){const r=e=>Pl({...t,...Ol(e)});return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp:zl,n:Ul,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Ul,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Nl*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=ql(s*t,e),u=ql(-n*t,e);let h=Tc(t-a*r-u*i,e),c=Tc(-a*n-u*s,e);const f=h>o,l=c>o;if(f&&(h=e-h),l&&(c=e-c),h>o||c>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:h,k2neg:l,k2:c}}}},Mf);BigInt(0),Dl.ProjectivePoint,sf.utils.randomPrivateKey;var jl=function(){var t=sf.utils.randomPrivateKey(),e=Hl(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},Hl=sf.getPublicKey;function Fl(t){try{return sf.ExtendedPoint.fromHex(t),!0}catch(t){return!1}}var Kl,$l=function(t,e){return sf.sign(t,e.slice(0,32))},Wl=sf.verify,Vl=function(t){return Ra.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Ra.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Ra.Buffer.from(t)},Gl=function(){function t(e){_h(this,t),Object.assign(this,e)}return Eh(t,[{key:"encode",value:function(){return Ra.Buffer.from((0,yh.serialize)(Jl,this))}}],[{key:"decode",value:function(t){return(0,yh.deserialize)(Jl,this,t)}},{key:"decodeUnchecked",value:function(t){return(0,yh.deserializeUnchecked)(Jl,this,t)}}]),t}(),Jl=new Map;var Zl=32,Xl=1;Kl=Symbol.toStringTag;var Yl=function(t){cf(a,t);var e,r,n,i,s,o=(i=a,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lf(i);if(s){var r=lf(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return ff(this,t)});function a(t){var e;if(_h(this,a),(e=o.call(this,{}))._bn=void 0,function(t){return void 0!==t._bn}(t))e._bn=t._bn;else{if("string"==typeof t){var r=gf().decode(t);if(r.length!=Zl)throw new Error("Invalid public key input");e._bn=new(Mn())(r)}else e._bn=new(Mn())(t);if(e._bn.byteLength()>Zl)throw new Error("Invalid public key input")}return e}return Eh(a,[{key:"equals",value:function(t){return this._bn.eq(t._bn)}},{key:"toBase58",value:function(){return gf().encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){var t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}},{key:"toBuffer",value:function(){var t=this._bn.toArrayLike(Ra.Buffer);if(t.length===Zl)return t;var e=Ra.Buffer.alloc(32);return t.copy(e,32-t.length),e}},{key:Kl,get:function(){return"PublicKey(".concat(this.toString(),")")}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"unique",value:function(){var t=new a(Xl);return Xl+=1,new a(t.toBuffer())}},{key:"createWithSeed",value:(n=uf(pf().mark((function t(e,r,n){var i,s;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Ra.Buffer.concat([e.toBuffer(),Ra.Buffer.from(r),n.toBuffer()]),s=Mf(i),t.abrupt("return",new a(s));case 3:case"end":return t.stop()}}),t)}))),function(t,e,r){return n.apply(this,arguments)})},{key:"createProgramAddressSync",value:function(t,e){var r=Ra.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");r=Ra.Buffer.concat([r,Vl(t)])})),r=Ra.Buffer.concat([r,e.toBuffer(),Ra.Buffer.from("ProgramDerivedAddress")]);var n=Mf(r);if(Fl(n))throw new Error("Invalid seeds, address must fall off the curve");return new a(n)}},{key:"createProgramAddress",value:(r=uf(pf().mark((function t(e,r){return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.createProgramAddressSync(e,r));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"findProgramAddressSync",value:function(t,e){for(var r,n=255;0!=n;){try{var i=t.concat(Ra.Buffer.from([n]));r=this.createProgramAddressSync(i,e)}catch(t){if(t instanceof TypeError)throw t;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}},{key:"findProgramAddress",value:(e=uf(pf().mark((function t(e,r){return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.findProgramAddressSync(e,r));case 1:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)})},{key:"isOnCurve",value:function(t){return Fl(new a(t).toBytes())}}]),a}(Gl);Yl.default=new Yl("11111111111111111111111111111111"),Jl.set(Yl,{kind:"struct",fields:[["_bn","u256"]]}),new Yl("BPFLoader1111111111111111111111111111111111");var Ql=1232;function td(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=lf(t);if(e){var i=lf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return ff(this,r)}}var ed=function(t){cf(r,t);var e=td(r);function r(t){var n;return _h(this,r),(n=e.call(this,"Signature ".concat(t," has expired: block height exceeded."))).signature=void 0,n.signature=t,n}return Eh(r)}(sl(Error));Object.defineProperty(ed.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var rd=function(t){cf(r,t);var e=td(r);function r(t,n){var i;return _h(this,r),(i=e.call(this,"Transaction was not confirmed in ".concat(n.toFixed(2)," seconds. It is ")+"unknown if it succeeded or failed. Check signature "+"".concat(t," using the Solana Explorer or CLI tools."))).signature=void 0,i.signature=t,i}return Eh(r)}(sl(Error));Object.defineProperty(rd.prototype,"name",{value:"TransactionExpiredTimeoutError"});var nd=function(t){cf(r,t);var e=td(r);function r(t){var n;return _h(this,r),(n=e.call(this,"Signature ".concat(t," has expired: the nonce is no longer valid."))).signature=void 0,n.signature=t,n}return Eh(r)}(sl(Error));function id(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Object.defineProperty(nd.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var sd=function(){function t(e,r){_h(this,t),this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}return Eh(t,[{key:"keySegments",value:function(){var t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}},{key:"get",value:function(t){var e,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return id(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?id(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw s}}}}(this.keySegments());try{for(r.s();!(e=r.n()).done;){var n=e.value;if(t<n.length)return n[t];t-=n.length}}catch(t){r.e(t)}finally{r.f()}}},{key:"length",get:function(){return this.keySegments().flat().length}},{key:"compileInstructions",value:function(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");var e=new Map;this.keySegments().flat().forEach((function(t,r){e.set(t.toBase58(),r)}));var r=function(t){var r=e.get(t.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return t.map((function(t){return{programIdIndex:r(t.programId),accountKeyIndexes:t.keys.map((function(t){return r(t.pubkey)})),data:t.data}}))}}]),t}(),od=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return Sf.Ik(32,t)},ad=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",e=Sf.n_([Sf.Jq("length"),Sf.Jq("lengthPadding"),Sf.Ik(Sf.cv(Sf.Jq(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=function(t,e){return r(t,e).chars.toString()},i.encode=function(t,e,r){var i={chars:Ra.Buffer.from(t,"utf8")};return n(i,e,r)},i.alloc=function(t){return Sf.Jq().span+Sf.Jq().span+Ra.Buffer.from(t,"utf8").length},i};function ud(t,e){var r=function t(r){if(r.span>=0)return r.span;if("function"==typeof r.alloc)return r.alloc(e[r.property]);if("count"in r&&"elementLayout"in r){var n=e[r.property];if(Array.isArray(n))return n.length*t(r.elementLayout)}else if("fields"in r)return ud({layout:r},e[r.property]);return 0},n=0;return t.layout.fields.forEach((function(t){n+=r(t)})),n}function hd(t){for(var e=0,r=0;;){var n=t.shift();if(e|=(127&n)<<7*r,r+=1,0==(128&n))break}return e}function cd(t,e){for(var r=e;;){var n=127&r;if(0==(r>>=7)){t.push(n);break}n|=128,t.push(n)}}function fd(t,e){if(!t)throw new Error(e||"Assertion failed")}function ld(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return dd(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dd(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw s}}}}function dd(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var pd=function(){function t(e,r){_h(this,t),this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}return Eh(t,[{key:"getMessageComponents",value:function(){var t=If(this.keyMetaMap.entries());fd(t.length<=256,"Max static account keys length exceeded");var e=t.filter((function(t){var e=Af(t,2)[1];return e.isSigner&&e.isWritable})),r=t.filter((function(t){var e=Af(t,2)[1];return e.isSigner&&!e.isWritable})),n=t.filter((function(t){var e=Af(t,2)[1];return!e.isSigner&&e.isWritable})),i=t.filter((function(t){var e=Af(t,2)[1];return!e.isSigner&&!e.isWritable})),s={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};return fd(e.length>0,"Expected at least one writable signer key"),fd(Af(e[0],1)[0]===this.payer.toBase58(),"Expected first writable signer key to be the fee payer"),[s,[].concat(If(e.map((function(t){var e=Af(t,1)[0];return new Yl(e)}))),If(r.map((function(t){var e=Af(t,1)[0];return new Yl(e)}))),If(n.map((function(t){var e=Af(t,1)[0];return new Yl(e)}))),If(i.map((function(t){var e=Af(t,1)[0];return new Yl(e)}))))]}},{key:"extractTableLookup",value:function(t){var e=Af(this.drainKeysFoundInLookupTable(t.state.addresses,(function(t){return!t.isSigner&&!t.isInvoked&&t.isWritable})),2),r=e[0],n=e[1],i=Af(this.drainKeysFoundInLookupTable(t.state.addresses,(function(t){return!t.isSigner&&!t.isInvoked&&!t.isWritable})),2),s=i[0],o=i[1];if(0!==r.length||0!==s.length)return[{accountKey:t.key,writableIndexes:r,readonlyIndexes:s},{writable:n,readonly:o}]}},{key:"drainKeysFoundInLookupTable",value:function(t,e){var r,n=this,i=new Array,s=new Array,o=ld(this.keyMetaMap.entries());try{var a=function(){var o=Af(r.value,2),a=o[0],u=o[1];if(e(u)){var h=new Yl(a),c=t.findIndex((function(t){return t.equals(h)}));c>=0&&(fd(c<256,"Max lookup table index exceeded"),i.push(c),s.push(h),n.keyMetaMap.delete(a))}};for(o.s();!(r=o.n()).done;)a()}catch(t){o.e(t)}finally{o.f()}return[i,s]}}],[{key:"compile",value:function(e,r){var n=new Map,i=function(t){var e=t.toBase58(),r=n.get(e);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(e,r)),r},s=i(r);s.isSigner=!0,s.isWritable=!0;var o,a=ld(e);try{for(a.s();!(o=a.n()).done;){var u=o.value;i(u.programId).isInvoked=!0;var h,c=ld(u.keys);try{for(c.s();!(h=c.n()).done;){var f=h.value,l=i(f.pubkey);l.isSigner||(l.isSigner=f.isSigner),l.isWritable||(l.isWritable=f.isWritable)}}catch(t){c.e(t)}finally{c.f()}}}catch(t){a.e(t)}finally{a.f()}return new t(r,n)}}]),t}(),md=function(){function t(e){var r=this;_h(this,t),this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((function(t){return new Yl(t)})),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((function(t){return r.indexToProgramIds.set(t.programIdIndex,r.accountKeys[t.programIdIndex])}))}return Eh(t,[{key:"version",get:function(){return"legacy"}},{key:"staticAccountKeys",get:function(){return this.accountKeys}},{key:"compiledInstructions",get:function(){return this.instructions.map((function(t){return{programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:gf().decode(t.data)}}))}},{key:"addressTableLookups",get:function(){return[]}},{key:"getAccountKeys",value:function(){return new sd(this.staticAccountKeys)}},{key:"isAccountSigner",value:function(t){return t<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(t){var e=this.header.numRequiredSignatures;return t>=this.header.numRequiredSignatures?t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}},{key:"isProgramId",value:function(t){return this.indexToProgramIds.has(t)}},{key:"programIds",value:function(){return If(this.indexToProgramIds.values())}},{key:"nonProgramIds",value:function(){var t=this;return this.accountKeys.filter((function(e,r){return!t.isProgramId(r)}))}},{key:"serialize",value:function(){var t=this.accountKeys.length,e=[];cd(e,t);var r=this.instructions.map((function(t){var e=t.accounts,r=t.programIdIndex,n=Array.from(gf().decode(t.data)),i=[];cd(i,e.length);var s=[];return cd(s,n.length),{programIdIndex:r,keyIndicesCount:Ra.Buffer.from(i),keyIndices:e,dataLength:Ra.Buffer.from(s),data:n}})),n=[];cd(n,r.length);var i=Ra.Buffer.alloc(Ql);Ra.Buffer.from(n).copy(i);var s=n.length;r.forEach((function(t){var e=Sf.n_([Sf.u8("programIdIndex"),Sf.Ik(t.keyIndicesCount.length,"keyIndicesCount"),Sf.A9(Sf.u8("keyIndex"),t.keyIndices.length,"keyIndices"),Sf.Ik(t.dataLength.length,"dataLength"),Sf.A9(Sf.u8("userdatum"),t.data.length,"data")]).encode(t,i,s);s+=e})),i=i.slice(0,s);var o=Sf.n_([Sf.Ik(1,"numRequiredSignatures"),Sf.Ik(1,"numReadonlySignedAccounts"),Sf.Ik(1,"numReadonlyUnsignedAccounts"),Sf.Ik(e.length,"keyCount"),Sf.A9(od("key"),t,"keys"),od("recentBlockhash")]),a={numRequiredSignatures:Ra.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ra.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ra.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ra.Buffer.from(e),keys:this.accountKeys.map((function(t){return Vl(t.toBytes())})),recentBlockhash:gf().decode(this.recentBlockhash)},u=Ra.Buffer.alloc(2048),h=o.encode(a,u);return i.copy(u,h),u.slice(0,h+i.length)}}],[{key:"compile",value:function(e){var r=Af(pd.compile(e.instructions,e.payerKey).getMessageComponents(),2),n=r[0],i=r[1],s=new sd(i).compileInstructions(e.instructions).map((function(t){return{programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:gf().encode(t.data)}}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}},{key:"from",value:function(e){var r=If(e),n=r.shift();if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");for(var i=r.shift(),s=r.shift(),o=hd(r),a=[],u=0;u<o;u++){var h=r.slice(0,Zl);r=r.slice(Zl),a.push(new Yl(Ra.Buffer.from(h)))}for(var c=r.slice(0,Zl),f=hd(r=r.slice(Zl)),l=[],d=0;d<f;d++){var p=r.shift(),m=hd(r),g=r.slice(0,m),y=hd(r=r.slice(m)),b=r.slice(0,y),v=gf().encode(Ra.Buffer.from(b));r=r.slice(y),l.push({programIdIndex:p,accounts:g,data:v})}return new t({header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:gf().encode(Ra.Buffer.from(c)),accountKeys:a,instructions:l})}}]),t}();function gd(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return yd(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yd(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw s}}}}function yd(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var bd=function(){function t(e){_h(this,t),this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}return Eh(t,[{key:"version",get:function(){return 0}},{key:"numAccountKeysFromLookups",get:function(){var t,e=0,r=gd(this.addressTableLookups);try{for(r.s();!(t=r.n()).done;){var n=t.value;e+=n.readonlyIndexes.length+n.writableIndexes.length}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"getAccountKeys",value:function(t){var e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new sd(this.staticAccountKeys,e)}},{key:"isAccountSigner",value:function(t){return t<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(t){var e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;return t>=r?t-r<this.addressTableLookups.reduce((function(t,e){return t+e.writableIndexes.length}),0):t>=this.header.numRequiredSignatures?t-e<r-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}},{key:"resolveAddressTableLookups",value:function(t){var e,r={writable:[],readonly:[]},n=gd(this.addressTableLookups);try{var i=function(){var n=e.value,i=t.find((function(t){return t.key.equals(n.accountKey)}));if(!i)throw new Error("Failed to find address lookup table account for table key ".concat(n.accountKey.toBase58()));var s,o=gd(n.writableIndexes);try{for(o.s();!(s=o.n()).done;){var a=s.value;if(!(a<i.state.addresses.length))throw new Error("Failed to find address for index ".concat(a," in address lookup table ").concat(n.accountKey.toBase58()));r.writable.push(i.state.addresses[a])}}catch(t){o.e(t)}finally{o.f()}var u,h=gd(n.readonlyIndexes);try{for(h.s();!(u=h.n()).done;){var c=u.value;if(!(c<i.state.addresses.length))throw new Error("Failed to find address for index ".concat(c," in address lookup table ").concat(n.accountKey.toBase58()));r.readonly.push(i.state.addresses[c])}}catch(t){h.e(t)}finally{h.f()}};for(n.s();!(e=n.n()).done;)i()}catch(t){n.e(t)}finally{n.f()}return r}},{key:"serialize",value:function(){var t=Array();cd(t,this.staticAccountKeys.length);var e=this.serializeInstructions(),r=Array();cd(r,this.compiledInstructions.length);var n=this.serializeAddressTableLookups(),i=Array();cd(i,this.addressTableLookups.length);var s=Sf.n_([Sf.u8("prefix"),Sf.n_([Sf.u8("numRequiredSignatures"),Sf.u8("numReadonlySignedAccounts"),Sf.u8("numReadonlyUnsignedAccounts")],"header"),Sf.Ik(t.length,"staticAccountKeysLength"),Sf.A9(od(),this.staticAccountKeys.length,"staticAccountKeys"),od("recentBlockhash"),Sf.Ik(r.length,"instructionsLength"),Sf.Ik(e.length,"serializedInstructions"),Sf.Ik(i.length,"addressTableLookupsLength"),Sf.Ik(n.length,"serializedAddressTableLookups")]),o=new Uint8Array(Ql),a=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map((function(t){return t.toBytes()})),recentBlockhash:gf().decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},o);return o.slice(0,a)}},{key:"serializeInstructions",value:function(){var t,e=0,r=new Uint8Array(Ql),n=gd(this.compiledInstructions);try{for(n.s();!(t=n.n()).done;){var i=t.value,s=Array();cd(s,i.accountKeyIndexes.length);var o=Array();cd(o,i.data.length),e+=Sf.n_([Sf.u8("programIdIndex"),Sf.Ik(s.length,"encodedAccountKeyIndexesLength"),Sf.A9(Sf.u8(),i.accountKeyIndexes.length,"accountKeyIndexes"),Sf.Ik(o.length,"encodedDataLength"),Sf.Ik(i.data.length,"data")]).encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:i.data},r,e)}}catch(t){n.e(t)}finally{n.f()}return r.slice(0,e)}},{key:"serializeAddressTableLookups",value:function(){var t,e=0,r=new Uint8Array(Ql),n=gd(this.addressTableLookups);try{for(n.s();!(t=n.n()).done;){var i=t.value,s=Array();cd(s,i.writableIndexes.length);var o=Array();cd(o,i.readonlyIndexes.length),e+=Sf.n_([od("accountKey"),Sf.Ik(s.length,"encodedWritableIndexesLength"),Sf.A9(Sf.u8(),i.writableIndexes.length,"writableIndexes"),Sf.Ik(o.length,"encodedReadonlyIndexesLength"),Sf.A9(Sf.u8(),i.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:i.readonlyIndexes},r,e)}}catch(t){n.e(t)}finally{n.f()}return r.slice(0,e)}}],[{key:"compile",value:function(e){var r,n=pd.compile(e.instructions,e.payerKey),i=new Array,s={writable:new Array,readonly:new Array},o=gd(e.addressLookupTableAccounts||[]);try{for(o.s();!(r=o.n()).done;){var a=r.value,u=n.extractTableLookup(a);if(void 0!==u){var h,c,f=Af(u,2),l=f[0],d=f[1],p=d.writable,m=d.readonly;i.push(l),(h=s.writable).push.apply(h,If(p)),(c=s.readonly).push.apply(c,If(m))}}}catch(t){o.e(t)}finally{o.f()}var g=Af(n.getMessageComponents(),2),y=g[0],b=g[1],v=new sd(b,s).compileInstructions(e.instructions);return new t({header:y,staticAccountKeys:b,recentBlockhash:e.recentBlockhash,compiledInstructions:v,addressTableLookups:i})}},{key:"deserialize",value:function(e){var r=If(e),n=r.shift(),i=127&n;fd(n!==i,"Expected versioned message but received legacy message"),fd(0===i,"Expected versioned message with version 0 but found version ".concat(i));for(var s={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},o=[],a=hd(r),u=0;u<a;u++)o.push(new Yl(r.splice(0,Zl)));for(var h=gf().encode(r.splice(0,Zl)),c=hd(r),f=[],l=0;l<c;l++){var d=r.shift(),p=hd(r),m=r.splice(0,p),g=hd(r),y=new Uint8Array(r.splice(0,g));f.push({programIdIndex:d,accountKeyIndexes:m,data:y})}for(var b=hd(r),v=[],w=0;w<b;w++){var _=new Yl(r.splice(0,Zl)),M=hd(r),S=r.splice(0,M),k=hd(r),E=r.splice(0,k);v.push({accountKey:_,writableIndexes:S,readonlyIndexes:E})}return new t({header:s,staticAccountKeys:o,recentBlockhash:h,compiledInstructions:f,addressTableLookups:v})}}]),t}();function vd(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return wd(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wd(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw s}}}}function wd(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var Md=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({}),Sd=Ra.Buffer.alloc(64).fill(0),kd=function(){function t(e){_h(this,t),this.keys=void 0,this.programId=void 0,this.data=Ra.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}return Eh(t,[{key:"toJSON",value:function(){return{keys:this.keys.map((function(t){var e=t.pubkey,r=t.isSigner,n=t.isWritable;return{pubkey:e.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:If(this.data)}}}]),t}(),Ed=function(){function t(e){if(_h(this,t),this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){var r=e,n=r.minContextSlot,i=r.nonceInfo;this.minNonceContextSlot=n,this.nonceInfo=i}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){var s=e,o=s.blockhash,a=s.lastValidBlockHeight;this.recentBlockhash=o,this.lastValidBlockHeight=a}else{var u=e,h=u.recentBlockhash,c=u.nonceInfo;c&&(this.nonceInfo=c),this.recentBlockhash=h}}var e;return Eh(t,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}},{key:"toJSON",value:function(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((function(t){return t.toJSON()})),signers:this.signatures.map((function(t){return t.publicKey.toJSON()}))}}},{key:"add",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(0===r.length)throw new Error("No instructions");return r.forEach((function(e){"instructions"in e?t.instructions=t.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?t.instructions.push(e):t.instructions.push(new kd(e))})),this}},{key:"compileMessage",value:function(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;var t,e,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction].concat(If(this.instructions)):this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(var n=0;n<e.length;n++)if(void 0===e[n].programId)throw new Error("Transaction instruction index ".concat(n," has undefined program id"));var i=[],s=[];e.forEach((function(t){t.keys.forEach((function(t){s.push(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_d(Object(r),!0).forEach((function(e){Tf(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t))}));var e=t.programId.toString();i.includes(e)||i.push(e)})),i.forEach((function(t){s.push({pubkey:new Yl(t),isSigner:!1,isWritable:!1})}));var o=[];s.forEach((function(t){var e=t.pubkey.toString(),r=o.findIndex((function(t){return t.pubkey.toString()===e}));r>-1?(o[r].isWritable=o[r].isWritable||t.isWritable,o[r].isSigner=o[r].isSigner||t.isSigner):o.push(t)})),o.sort((function(t,e){return t.isSigner!==e.isSigner?t.isSigner?-1:1:t.isWritable!==e.isWritable?t.isWritable?-1:1:t.pubkey.toBase58().localeCompare(e.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));var a=o.findIndex((function(t){return t.pubkey.equals(r)}));if(a>-1){var u=Af(o.splice(a,1),1)[0];u.isSigner=!0,u.isWritable=!0,o.unshift(u)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});var h,c=vd(this.signatures);try{var f=function(){var t=h.value,e=o.findIndex((function(e){return e.pubkey.equals(t.publicKey)}));if(!(e>-1))throw new Error("unknown signer: ".concat(t.publicKey.toString()));o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))};for(c.s();!(h=c.n()).done;)f()}catch(t){c.e(t)}finally{c.f()}var l=0,d=0,p=0,m=[],g=[];o.forEach((function(t){var e=t.pubkey,r=t.isSigner,n=t.isWritable;r?(m.push(e.toString()),l+=1,n||(d+=1)):(g.push(e.toString()),n||(p+=1))}));var y=m.concat(g),b=e.map((function(t){var e=t.data,r=t.programId;return{programIdIndex:y.indexOf(r.toString()),accounts:t.keys.map((function(t){return y.indexOf(t.pubkey.toString())})),data:gf().encode(e)}}));return b.forEach((function(t){fd(t.programIdIndex>=0),t.accounts.forEach((function(t){return fd(t>=0)}))})),new md({header:{numRequiredSignatures:l,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:p},accountKeys:y,recentBlockhash:t,instructions:b})}},{key:"_compile",value:function(){var t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((function(t,r){return e[r].equals(t.publicKey)}))||(this.signatures=e.map((function(t){return{signature:null,publicKey:t}}))),t}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"getEstimatedFee",value:(e=uf(pf().mark((function t(e){return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFeeForMessage(this.compileMessage());case 2:return t.abrupt("return",t.sent.value);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"setSigners",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw new Error("No signers");var n=new Set;this.signatures=e.filter((function(t){var e=t.toString();return!n.has(e)&&(n.add(e),!0)})).map((function(t){return{signature:null,publicKey:t}}))}},{key:"sign",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw new Error("No signers");for(var n=new Set,i=[],s=0,o=e;s<o.length;s++){var a=o[s],u=a.publicKey.toString();n.has(u)||(n.add(u),i.push(a))}this.signatures=i.map((function(t){return{signature:null,publicKey:t.publicKey}}));var h=this._compile();this._partialSign.apply(this,[h].concat(i))}},{key:"partialSign",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw new Error("No signers");for(var n=new Set,i=[],s=0,o=e;s<o.length;s++){var a=o[s],u=a.publicKey.toString();n.has(u)||(n.add(u),i.push(a))}var h=this._compile();this._partialSign.apply(this,[h].concat(i))}},{key:"_partialSign",value:function(t){for(var e=this,r=t.serialize(),n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];i.forEach((function(t){var n=$l(r,t.secretKey);e._addSignature(t.publicKey,Vl(n))}))}},{key:"addSignature",value:function(t,e){this._compile(),this._addSignature(t,e)}},{key:"_addSignature",value:function(t,e){fd(64===e.length);var r=this.signatures.findIndex((function(e){return t.equals(e.publicKey)}));if(r<0)throw new Error("unknown signer: ".concat(t.toString()));this.signatures[r].signature=Ra.Buffer.from(e)}},{key:"verifySignatures",value:function(t){return this._verifySignatures(this.serializeMessage(),void 0===t||t)}},{key:"_verifySignatures",value:function(t,e){var r,n=vd(this.signatures);try{for(n.s();!(r=n.n()).done;){var i=r.value,s=i.signature,o=i.publicKey;if(null===s){if(e)return!1}else if(!Wl(s,t,o.toBytes()))return!1}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"serialize",value:function(t){var e=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),r=e.requireAllSignatures,n=e.verifySignatures,i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}},{key:"_serialize",value:function(t){var e=this.signatures,r=[];cd(r,e.length);var n=r.length+64*e.length+t.length,i=Ra.Buffer.alloc(n);return fd(e.length<256),Ra.Buffer.from(r).copy(i,0),e.forEach((function(t,e){var n=t.signature;null!==n&&(fd(64===n.length,"signature has invalid length"),Ra.Buffer.from(n).copy(i,r.length+64*e))})),t.copy(i,r.length+64*e.length),fd(i.length<=Ql,"Transaction too large: ".concat(i.length," > ").concat(Ql)),i}},{key:"keys",get:function(){return fd(1===this.instructions.length),this.instructions[0].keys.map((function(t){return t.pubkey}))}},{key:"programId",get:function(){return fd(1===this.instructions.length),this.instructions[0].programId}},{key:"data",get:function(){return fd(1===this.instructions.length),this.instructions[0].data}}],[{key:"from",value:function(e){for(var r=If(e),n=hd(r),i=[],s=0;s<n;s++){var o=r.slice(0,64);r=r.slice(64),i.push(gf().encode(Ra.Buffer.from(o)))}return t.populate(md.from(r),i)}},{key:"populate",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((function(t,r){var i={signature:t==gf().encode(Sd)?null:gf().decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i)})),e.instructions.forEach((function(t){var r=t.accounts.map((function(t){var r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some((function(t){return t.publicKey.toString()===r.toString()}))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));n.instructions.push(new kd({keys:r,programId:e.accountKeys[t.programIdIndex],data:gf().decode(t.data)}))})),n._message=e,n._json=n.toJSON(),n}}]),t}(),Ad=new Yl("SysvarC1ock11111111111111111111111111111111"),xd=(new Yl("SysvarEpochSchedu1e111111111111111111111111"),new Yl("Sysvar1nstructions1111111111111111111111111"),new Yl("SysvarRecentB1ockHashes11111111111111111111")),Td=new Yl("SysvarRent111111111111111111111111111111111"),Id=(new Yl("SysvarRewards111111111111111111111111111111"),new Yl("SysvarS1otHashes111111111111111111111111111"),new Yl("SysvarS1otHistory11111111111111111111111111"),new Yl("SysvarStakeHistory1111111111111111111111111"));function Bd(t,e,r,n){return Rd.apply(this,arguments)}function Rd(){return Rd=uf(pf().mark((function t(e,r,n,i){var s,o,a,u,h;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},t.next=3,e.sendTransaction(r,n,s);case 3:if(o=t.sent,null==r.recentBlockhash||null==r.lastValidBlockHeight){t.next=10;break}return t.next=7,e.confirmTransaction({abortSignal:null==i?void 0:i.abortSignal,signature:o,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},i&&i.commitment);case 7:a=t.sent.value,t.next=22;break;case 10:if(null==r.minNonceContextSlot||null==r.nonceInfo){t.next=18;break}return u=r.nonceInfo.nonceInstruction,h=u.keys[0].pubkey,t.next=15,e.confirmTransaction({abortSignal:null==i?void 0:i.abortSignal,minContextSlot:r.minNonceContextSlot,nonceAccountPubkey:h,nonceValue:r.nonceInfo.nonce,signature:o},i&&i.commitment);case 15:a=t.sent.value,t.next=22;break;case 18:return null!=(null==i?void 0:i.abortSignal)&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),t.next=21,e.confirmTransaction(o,i&&i.commitment);case 21:a=t.sent.value;case 22:if(!a.err){t.next=24;break}throw new Error("Transaction ".concat(o," failed (").concat(JSON.stringify(a),")"));case 24:return t.abrupt("return",o);case 25:case"end":return t.stop()}}),t)}))),Rd.apply(this,arguments)}function Pd(t){return new Promise((function(e){return setTimeout(e,t)}))}function Od(t,e){var r=t.layout.span>=0?t.layout.span:ud(t,e),n=Ra.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}var Cd=Sf._O("lamportsPerSignature"),Ud=Sf.n_([Sf.Jq("version"),Sf.Jq("state"),od("authorizedPubkey"),od("nonce"),Sf.n_([Cd],"feeCalculator")]),Nd=Ud.span,Ld=function(){function t(e){_h(this,t),this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}return Eh(t,null,[{key:"fromAccountData",value:function(e){var r=Ud.decode(Vl(e),0);return new t({authorizedPubkey:new Yl(r.authorizedPubkey),nonce:new Yl(r.nonce).toString(),feeCalculator:r.feeCalculator})}}]),t}(),qd=(8,function(t){var e=(0,Sf.Ik)(8,t),r=function(t){return{decode:t.decode.bind(t),encode:t.encode.bind(t)}}(e),n=r.encode,i=r.decode,s=e;return s.decode=function(t,e){var r=i(t,e);return(0,xf.oU)(Ra.Buffer.from(r))},s.encode=function(t,e,r){var i=(0,xf.k$)(t,8);return n(i,e,r)},s}),zd=Object.freeze({Create:{index:0,layout:Sf.n_([Sf.Jq("instruction"),Sf.gM("lamports"),Sf.gM("space"),od("programId")])},Assign:{index:1,layout:Sf.n_([Sf.Jq("instruction"),od("programId")])},Transfer:{index:2,layout:Sf.n_([Sf.Jq("instruction"),qd("lamports")])},CreateWithSeed:{index:3,layout:Sf.n_([Sf.Jq("instruction"),od("base"),ad("seed"),Sf.gM("lamports"),Sf.gM("space"),od("programId")])},AdvanceNonceAccount:{index:4,layout:Sf.n_([Sf.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:Sf.n_([Sf.Jq("instruction"),Sf.gM("lamports")])},InitializeNonceAccount:{index:6,layout:Sf.n_([Sf.Jq("instruction"),od("authorized")])},AuthorizeNonceAccount:{index:7,layout:Sf.n_([Sf.Jq("instruction"),od("authorized")])},Allocate:{index:8,layout:Sf.n_([Sf.Jq("instruction"),Sf.gM("space")])},AllocateWithSeed:{index:9,layout:Sf.n_([Sf.Jq("instruction"),od("base"),ad("seed"),Sf.gM("space"),od("programId")])},AssignWithSeed:{index:10,layout:Sf.n_([Sf.Jq("instruction"),od("base"),ad("seed"),od("programId")])},TransferWithSeed:{index:11,layout:Sf.n_([Sf.Jq("instruction"),qd("lamports"),ad("seed"),od("programId")])},UpgradeNonceAccount:{index:12,layout:Sf.n_([Sf.Jq("instruction")])}}),Dd=function(){function t(){_h(this,t)}return Eh(t,null,[{key:"createAccount",value:function(t){var e=Od(zd.Create,{lamports:t.lamports,space:t.space,programId:Vl(t.programId.toBuffer())});return new kd({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}},{key:"transfer",value:function(t){var e,r;return"basePubkey"in t?(e=Od(zd.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:Vl(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]):(e=Od(zd.Transfer,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]),new kd({keys:r,programId:this.programId,data:e})}},{key:"assign",value:function(t){var e,r;return"basePubkey"in t?(e=Od(zd.AssignWithSeed,{base:Vl(t.basePubkey.toBuffer()),seed:t.seed,programId:Vl(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=Od(zd.Assign,{programId:Vl(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new kd({keys:r,programId:this.programId,data:e})}},{key:"createAccountWithSeed",value:function(t){var e=Od(zd.CreateWithSeed,{base:Vl(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Vl(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&r.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new kd({keys:r,programId:this.programId,data:e})}},{key:"createNonceAccount",value:function(e){var r=new Ed;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Nd,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Nd,programId:this.programId}));var n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}},{key:"nonceInitialize",value:function(t){var e=Od(zd.InitializeNonceAccount,{authorized:Vl(t.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:xd,isSigner:!1,isWritable:!1},{pubkey:Td,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new kd(r)}},{key:"nonceAdvance",value:function(t){var e=Od(zd.AdvanceNonceAccount),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:xd,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new kd(r)}},{key:"nonceWithdraw",value:function(t){var e=Od(zd.WithdrawNonceAccount,{lamports:t.lamports});return new kd({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:xd,isSigner:!1,isWritable:!1},{pubkey:Td,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}},{key:"nonceAuthorize",value:function(t){var e=Od(zd.AuthorizeNonceAccount,{authorized:Vl(t.newAuthorizedPubkey.toBuffer())});return new kd({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}},{key:"allocate",value:function(t){var e,r;return"basePubkey"in t?(e=Od(zd.AllocateWithSeed,{base:Vl(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Vl(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=Od(zd.Allocate,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new kd({keys:r,programId:this.programId,data:e})}}]),t}();Dd.programId=new Yl("11111111111111111111111111111111");var jd=function(){function t(){_h(this,t)}var e;return Eh(t,null,[{key:"getMinNumSignatures",value:function(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}},{key:"load",value:(e=uf(pf().mark((function e(r,n,i,s,o){var a,u,h,c,f,l,d,p,m,g,y,b,v,w,_,M,S,k,E;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getMinimumBalanceForRentExemption(o.length);case 2:return a=e.sent,e.next=5,r.getAccountInfo(i.publicKey,"confirmed");case 5:if(u=e.sent,h=null,null===u){e.next=16;break}if(!u.executable){e.next=11;break}return console.error("Program load failed, account is already executable"),e.abrupt("return",!1);case 11:u.data.length!==o.length&&(h=h||new Ed).add(Dd.allocate({accountPubkey:i.publicKey,space:o.length})),u.owner.equals(s)||(h=h||new Ed).add(Dd.assign({accountPubkey:i.publicKey,programId:s})),u.lamports<a&&(h=h||new Ed).add(Dd.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:a-u.lamports})),e.next=17;break;case 16:h=(new Ed).add(Dd.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:a>0?a:1,space:o.length,programId:s}));case 17:if(null===h){e.next=20;break}return e.next=20,Bd(r,h,[n,i],{commitment:"confirmed"});case 20:c=Sf.n_([Sf.Jq("instruction"),Sf.Jq("offset"),Sf.Jq("bytesLength"),Sf.Jq("bytesLengthPadding"),Sf.A9(Sf.u8("byte"),Sf.cv(Sf.Jq(),-8),"bytes")]),f=t.chunkSize,l=0,d=o,p=[];case 25:if(!(d.length>0)){e.next=39;break}if(m=d.slice(0,f),g=Ra.Buffer.alloc(f+16),c.encode({instruction:0,offset:l,bytes:m,bytesLength:0,bytesLengthPadding:0},g),y=(new Ed).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:g}),p.push(Bd(r,y,[n,i],{commitment:"confirmed"})),!r._rpcEndpoint.includes("solana.com")){e.next=35;break}return e.next=35,Pd(250);case 35:l+=f,d=d.slice(f),e.next=25;break;case 39:return e.next=41,Promise.all(p);case 41:return b=Sf.n_([Sf.Jq("instruction")]),v=Ra.Buffer.alloc(b.span),b.encode({instruction:1},v),w=(new Ed).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:Td,isSigner:!1,isWritable:!1}],programId:s,data:v}),_="processed",e.next=48,r.sendTransaction(w,[n,i],{preflightCommitment:_});case 48:return M=e.sent,e.next=51,r.confirmTransaction({signature:M,lastValidBlockHeight:w.lastValidBlockHeight,blockhash:w.recentBlockhash},_);case 51:if(S=e.sent,k=S.context,!(E=S.value).err){e.next=56;break}throw new Error("Transaction ".concat(M," failed (").concat(JSON.stringify(E),")"));case 56:return e.prev=57,e.next=60,r.getSlot({commitment:_});case 60:if(!(e.sent>k.slot)){e.next=63;break}return e.abrupt("break",71);case 63:e.next=67;break;case 65:e.prev=65,e.t0=e.catch(57);case 67:return e.next=69,new Promise((function(t){return setTimeout(t,Math.round(200))}));case 69:e.next=56;break;case 71:return e.abrupt("return",!0);case 72:case"end":return e.stop()}}),e,null,[[57,65]])}))),function(t,r,n,i,s){return e.apply(this,arguments)})}]),t}();function Hd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}jd.chunkSize=932,new Yl("BPFLoader2111111111111111111111111111111111");var Fd=Object.prototype.toString,Kd=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function $d(t,e){var r,n,i,s,o,a,u;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if(t.toJSON&&"function"==typeof t.toJSON)return $d(t.toJSON(),e);if("[object Array]"===(u=Fd.call(t))){for(i="[",n=t.length-1,r=0;r<n;r++)i+=$d(t[r],!0)+",";return n>-1&&(i+=$d(t[r],!0)),i+"]"}if("[object Object]"===u){for(n=(s=Kd(t).sort()).length,i="",r=0;r<n;)void 0!==(a=$d(t[o=s[r]],!1))&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),r++;return"{"+i+"}"}return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var Wd=Hd((function(t){var e=$d(t,!1);if(void 0!==e)return""+e}));function Vd(t){for(var e=0;t>1;)t/=2,e++;return e}var Gd=function(){function t(e,r,n,i,s){_h(this,t),this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}return Eh(t,[{key:"getEpoch",value:function(t){return this.getEpochAndSlotIndex(t)[0]}},{key:"getEpochAndSlotIndex",value:function(t){if(t<this.firstNormalSlot){var e=Vd(0===(r=t+32+1)?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,1+(r|=r>>32)))-Vd(32)-1;return[e,t-(this.getSlotsInEpoch(e)-32)]}var r,n=t-this.firstNormalSlot,i=Math.floor(n/this.slotsPerEpoch);return[this.firstNormalEpoch+i,n%this.slotsPerEpoch]}},{key:"getFirstSlotInEpoch",value:function(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}},{key:"getLastSlotInEpoch",value:function(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}},{key:"getSlotsInEpoch",value:function(t){return t<this.firstNormalEpoch?Math.pow(2,t+Vd(32)):this.slotsPerEpoch}}]),t}();function Jd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=lf(t);if(e){var i=lf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return ff(this,r)}}var Zd=function(t){cf(r,t);var e=Jd(r);function r(t,n){var i;return _h(this,r),(i=e.call(this,t)).logs=void 0,i.logs=n,i}return Eh(r)}(sl(Error)),Xd=function(t){cf(r,t);var e=Jd(r);function r(t,n){var i,s=t.code,o=t.message,a=t.data;return _h(this,r),(i=e.call(this,null!=n?"".concat(n,": ").concat(o):o)).code=void 0,i.data=void 0,i.code=s,i.data=a,i.name="SolanaJSONRPCError",i}return Eh(r)}(sl(Error)),Yd=globalThis.fetch;function Qd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var tp=function(t){cf(i,t);var e,r,n=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=lf(e);if(r){var i=lf(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return ff(this,t)});function i(t,e,r){var s;return _h(this,i),s=n.call(this,(function(t){var r=(0,ul.Z)(t,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qd(Object(r),!0).forEach((function(e){Tf(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3},e));return s.underlyingSocket="socket"in r?r.socket:r,r}),t,e,r),s.underlyingSocket=void 0,s}return Eh(i,[{key:"call",value:function(){for(var t,e,r=null===(t=this.underlyingSocket)||void 0===t?void 0:t.readyState,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return 1===r?(e=ol(lf(i.prototype),"call",this)).call.apply(e,[this].concat(s)):Promise.reject(new Error("Tried to call a JSON-RPC method `"+s[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},{key:"notify",value:function(){for(var t,e,r=null===(t=this.underlyingSocket)||void 0===t?void 0:t.readyState,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return 1===r?(e=ol(lf(i.prototype),"notify",this)).call.apply(e,[this].concat(s)):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+s[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}]),i}(al.Z),ep=function(){function t(e){_h(this,t),this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}return Eh(t,[{key:"isActive",value:function(){var t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}}],[{key:"deserialize",value:function(t){var e=function(t,e){var r;try{r=t.layout.decode(e)}catch(t){throw new Error("invalid instruction; "+t)}if(r.typeIndex!==t.index)throw new Error("invalid account data; account type mismatch ".concat(r.typeIndex," != ").concat(t.index));return r}(rp,t),r=t.length-56;fd(r>=0,"lookup table is invalid"),fd(r%32==0,"lookup table is invalid");var n=r/32,i=Sf.n_([Sf.A9(od(),n,"addresses")]).decode(t.slice(56)).addresses;return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new Yl(e.authority[0]):void 0,addresses:i.map((function(t){return new Yl(t)}))}}}]),t}(),rp={index:1,layout:Sf.n_([Sf.Jq("typeIndex"),qd("deactivationSlot"),Sf._O("lastExtendedSlot"),Sf.u8("lastExtendedStartIndex"),Sf.u8(),Sf.A9(od(),Sf.cv(Sf.u8(),-1),"authority")])},np=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,ip=["commitment"],sp=["encoding"],op=["commitment"],ap=["commitment"];function up(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function hp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?up(Object(r),!0).forEach((function(e){Tf(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):up(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var cp=el(Kf(Yl),Zf(),(function(t){return new Yl(t)})),fp=Xf([Zf(),$f("base64")]),lp=el(Kf(Ra.Buffer),fp,(function(t){return Ra.Buffer.from(t[0],"base64")}));function dp(t){var e,r;return"string"==typeof t?e=t:t&&(e=t.commitment,r=Bf(t,ip)),{commitment:e,config:r}}function pp(t){return Qf([Yf({jsonrpc:$f("2.0"),id:Zf(),result:t}),Yf({jsonrpc:$f("2.0"),id:Zf(),error:Yf({code:tl(),message:Zf(),data:Gf(jf("any",(()=>!0)))})})])}var mp=pp(tl());function gp(t){return el(pp(t),mp,(function(e){return"error"in e?e:hp(hp({},e),{},{result:qf(e.result,t)})}))}function yp(t){return gp(Yf({context:Yf({slot:Vf()}),value:t}))}function bp(t){return Yf({context:Yf({slot:Vf()}),value:t})}function vp(t,e){return 0===t?new bd({header:e.header,staticAccountKeys:e.accountKeys.map((function(t){return new Yl(t)})),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map((function(t){return{programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:gf().decode(t.data)}})),addressTableLookups:e.addressTableLookups}):new md(e)}var wp=Yf({foundation:Vf(),foundationTerm:Vf(),initial:Vf(),taper:Vf(),terminal:Vf()}),_p=gp(Hf(Wf(Yf({epoch:Vf(),effectiveSlot:Vf(),amount:Vf(),postBalance:Vf(),commission:Gf(Wf(Vf()))})))),Mp=Hf(Yf({slot:Vf(),prioritizationFee:Vf()})),Sp=Yf({total:Vf(),validator:Vf(),foundation:Vf(),epoch:Vf()}),kp=Yf({epoch:Vf(),slotIndex:Vf(),slotsInEpoch:Vf(),absoluteSlot:Vf(),blockHeight:Gf(Vf()),transactionCount:Gf(Vf())}),Ep=Yf({slotsPerEpoch:Vf(),leaderScheduleSlotOffset:Vf(),warmup:Ff(),firstNormalEpoch:Vf(),firstNormalSlot:Vf()}),Ap=Jf(Zf(),Hf(Vf())),xp=Wf(Qf([Yf({}),Zf()])),Tp=Yf({err:xp}),Ip=$f("receivedSignature"),Bp=Yf({"solana-core":Zf(),"feature-set":Gf(Vf())}),Rp=yp(Yf({err:Wf(Qf([Yf({}),Zf()])),logs:Wf(Hf(Zf())),accounts:Gf(Wf(Hf(Wf(Yf({executable:Ff(),owner:Zf(),lamports:Vf(),data:Hf(Zf()),rentEpoch:Gf(Vf())}))))),unitsConsumed:Gf(Vf()),returnData:Gf(Wf(Yf({programId:Zf(),data:Xf([Zf(),$f("base64")])})))})),Pp=yp(Yf({byIdentity:Jf(Zf(),Hf(Vf())),range:Yf({firstSlot:Vf(),lastSlot:Vf()})})),Op=gp(wp),Cp=gp(Sp),Up=gp(Mp),Np=gp(kp),Lp=gp(Ep),qp=gp(Ap),zp=gp(Vf()),Dp=yp(Yf({total:Vf(),circulating:Vf(),nonCirculating:Vf(),nonCirculatingAccounts:Hf(cp)})),jp=Yf({amount:Zf(),uiAmount:Wf(Vf()),decimals:Vf(),uiAmountString:Gf(Zf())}),Hp=yp(Hf(Yf({address:cp,amount:Zf(),uiAmount:Wf(Vf()),decimals:Vf(),uiAmountString:Gf(Zf())}))),Fp=yp(Hf(Yf({pubkey:cp,account:Yf({executable:Ff(),owner:cp,lamports:Vf(),data:lp,rentEpoch:Vf()})}))),Kp=Yf({program:Zf(),parsed:tl(),space:Vf()}),$p=yp(Hf(Yf({pubkey:cp,account:Yf({executable:Ff(),owner:cp,lamports:Vf(),data:Kp,rentEpoch:Vf()})}))),Wp=yp(Hf(Yf({lamports:Vf(),address:cp}))),Vp=Yf({executable:Ff(),owner:cp,lamports:Vf(),data:lp,rentEpoch:Vf()}),Gp=Yf({pubkey:cp,account:Vp}),Jp=el(Qf([Kf(Ra.Buffer),Kp]),Qf([fp,Kp]),(function(t){return Array.isArray(t)?qf(t,lp):t})),Zp=Yf({executable:Ff(),owner:cp,lamports:Vf(),data:Jp,rentEpoch:Vf()}),Xp=Yf({pubkey:cp,account:Zp}),Yp=Yf({state:Qf([$f("active"),$f("inactive"),$f("activating"),$f("deactivating")]),active:Vf(),inactive:Vf()}),Qp=gp(Hf(Yf({signature:Zf(),slot:Vf(),err:xp,memo:Wf(Zf()),blockTime:Gf(Wf(Vf()))}))),tm=gp(Hf(Yf({signature:Zf(),slot:Vf(),err:xp,memo:Wf(Zf()),blockTime:Gf(Wf(Vf()))}))),em=Yf({subscription:Vf(),result:bp(Vp)}),rm=Yf({pubkey:cp,account:Vp}),nm=Yf({subscription:Vf(),result:bp(rm)}),im=Yf({parent:Vf(),slot:Vf(),root:Vf()}),sm=Yf({subscription:Vf(),result:im}),om=Qf([Yf({type:Qf([$f("firstShredReceived"),$f("completed"),$f("optimisticConfirmation"),$f("root")]),slot:Vf(),timestamp:Vf()}),Yf({type:$f("createdBank"),parent:Vf(),slot:Vf(),timestamp:Vf()}),Yf({type:$f("frozen"),slot:Vf(),timestamp:Vf(),stats:Yf({numTransactionEntries:Vf(),numSuccessfulTransactions:Vf(),numFailedTransactions:Vf(),maxTransactionsPerEntry:Vf()})}),Yf({type:$f("dead"),slot:Vf(),timestamp:Vf(),err:Zf()})]),am=Yf({subscription:Vf(),result:om}),um=Yf({subscription:Vf(),result:bp(Qf([Tp,Ip]))}),hm=Yf({subscription:Vf(),result:Vf()}),cm=Yf({pubkey:Zf(),gossip:Wf(Zf()),tpu:Wf(Zf()),rpc:Wf(Zf()),version:Wf(Zf())}),fm=Yf({votePubkey:Zf(),nodePubkey:Zf(),activatedStake:Vf(),epochVoteAccount:Ff(),epochCredits:Hf(Xf([Vf(),Vf(),Vf()])),commission:Vf(),lastVote:Vf(),rootSlot:Wf(Vf())}),lm=gp(Yf({current:Hf(fm),delinquent:Hf(fm)})),dm=Qf([$f("processed"),$f("confirmed"),$f("finalized")]),pm=Yf({slot:Vf(),confirmations:Wf(Vf()),err:xp,confirmationStatus:Gf(dm)}),mm=yp(Hf(Wf(pm))),gm=gp(Vf()),ym=Yf({accountKey:cp,writableIndexes:Hf(Vf()),readonlyIndexes:Hf(Vf())}),bm=Yf({signatures:Hf(Zf()),message:Yf({accountKeys:Hf(Zf()),header:Yf({numRequiredSignatures:Vf(),numReadonlySignedAccounts:Vf(),numReadonlyUnsignedAccounts:Vf()}),instructions:Hf(Yf({accounts:Hf(Vf()),data:Zf(),programIdIndex:Vf()})),recentBlockhash:Zf(),addressTableLookups:Gf(Hf(ym))})}),vm=Yf({pubkey:cp,signer:Ff(),writable:Ff(),source:Gf(Qf([$f("transaction"),$f("lookupTable")]))}),wm=Yf({accountKeys:Hf(vm),signatures:Hf(Zf())}),_m=Yf({parsed:tl(),program:Zf(),programId:cp}),Mm=Yf({accounts:Hf(cp),data:Zf(),programId:cp}),Sm=el(Qf([Mm,_m]),Qf([Yf({parsed:tl(),program:Zf(),programId:Zf()}),Yf({accounts:Hf(Zf()),data:Zf(),programId:Zf()})]),(function(t){return qf(t,"accounts"in t?Mm:_m)})),km=Yf({signatures:Hf(Zf()),message:Yf({accountKeys:Hf(vm),instructions:Hf(Sm),recentBlockhash:Zf(),addressTableLookups:Gf(Wf(Hf(ym)))})}),Em=Yf({accountIndex:Vf(),mint:Zf(),owner:Gf(Zf()),uiTokenAmount:jp}),Am=Yf({writable:Hf(cp),readonly:Hf(cp)}),xm=Yf({err:xp,fee:Vf(),innerInstructions:Gf(Wf(Hf(Yf({index:Vf(),instructions:Hf(Yf({accounts:Hf(Vf()),data:Zf(),programIdIndex:Vf()}))})))),preBalances:Hf(Vf()),postBalances:Hf(Vf()),logMessages:Gf(Wf(Hf(Zf()))),preTokenBalances:Gf(Wf(Hf(Em))),postTokenBalances:Gf(Wf(Hf(Em))),loadedAddresses:Gf(Am),computeUnitsConsumed:Gf(Vf())}),Tm=Yf({err:xp,fee:Vf(),innerInstructions:Gf(Wf(Hf(Yf({index:Vf(),instructions:Hf(Sm)})))),preBalances:Hf(Vf()),postBalances:Hf(Vf()),logMessages:Gf(Wf(Hf(Zf()))),preTokenBalances:Gf(Wf(Hf(Em))),postTokenBalances:Gf(Wf(Hf(Em))),loadedAddresses:Gf(Am),computeUnitsConsumed:Gf(Vf())}),Im=Qf([$f(0),$f("legacy")]),Bm=Yf({pubkey:Zf(),lamports:Vf(),postBalance:Wf(Vf()),rewardType:Wf(Zf()),commission:Gf(Wf(Vf()))}),Rm=gp(Wf(Yf({blockhash:Zf(),previousBlockhash:Zf(),parentSlot:Vf(),transactions:Hf(Yf({transaction:bm,meta:Wf(xm),version:Gf(Im)})),rewards:Gf(Hf(Bm)),blockTime:Wf(Vf()),blockHeight:Wf(Vf())}))),Pm=gp(Wf(Yf({blockhash:Zf(),previousBlockhash:Zf(),parentSlot:Vf(),rewards:Gf(Hf(Bm)),blockTime:Wf(Vf()),blockHeight:Wf(Vf())}))),Om=gp(Wf(Yf({blockhash:Zf(),previousBlockhash:Zf(),parentSlot:Vf(),transactions:Hf(Yf({transaction:wm,meta:Wf(xm),version:Gf(Im)})),rewards:Gf(Hf(Bm)),blockTime:Wf(Vf()),blockHeight:Wf(Vf())}))),Cm=gp(Wf(Yf({blockhash:Zf(),previousBlockhash:Zf(),parentSlot:Vf(),transactions:Hf(Yf({transaction:km,meta:Wf(Tm),version:Gf(Im)})),rewards:Gf(Hf(Bm)),blockTime:Wf(Vf()),blockHeight:Wf(Vf())}))),Um=gp(Wf(Yf({blockhash:Zf(),previousBlockhash:Zf(),parentSlot:Vf(),transactions:Hf(Yf({transaction:wm,meta:Wf(Tm),version:Gf(Im)})),rewards:Gf(Hf(Bm)),blockTime:Wf(Vf()),blockHeight:Wf(Vf())}))),Nm=gp(Wf(Yf({blockhash:Zf(),previousBlockhash:Zf(),parentSlot:Vf(),rewards:Gf(Hf(Bm)),blockTime:Wf(Vf()),blockHeight:Wf(Vf())}))),Lm=gp(Wf(Yf({blockhash:Zf(),previousBlockhash:Zf(),parentSlot:Vf(),transactions:Hf(Yf({transaction:bm,meta:Wf(xm)})),rewards:Gf(Hf(Bm)),blockTime:Wf(Vf())}))),qm=gp(Wf(Yf({blockhash:Zf(),previousBlockhash:Zf(),parentSlot:Vf(),signatures:Hf(Zf()),blockTime:Wf(Vf())}))),zm=gp(Wf(Yf({slot:Vf(),meta:xm,blockTime:Gf(Wf(Vf())),transaction:bm,version:Gf(Im)}))),Dm=gp(Wf(Yf({slot:Vf(),transaction:km,meta:Wf(Tm),blockTime:Gf(Wf(Vf())),version:Gf(Im)}))),jm=yp(Yf({blockhash:Zf(),feeCalculator:Yf({lamportsPerSignature:Vf()})})),Hm=yp(Yf({blockhash:Zf(),lastValidBlockHeight:Vf()})),Fm=yp(Ff()),Km=gp(Hf(Yf({slot:Vf(),numTransactions:Vf(),numSlots:Vf(),samplePeriodSecs:Vf()}))),$m=yp(Wf(Yf({feeCalculator:Yf({lamportsPerSignature:Vf()})}))),Wm=gp(Zf()),Vm=gp(Zf()),Gm=Yf({err:xp,logs:Hf(Zf()),signature:Zf()}),Jm=Yf({result:bp(Gm),subscription:Vf()}),Zm={"solana-client":"js/".concat(null!=="0.0.0-development"?"0.0.0-development":"UNKNOWN")},Xm=function(){function t(e,r){var n,i,s,o,a,u,h,c=this;_h(this,t),this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(n={},function(){var t=uf(pf().mark((function t(e){var r,i,s,o,a,u;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=dp(e),s=i.commitment,o=i.config,a=c._buildArgs([],s,void 0,o),u=Wd(a),n[u]=null!==(r=n[u])&&void 0!==r?r:uf(pf().mark((function t(){var e,r;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c._rpcRequest("getBlockHeight",a);case 3:if(e=t.sent,!("error"in(r=qf(e,gp(Vf()))))){t.next=7;break}throw new Xd(r.error,"failed to get block height information");case 7:return t.abrupt("return",r.result);case 8:return t.prev=8,delete n[u],t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,,8,11]])})))(),t.next=6,n[u];case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),r&&"string"==typeof r?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,i=r.wsEndpoint,s=r.httpHeaders,o=r.fetch,a=r.fetchMiddleware,u=r.disableRetryOnRateLimit,h=r.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(e),this._rpcWsEndpoint=i||function(t){var e=t.match(np);if(null==e)throw TypeError("Failed to validate endpoint URL `".concat(t,"`"));var r=Af(e,4);r[0];var n=r[1],i=r[2],s=r[3],o=t.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10),u=null==a?"":":".concat(a+1);return"".concat(o,"//").concat(n).concat(u).concat(s)}(e),this._rpcClient=function(t,e,r,n,i,s){var o,a=r||Yd;null!=s&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(o=function(){var t=uf(pf().mark((function t(e,r){var i;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,i){try{n(e,r,(function(e,r){return t([e,r])}))}catch(t){i(t)}}));case 2:return i=t.sent,t.next=5,a.apply(void 0,If(i));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());var u=new(nl())(function(){var r=uf(pf().mark((function r(n,s){var u,h,c,f,l;return pf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:u={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},Zm)},r.prev=1,h=5,f=500;case 4:if(!o){r.next=10;break}return r.next=7,o(t,u);case 7:c=r.sent,r.next=13;break;case 10:return r.next=12,a(t,u);case 12:c=r.sent;case 13:if(429===c.status){r.next=15;break}return r.abrupt("break",26);case 15:if(!0!==i){r.next=17;break}return r.abrupt("break",26);case 17:if(0!=(h-=1)){r.next=20;break}return r.abrupt("break",26);case 20:return console.log("Server responded with ".concat(c.status," ").concat(c.statusText,".  Retrying after ").concat(f,"ms delay...")),r.next=23,Pd(f);case 23:f*=2;case 24:r.next=4;break;case 26:return r.next=28,c.text();case 28:l=r.sent,c.ok?s(null,l):s(new Error("".concat(c.status," ").concat(c.statusText,": ").concat(l))),r.next=35;break;case 32:r.prev=32,r.t0=r.catch(1),r.t0 instanceof Error&&s(r.t0);case 35:case"end":return r.stop()}}),r,null,[[1,32]])})));return function(t,e){return r.apply(this,arguments)}}(),{});return u}(e,s,o,a,u,h),this._rpcRequest=function(t){return function(e,r){return new Promise((function(n,i){t.request(e,r,(function(t,e){t?i(t):n(e)}))}))}}(this._rpcClient),this._rpcBatchRequest=function(t){return function(e){return new Promise((function(r,n){0===e.length&&r([]);var i=e.map((function(e){return t.request(e.methodName,e.args)}));t.request(i,(function(t,e){t?n(t):r(e)}))}))}}(this._rpcClient),this._rpcWebSocket=new tp(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}var e,r,n,i,s,o,a,u,h,c,f,l,d,p,m,g,y,b,v,w,_,M,S,k,E,A,x,T,I,B,R,P,O,C,U,N,L,q,z,D,j,H,F,K,$,W,V,G,J,Z,X,Y,Q,tt,et,rt,nt,it,st,ot,at,ut,ht,ct,ft,lt,dt,pt,mt,gt,yt,bt,vt,wt,_t,Mt,St,kt,Et,At,xt,Tt,It,Bt,Rt,Pt,Ot,Ct,Ut;return Eh(t,[{key:"commitment",get:function(){return this._commitment}},{key:"rpcEndpoint",get:function(){return this._rpcEndpoint}},{key:"getBalanceAndContext",value:(Ut=uf(pf().mark((function t(e,r){var n,i,s,o,a,u;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=dp(r),i=n.commitment,s=n.config,o=this._buildArgs([e.toBase58()],i,void 0,s),t.next=4,this._rpcRequest("getBalance",o);case 4:if(a=t.sent,!("error"in(u=qf(a,yp(Vf()))))){t.next=8;break}throw new Xd(u.error,"failed to get balance for ".concat(e.toBase58()));case 8:return t.abrupt("return",u.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return Ut.apply(this,arguments)})},{key:"getBalance",value:(Ct=uf(pf().mark((function t(e,r){return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getBalanceAndContext(e,r).then((function(t){return t.value})).catch((function(t){throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return Ct.apply(this,arguments)})},{key:"getBlockTime",value:(Ot=uf(pf().mark((function t(e){var r,n;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getBlockTime",[e]);case 2:if(r=t.sent,!("error"in(n=qf(r,gp(Wf(Vf())))))){t.next=6;break}throw new Xd(n.error,"failed to get block time for slot ".concat(e));case 6:return t.abrupt("return",n.result);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return Ot.apply(this,arguments)})},{key:"getMinimumLedgerSlot",value:(Pt=uf(pf().mark((function t(){var e,r;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("minimumLedgerSlot",[]);case 2:if(e=t.sent,!("error"in(r=qf(e,gp(Vf()))))){t.next=6;break}throw new Xd(r.error,"failed to get minimum ledger slot");case 6:return t.abrupt("return",r.result);case 7:case"end":return t.stop()}}),t,this)}))),function(){return Pt.apply(this,arguments)})},{key:"getFirstAvailableBlock",value:(Rt=uf(pf().mark((function t(){var e,r;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getFirstAvailableBlock",[]);case 2:if(e=t.sent,!("error"in(r=qf(e,zp)))){t.next=6;break}throw new Xd(r.error,"failed to get first available block");case 6:return t.abrupt("return",r.result);case 7:case"end":return t.stop()}}),t,this)}))),function(){return Rt.apply(this,arguments)})},{key:"getSupply",value:(Bt=uf(pf().mark((function t(e){var r,n,i;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return{},r="string"==typeof e?{commitment:e}:e?hp(hp({},e),{},{commitment:e&&e.commitment||this.commitment}):{commitment:this.commitment},t.next=4,this._rpcRequest("getSupply",[r]);case 4:if(n=t.sent,!("error"in(i=qf(n,Dp)))){t.next=8;break}throw new Xd(i.error,"failed to get supply");case 8:return t.abrupt("return",i.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return Bt.apply(this,arguments)})},{key:"getTokenSupply",value:(It=uf(pf().mark((function t(e,r){var n,i,s;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgs([e.toBase58()],r),t.next=3,this._rpcRequest("getTokenSupply",n);case 3:if(i=t.sent,!("error"in(s=qf(i,yp(jp))))){t.next=7;break}throw new Xd(s.error,"failed to get token supply");case 7:return t.abrupt("return",s.result);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return It.apply(this,arguments)})},{key:"getTokenAccountBalance",value:(Tt=uf(pf().mark((function t(e,r){var n,i,s;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgs([e.toBase58()],r),t.next=3,this._rpcRequest("getTokenAccountBalance",n);case 3:if(i=t.sent,!("error"in(s=qf(i,yp(jp))))){t.next=7;break}throw new Xd(s.error,"failed to get token account balance");case 7:return t.abrupt("return",s.result);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return Tt.apply(this,arguments)})},{key:"getTokenAccountsByOwner",value:(xt=uf(pf().mark((function t(e,r,n){var i,s,o,a,u,h,c;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=dp(n),s=i.commitment,o=i.config,a=[e.toBase58()],"mint"in r?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()}),u=this._buildArgs(a,s,"base64",o),t.next=6,this._rpcRequest("getTokenAccountsByOwner",u);case 6:if(h=t.sent,!("error"in(c=qf(h,Fp)))){t.next=10;break}throw new Xd(c.error,"failed to get token accounts owned by account ".concat(e.toBase58()));case 10:return t.abrupt("return",c.result);case 11:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return xt.apply(this,arguments)})},{key:"getParsedTokenAccountsByOwner",value:(At=uf(pf().mark((function t(e,r,n){var i,s,o,a;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=[e.toBase58()],"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()}),s=this._buildArgs(i,n,"jsonParsed"),t.next=5,this._rpcRequest("getTokenAccountsByOwner",s);case 5:if(o=t.sent,!("error"in(a=qf(o,$p)))){t.next=9;break}throw new Xd(a.error,"failed to get token accounts owned by account ".concat(e.toBase58()));case 9:return t.abrupt("return",a.result);case 10:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return At.apply(this,arguments)})},{key:"getLargestAccounts",value:(Et=uf(pf().mark((function t(e){var r,n,i,s;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=hp(hp({},e),{},{commitment:e&&e.commitment||this.commitment}),n=r.filter||r.commitment?[r]:[],t.next=4,this._rpcRequest("getLargestAccounts",n);case 4:if(i=t.sent,!("error"in(s=qf(i,Wp)))){t.next=8;break}throw new Xd(s.error,"failed to get largest accounts");case 8:return t.abrupt("return",s.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return Et.apply(this,arguments)})},{key:"getTokenLargestAccounts",value:(kt=uf(pf().mark((function t(e,r){var n,i,s;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgs([e.toBase58()],r),t.next=3,this._rpcRequest("getTokenLargestAccounts",n);case 3:if(i=t.sent,!("error"in(s=qf(i,Hp)))){t.next=7;break}throw new Xd(s.error,"failed to get token largest accounts");case 7:return t.abrupt("return",s.result);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return kt.apply(this,arguments)})},{key:"getAccountInfoAndContext",value:(St=uf(pf().mark((function t(e,r){var n,i,s,o,a,u;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=dp(r),i=n.commitment,s=n.config,o=this._buildArgs([e.toBase58()],i,"base64",s),t.next=4,this._rpcRequest("getAccountInfo",o);case 4:if(a=t.sent,!("error"in(u=qf(a,yp(Wf(Vp)))))){t.next=8;break}throw new Xd(u.error,"failed to get info about account ".concat(e.toBase58()));case 8:return t.abrupt("return",u.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return St.apply(this,arguments)})},{key:"getParsedAccountInfo",value:(Mt=uf(pf().mark((function t(e,r){var n,i,s,o,a,u;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=dp(r),i=n.commitment,s=n.config,o=this._buildArgs([e.toBase58()],i,"jsonParsed",s),t.next=4,this._rpcRequest("getAccountInfo",o);case 4:if(a=t.sent,!("error"in(u=qf(a,yp(Wf(Zp)))))){t.next=8;break}throw new Xd(u.error,"failed to get info about account ".concat(e.toBase58()));case 8:return t.abrupt("return",u.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return Mt.apply(this,arguments)})},{key:"getAccountInfo",value:(_t=uf(pf().mark((function t(e,r){var n;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getAccountInfoAndContext(e,r);case 3:return n=t.sent,t.abrupt("return",n.value);case 7:throw t.prev=7,t.t0=t.catch(0),new Error("failed to get info about account "+e.toBase58()+": "+t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(t,e){return _t.apply(this,arguments)})},{key:"getMultipleParsedAccounts",value:(wt=uf(pf().mark((function t(e,r){var n,i,s,o,a,u,h;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=dp(r),i=n.commitment,s=n.config,o=e.map((function(t){return t.toBase58()})),a=this._buildArgs([o],i,"jsonParsed",s),t.next=5,this._rpcRequest("getMultipleAccounts",a);case 5:if(u=t.sent,!("error"in(h=qf(u,yp(Hf(Wf(Zp))))))){t.next=9;break}throw new Xd(h.error,"failed to get info for accounts ".concat(o));case 9:return t.abrupt("return",h.result);case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return wt.apply(this,arguments)})},{key:"getMultipleAccountsInfoAndContext",value:(vt=uf(pf().mark((function t(e,r){var n,i,s,o,a,u,h;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=dp(r),i=n.commitment,s=n.config,o=e.map((function(t){return t.toBase58()})),a=this._buildArgs([o],i,"base64",s),t.next=5,this._rpcRequest("getMultipleAccounts",a);case 5:if(u=t.sent,!("error"in(h=qf(u,yp(Hf(Wf(Vp))))))){t.next=9;break}throw new Xd(h.error,"failed to get info for accounts ".concat(o));case 9:return t.abrupt("return",h.result);case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return vt.apply(this,arguments)})},{key:"getMultipleAccountsInfo",value:(bt=uf(pf().mark((function t(e,r){var n;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getMultipleAccountsInfoAndContext(e,r);case 2:return n=t.sent,t.abrupt("return",n.value);case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return bt.apply(this,arguments)})},{key:"getStakeActivation",value:(yt=uf(pf().mark((function t(e,r,n){var i,s,o,a,u,h;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=dp(r),s=i.commitment,o=i.config,a=this._buildArgs([e.toBase58()],s,void 0,hp(hp({},o),{},{epoch:null!=n?n:null==o?void 0:o.epoch})),t.next=4,this._rpcRequest("getStakeActivation",a);case 4:if(u=t.sent,!("error"in(h=qf(u,gp(Yp))))){t.next=8;break}throw new Xd(h.error,"failed to get Stake Activation ".concat(e.toBase58()));case 8:return t.abrupt("return",h.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return yt.apply(this,arguments)})},{key:"getProgramAccounts",value:(gt=uf(pf().mark((function t(e,r){var n,i,s,o,a,u,h,c,f,l;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=dp(r),i=n.commitment,s=n.config,a=(o=s||{}).encoding,u=Bf(o,sp),h=this._buildArgs([e.toBase58()],i,a||"base64",u),t.next=5,this._rpcRequest("getProgramAccounts",h);case 5:if(c=t.sent,f=Hf(Gp),!("error"in(l=!0===u.withContext?qf(c,yp(f)):qf(c,gp(f))))){t.next=10;break}throw new Xd(l.error,"failed to get accounts owned by program ".concat(e.toBase58()));case 10:return t.abrupt("return",l.result);case 11:case"end":return t.stop()}}),t,this)}))),function(t,e){return gt.apply(this,arguments)})},{key:"getParsedProgramAccounts",value:(mt=uf(pf().mark((function t(e,r){var n,i,s,o,a,u;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=dp(r),i=n.commitment,s=n.config,o=this._buildArgs([e.toBase58()],i,"jsonParsed",s),t.next=4,this._rpcRequest("getProgramAccounts",o);case 4:if(a=t.sent,!("error"in(u=qf(a,gp(Hf(Xp)))))){t.next=8;break}throw new Xd(u.error,"failed to get accounts owned by program ".concat(e.toBase58()));case 8:return t.abrupt("return",u.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return mt.apply(this,arguments)})},{key:"confirmTransaction",value:(pt=uf(pf().mark((function t(e,r){var n,i,s,o;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=4;break}n=e,t.next=8;break;case 4:if(null===(i=(s=e).abortSignal)||void 0===i||!i.aborted){t.next=7;break}return t.abrupt("return",Promise.reject(s.abortSignal.reason));case 7:n=s.signature;case 8:t.prev=8,o=gf().decode(n),t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(8),new Error("signature must be base58 encoded: "+n);case 15:if(fd(64===o.length,"signature has invalid length"),"string"!=typeof e){t.next=22;break}return t.next=19,this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n});case 19:return t.abrupt("return",t.sent);case 22:if(!("lastValidBlockHeight"in e)){t.next=28;break}return t.next=25,this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e});case 25:return t.abrupt("return",t.sent);case 28:return t.next=30,this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e});case 30:return t.abrupt("return",t.sent);case 31:case"end":return t.stop()}}),t,this,[[8,12]])}))),function(t,e){return pt.apply(this,arguments)})},{key:"getCancellationPromise",value:function(t){return new Promise((function(e,r){null!=t&&(t.aborted?r(t.reason):t.addEventListener("abort",(function(){r(t.reason)})))}))}},{key:"getTransactionConfirmationPromise",value:function(t){var e,r,n=this,i=t.commitment,s=t.signature,o=!1,a=new Promise((function(t,a){try{e=n.onSignature(s,(function(r,n){e=void 0;var i={context:n,value:r};t({__type:Md.PROCESSED,response:i})}),i);var u=new Promise((function(t){null==e?t():r=n._onSubscriptionStateChange(e,(function(e){"subscribed"===e&&t()}))}));uf(pf().mark((function e(){var r,h,c;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:if(!o){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,n.getSignatureStatus(s);case 6:if(r=e.sent,!o){e.next=9;break}return e.abrupt("return");case 9:if(null!=r){e.next=11;break}return e.abrupt("return");case 11:if(h=r.context,null!=(c=r.value)){e.next=14;break}return e.abrupt("return");case 14:if(null==c||!c.err){e.next=18;break}a(c.err),e.next=29;break;case 18:e.t0=i,e.next="confirmed"===e.t0||"single"===e.t0||"singleGossip"===e.t0?21:"finalized"===e.t0||"max"===e.t0||"root"===e.t0?24:("processed"===e.t0||e.t0,27);break;case 21:if("processed"!==c.confirmationStatus){e.next=23;break}return e.abrupt("return");case 23:return e.abrupt("break",27);case 24:if("processed"!==c.confirmationStatus&&"confirmed"!==c.confirmationStatus){e.next=26;break}return e.abrupt("return");case 26:return e.abrupt("break",27);case 27:o=!0,t({__type:Md.PROCESSED,response:{context:h,value:c}});case 29:case"end":return e.stop()}}),e)})))()}catch(t){a(t)}}));return{abortConfirmation:function(){r&&(r(),r=void 0),null!=e&&(n.removeSignatureListener(e),e=void 0)},confirmationPromise:a}}},{key:"confirmTransactionUsingBlockHeightExceedanceStrategy",value:(dt=uf(pf().mark((function t(e){var r,n,i,s,o,a,u,h,c,f,l,d,p,m=this;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commitment,n=e.strategy,i=n.abortSignal,s=n.lastValidBlockHeight,o=n.signature,a=!1,u=new Promise((function(t){var e=function(){var t=uf(pf().mark((function t(){var e;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.getBlockHeight(r);case 3:return e=t.sent,t.abrupt("return",e);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",-1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();uf(pf().mark((function r(){var n;return pf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e();case 2:if(n=r.sent,!a){r.next=5;break}return r.abrupt("return");case 5:if(!(n<=s)){r.next=17;break}return r.next=8,Pd(1e3);case 8:if(!a){r.next=10;break}return r.abrupt("return");case 10:return r.next=12,e();case 12:if(n=r.sent,!a){r.next=15;break}return r.abrupt("return");case 15:r.next=5;break;case 17:t({__type:Md.BLOCKHEIGHT_EXCEEDED});case 18:case"end":return r.stop()}}),r)})))()})),h=this.getTransactionConfirmationPromise({commitment:r,signature:o}),c=h.abortConfirmation,f=h.confirmationPromise,l=this.getCancellationPromise(i),t.prev=5,t.next=8,Promise.race([l,f,u]);case 8:if((p=t.sent).__type!==Md.PROCESSED){t.next=13;break}d=p.response,t.next=14;break;case 13:throw new ed(o);case 14:return t.prev=14,a=!0,c(),t.finish(14);case 18:return t.abrupt("return",d);case 19:case"end":return t.stop()}}),t,this,[[5,,14,18]])}))),function(t){return dt.apply(this,arguments)})},{key:"confirmTransactionUsingDurableNonceStrategy",value:(lt=uf(pf().mark((function t(e){var r,n,i,s,o,a,u,h,c,f,l,d,p,m,g,y,b,v,w,_,M,S=this;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commitment,n=e.strategy,i=n.abortSignal,s=n.minContextSlot,o=n.nonceAccountPubkey,a=n.nonceValue,u=n.signature,h=!1,c=new Promise((function(t){var e=a,n=null,i=function(){var t=uf(pf().mark((function t(){var i,a,u;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.getNonceAndContext(o,{commitment:r,minContextSlot:s});case 3:return i=t.sent,a=i.context,u=i.value,n=a.slot,t.abrupt("return",null==u?void 0:u.nonce);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();uf(pf().mark((function r(){return pf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i();case 2:if(e=r.sent,!h){r.next=5;break}return r.abrupt("return");case 5:if(a===e){r.next=9;break}return t({__type:Md.NONCE_INVALID,slotInWhichNonceDidAdvance:n}),r.abrupt("return");case 9:return r.next=11,Pd(2e3);case 11:if(!h){r.next=13;break}return r.abrupt("return");case 13:return r.next=15,i();case 15:if(e=r.sent,!h){r.next=18;break}return r.abrupt("return");case 18:r.next=5;break;case 20:case"end":return r.stop()}}),r)})))()})),f=this.getTransactionConfirmationPromise({commitment:r,signature:u}),l=f.abortConfirmation,d=f.confirmationPromise,p=this.getCancellationPromise(i),t.prev=5,t.next=8,Promise.race([p,d,c]);case 8:if((g=t.sent).__type!==Md.PROCESSED){t.next=13;break}m=g.response,t.next=47;break;case 13:return t.next=16,this.getSignatureStatus(u);case 16:if(null!=(w=t.sent)){t.next=19;break}return t.abrupt("break",27);case 19:if(!(w.context.slot<(null!==(v=g.slotInWhichNonceDidAdvance)&&void 0!==v?v:s))){t.next=23;break}return t.next=22,Pd(400);case 22:return t.abrupt("continue",13);case 23:return b=w,t.abrupt("break",27);case 27:if(null===(y=b)||void 0===y||!y.value){t.next=46;break}_=r||"finalized",M=b.value.confirmationStatus,t.t0=_,t.next="processed"===t.t0||"recent"===t.t0?33:"confirmed"===t.t0||"single"===t.t0||"singleGossip"===t.t0?36:"finalized"===t.t0||"max"===t.t0||"root"===t.t0?39:42;break;case 33:if("processed"===M||"confirmed"===M||"finalized"===M){t.next=35;break}throw new nd(u);case 35:case 38:case 41:return t.abrupt("break",43);case 36:if("confirmed"===M||"finalized"===M){t.next=38;break}throw new nd(u);case 39:if("finalized"===M){t.next=41;break}throw new nd(u);case 42:case 43:m={context:b.context,value:{err:b.value.err}},t.next=47;break;case 46:throw new nd(u);case 47:return t.prev=47,h=!0,l(),t.finish(47);case 51:return t.abrupt("return",m);case 52:case"end":return t.stop()}}),t,this,[[5,,47,51]])}))),function(t){return lt.apply(this,arguments)})},{key:"confirmTransactionUsingLegacyTimeoutStrategy",value:(ft=uf(pf().mark((function t(e){var r,n,i,s,o,a,u,h,c,f=this;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commitment,n=e.signature,s=new Promise((function(t){var e=f._confirmTransactionInitialTimeout||6e4;switch(r){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":e=f._confirmTransactionInitialTimeout||3e4}i=setTimeout((function(){return t({__type:Md.TIMED_OUT,timeoutMs:e})}),e)})),o=this.getTransactionConfirmationPromise({commitment:r,signature:n}),a=o.abortConfirmation,u=o.confirmationPromise,t.prev=3,t.next=6,Promise.race([u,s]);case 6:if((c=t.sent).__type!==Md.PROCESSED){t.next=11;break}h=c.response,t.next=12;break;case 11:throw new rd(n,c.timeoutMs/1e3);case 12:return t.prev=12,clearTimeout(i),a(),t.finish(12);case 16:return t.abrupt("return",h);case 17:case"end":return t.stop()}}),t,this,[[3,,12,16]])}))),function(t){return ft.apply(this,arguments)})},{key:"getClusterNodes",value:(ct=uf(pf().mark((function t(){var e,r;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getClusterNodes",[]);case 2:if(e=t.sent,!("error"in(r=qf(e,gp(Hf(cm)))))){t.next=6;break}throw new Xd(r.error,"failed to get cluster nodes");case 6:return t.abrupt("return",r.result);case 7:case"end":return t.stop()}}),t,this)}))),function(){return ct.apply(this,arguments)})},{key:"getVoteAccounts",value:(ht=uf(pf().mark((function t(e){var r,n,i;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._buildArgs([],e),t.next=3,this._rpcRequest("getVoteAccounts",r);case 3:if(n=t.sent,!("error"in(i=qf(n,lm)))){t.next=7;break}throw new Xd(i.error,"failed to get vote accounts");case 7:return t.abrupt("return",i.result);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return ht.apply(this,arguments)})},{key:"getSlot",value:(ut=uf(pf().mark((function t(e){var r,n,i,s,o,a;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=dp(e),n=r.commitment,i=r.config,s=this._buildArgs([],n,void 0,i),t.next=4,this._rpcRequest("getSlot",s);case 4:if(o=t.sent,!("error"in(a=qf(o,gp(Vf()))))){t.next=8;break}throw new Xd(a.error,"failed to get slot");case 8:return t.abrupt("return",a.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return ut.apply(this,arguments)})},{key:"getSlotLeader",value:(at=uf(pf().mark((function t(e){var r,n,i,s,o,a;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=dp(e),n=r.commitment,i=r.config,s=this._buildArgs([],n,void 0,i),t.next=4,this._rpcRequest("getSlotLeader",s);case 4:if(o=t.sent,!("error"in(a=qf(o,gp(Zf()))))){t.next=8;break}throw new Xd(a.error,"failed to get slot leader");case 8:return t.abrupt("return",a.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return at.apply(this,arguments)})},{key:"getSlotLeaders",value:(ot=uf(pf().mark((function t(e,r){var n,i,s;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[e,r],t.next=3,this._rpcRequest("getSlotLeaders",n);case 3:if(i=t.sent,!("error"in(s=qf(i,gp(Hf(cp)))))){t.next=7;break}throw new Xd(s.error,"failed to get slot leaders");case 7:return t.abrupt("return",s.result);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return ot.apply(this,arguments)})},{key:"getSignatureStatus",value:(st=uf(pf().mark((function t(e,r){var n,i,s,o;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSignatureStatuses([e],r);case 2:return n=t.sent,i=n.context,fd(1===(s=n.value).length),o=s[0],t.abrupt("return",{context:i,value:o});case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return st.apply(this,arguments)})},{key:"getSignatureStatuses",value:(it=uf(pf().mark((function t(e,r){var n,i,s;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[e],r&&n.push(r),t.next=4,this._rpcRequest("getSignatureStatuses",n);case 4:if(i=t.sent,!("error"in(s=qf(i,mm)))){t.next=8;break}throw new Xd(s.error,"failed to get signature status");case 8:return t.abrupt("return",s.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return it.apply(this,arguments)})},{key:"getTransactionCount",value:(nt=uf(pf().mark((function t(e){var r,n,i,s,o,a;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=dp(e),n=r.commitment,i=r.config,s=this._buildArgs([],n,void 0,i),t.next=4,this._rpcRequest("getTransactionCount",s);case 4:if(o=t.sent,!("error"in(a=qf(o,gp(Vf()))))){t.next=8;break}throw new Xd(a.error,"failed to get transaction count");case 8:return t.abrupt("return",a.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return nt.apply(this,arguments)})},{key:"getTotalSupply",value:(rt=uf(pf().mark((function t(e){var r;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0});case 2:return r=t.sent,t.abrupt("return",r.value.total);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return rt.apply(this,arguments)})},{key:"getInflationGovernor",value:(et=uf(pf().mark((function t(e){var r,n,i;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._buildArgs([],e),t.next=3,this._rpcRequest("getInflationGovernor",r);case 3:if(n=t.sent,!("error"in(i=qf(n,Op)))){t.next=7;break}throw new Xd(i.error,"failed to get inflation");case 7:return t.abrupt("return",i.result);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return et.apply(this,arguments)})},{key:"getInflationReward",value:(tt=uf(pf().mark((function t(e,r,n){var i,s,o,a,u,h;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=dp(n),s=i.commitment,o=i.config,a=this._buildArgs([e.map((function(t){return t.toBase58()}))],s,void 0,hp(hp({},o),{},{epoch:null!=r?r:null==o?void 0:o.epoch})),t.next=4,this._rpcRequest("getInflationReward",a);case 4:if(u=t.sent,!("error"in(h=qf(u,_p)))){t.next=8;break}throw new Xd(h.error,"failed to get inflation reward");case 8:return t.abrupt("return",h.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return tt.apply(this,arguments)})},{key:"getInflationRate",value:(Q=uf(pf().mark((function t(){var e,r;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getInflationRate",[]);case 2:if(e=t.sent,!("error"in(r=qf(e,Cp)))){t.next=6;break}throw new Xd(r.error,"failed to get inflation rate");case 6:return t.abrupt("return",r.result);case 7:case"end":return t.stop()}}),t,this)}))),function(){return Q.apply(this,arguments)})},{key:"getEpochInfo",value:(Y=uf(pf().mark((function t(e){var r,n,i,s,o,a;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=dp(e),n=r.commitment,i=r.config,s=this._buildArgs([],n,void 0,i),t.next=4,this._rpcRequest("getEpochInfo",s);case 4:if(o=t.sent,!("error"in(a=qf(o,Np)))){t.next=8;break}throw new Xd(a.error,"failed to get epoch info");case 8:return t.abrupt("return",a.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return Y.apply(this,arguments)})},{key:"getEpochSchedule",value:(X=uf(pf().mark((function t(){var e,r,n;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getEpochSchedule",[]);case 2:if(e=t.sent,!("error"in(r=qf(e,Lp)))){t.next=6;break}throw new Xd(r.error,"failed to get epoch schedule");case 6:return n=r.result,t.abrupt("return",new Gd(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot));case 8:case"end":return t.stop()}}),t,this)}))),function(){return X.apply(this,arguments)})},{key:"getLeaderSchedule",value:(Z=uf(pf().mark((function t(){var e,r;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getLeaderSchedule",[]);case 2:if(e=t.sent,!("error"in(r=qf(e,qp)))){t.next=6;break}throw new Xd(r.error,"failed to get leader schedule");case 6:return t.abrupt("return",r.result);case 7:case"end":return t.stop()}}),t,this)}))),function(){return Z.apply(this,arguments)})},{key:"getMinimumBalanceForRentExemption",value:(J=uf(pf().mark((function t(e,r){var n,i,s;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgs([e],r),t.next=3,this._rpcRequest("getMinimumBalanceForRentExemption",n);case 3:if(i=t.sent,!("error"in(s=qf(i,gm)))){t.next=8;break}return console.warn("Unable to fetch minimum balance for rent exemption"),t.abrupt("return",0);case 8:return t.abrupt("return",s.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return J.apply(this,arguments)})},{key:"getRecentBlockhashAndContext",value:(G=uf(pf().mark((function t(e){var r,n,i;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._buildArgs([],e),t.next=3,this._rpcRequest("getRecentBlockhash",r);case 3:if(n=t.sent,!("error"in(i=qf(n,jm)))){t.next=7;break}throw new Xd(i.error,"failed to get recent blockhash");case 7:return t.abrupt("return",i.result);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return G.apply(this,arguments)})},{key:"getRecentPerformanceSamples",value:(V=uf(pf().mark((function t(e){var r,n;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]);case 2:if(r=t.sent,!("error"in(n=qf(r,Km)))){t.next=6;break}throw new Xd(n.error,"failed to get recent performance samples");case 6:return t.abrupt("return",n.result);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return V.apply(this,arguments)})},{key:"getFeeCalculatorForBlockhash",value:(W=uf(pf().mark((function t(e,r){var n,i,s,o,a,u;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgs([e],r),t.next=3,this._rpcRequest("getFeeCalculatorForBlockhash",n);case 3:if(i=t.sent,!("error"in(s=qf(i,$m)))){t.next=7;break}throw new Xd(s.error,"failed to get fee calculator");case 7:return o=s.result,a=o.context,u=o.value,t.abrupt("return",{context:a,value:null!==u?u.feeCalculator:null});case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return W.apply(this,arguments)})},{key:"getFeeForMessage",value:($=uf(pf().mark((function t(e,r){var n,i,s,o;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Vl(e.serialize()).toString("base64"),i=this._buildArgs([n],r),t.next=4,this._rpcRequest("getFeeForMessage",i);case 4:if(s=t.sent,!("error"in(o=qf(s,yp(Wf(Vf())))))){t.next=8;break}throw new Xd(o.error,"failed to get fee for message");case 8:if(null!==o.result){t.next=10;break}throw new Error("invalid blockhash");case 10:return t.abrupt("return",o.result);case 11:case"end":return t.stop()}}),t,this)}))),function(t,e){return $.apply(this,arguments)})},{key:"getRecentPrioritizationFees",value:(K=uf(pf().mark((function t(e){var r,n,i,s,o;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null==e||null===(r=e.lockedWritableAccounts)||void 0===r?void 0:r.map((function(t){return t.toBase58()})),i=null!=n&&n.length?[n]:[],t.next=4,this._rpcRequest("getRecentPrioritizationFees",i);case 4:if(s=t.sent,!("error"in(o=qf(s,Up)))){t.next=8;break}throw new Xd(o.error,"failed to get recent prioritization fees");case 8:return t.abrupt("return",o.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return K.apply(this,arguments)})},{key:"getRecentBlockhash",value:(F=uf(pf().mark((function t(e){var r;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getRecentBlockhashAndContext(e);case 3:return r=t.sent,t.abrupt("return",r.value);case 7:throw t.prev=7,t.t0=t.catch(0),new Error("failed to get recent blockhash: "+t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(t){return F.apply(this,arguments)})},{key:"getLatestBlockhash",value:(H=uf(pf().mark((function t(e){var r;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getLatestBlockhashAndContext(e);case 3:return r=t.sent,t.abrupt("return",r.value);case 7:throw t.prev=7,t.t0=t.catch(0),new Error("failed to get recent blockhash: "+t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(t){return H.apply(this,arguments)})},{key:"getLatestBlockhashAndContext",value:(j=uf(pf().mark((function t(e){var r,n,i,s,o,a;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=dp(e),n=r.commitment,i=r.config,s=this._buildArgs([],n,void 0,i),t.next=4,this._rpcRequest("getLatestBlockhash",s);case 4:if(o=t.sent,!("error"in(a=qf(o,Hm)))){t.next=8;break}throw new Xd(a.error,"failed to get latest blockhash");case 8:return t.abrupt("return",a.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return j.apply(this,arguments)})},{key:"isBlockhashValid",value:(D=uf(pf().mark((function t(e,r){var n,i,s,o,a,u;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=dp(r),i=n.commitment,s=n.config,o=this._buildArgs([e],i,void 0,s),t.next=4,this._rpcRequest("isBlockhashValid",o);case 4:if(a=t.sent,!("error"in(u=qf(a,Fm)))){t.next=8;break}throw new Xd(u.error,"failed to determine if the blockhash `"+e+"`is valid");case 8:return t.abrupt("return",u.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return D.apply(this,arguments)})},{key:"getVersion",value:(z=uf(pf().mark((function t(){var e,r;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getVersion",[]);case 2:if(e=t.sent,!("error"in(r=qf(e,gp(Bp))))){t.next=6;break}throw new Xd(r.error,"failed to get version");case 6:return t.abrupt("return",r.result);case 7:case"end":return t.stop()}}),t,this)}))),function(){return z.apply(this,arguments)})},{key:"getGenesisHash",value:(q=uf(pf().mark((function t(){var e,r;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("getGenesisHash",[]);case 2:if(e=t.sent,!("error"in(r=qf(e,gp(Zf()))))){t.next=6;break}throw new Xd(r.error,"failed to get genesis hash");case 6:return t.abrupt("return",r.result);case 7:case"end":return t.stop()}}),t,this)}))),function(){return q.apply(this,arguments)})},{key:"getBlock",value:(L=uf(pf().mark((function t(e,r){var n,i,s,o,a,u,h,c,f;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=dp(r),i=n.commitment,s=n.config,o=this._buildArgsAtLeastConfirmed([e],i,void 0,s),t.next=4,this._rpcRequest("getBlock",o);case 4:a=t.sent,t.prev=5,t.t0=null==s?void 0:s.transactionDetails,t.next="accounts"===t.t0?9:"none"===t.t0?13:17;break;case 9:if(!("error"in(u=qf(a,Om)))){t.next=12;break}throw u.error;case 12:return t.abrupt("return",u.result);case 13:if(!("error"in(h=qf(a,Pm)))){t.next=16;break}throw h.error;case 16:return t.abrupt("return",h.result);case 17:if(!("error"in(c=qf(a,Rm)))){t.next=20;break}throw c.error;case 20:return f=c.result,t.abrupt("return",f?hp(hp({},f),{},{transactions:f.transactions.map((function(t){var e=t.transaction,r=t.meta,n=t.version;return{meta:r,transaction:hp(hp({},e),{},{message:vp(n,e.message)}),version:n}}))}):null);case 22:t.next=27;break;case 24:throw t.prev=24,t.t1=t.catch(5),new Xd(t.t1,"failed to get confirmed block");case 27:case"end":return t.stop()}}),t,this,[[5,24]])}))),function(t,e){return L.apply(this,arguments)})},{key:"getParsedBlock",value:(N=uf(pf().mark((function t(e,r){var n,i,s,o,a,u,h,c;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=dp(r),i=n.commitment,s=n.config,o=this._buildArgsAtLeastConfirmed([e],i,"jsonParsed",s),t.next=4,this._rpcRequest("getBlock",o);case 4:a=t.sent,t.prev=5,t.t0=null==s?void 0:s.transactionDetails,t.next="accounts"===t.t0?9:"none"===t.t0?13:17;break;case 9:if(!("error"in(u=qf(a,Um)))){t.next=12;break}throw u.error;case 12:return t.abrupt("return",u.result);case 13:if(!("error"in(h=qf(a,Nm)))){t.next=16;break}throw h.error;case 16:return t.abrupt("return",h.result);case 17:if(!("error"in(c=qf(a,Cm)))){t.next=20;break}throw c.error;case 20:return t.abrupt("return",c.result);case 21:t.next=26;break;case 23:throw t.prev=23,t.t1=t.catch(5),new Xd(t.t1,"failed to get block");case 26:case"end":return t.stop()}}),t,this,[[5,23]])}))),function(t,e){return N.apply(this,arguments)})},{key:"getBlockProduction",value:(U=uf(pf().mark((function t(e){var r,n,i,s,o,a,u;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e?n=e:e&&(i=e.commitment,s=Bf(e,op),n=i,r=s),o=this._buildArgs([],n,"base64",r),t.next=4,this._rpcRequest("getBlockProduction",o);case 4:if(a=t.sent,!("error"in(u=qf(a,Pp)))){t.next=8;break}throw new Xd(u.error,"failed to get block production information");case 8:return t.abrupt("return",u.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return U.apply(this,arguments)})},{key:"getTransaction",value:(C=uf(pf().mark((function t(e,r){var n,i,s,o,a,u,h;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=dp(r),i=n.commitment,s=n.config,o=this._buildArgsAtLeastConfirmed([e],i,void 0,s),t.next=4,this._rpcRequest("getTransaction",o);case 4:if(a=t.sent,!("error"in(u=qf(a,zm)))){t.next=8;break}throw new Xd(u.error,"failed to get transaction");case 8:if(h=u.result){t.next=11;break}return t.abrupt("return",h);case 11:return t.abrupt("return",hp(hp({},h),{},{transaction:hp(hp({},h.transaction),{},{message:vp(h.version,h.transaction.message)})}));case 12:case"end":return t.stop()}}),t,this)}))),function(t,e){return C.apply(this,arguments)})},{key:"getParsedTransaction",value:(O=uf(pf().mark((function t(e,r){var n,i,s,o,a,u;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=dp(r),i=n.commitment,s=n.config,o=this._buildArgsAtLeastConfirmed([e],i,"jsonParsed",s),t.next=4,this._rpcRequest("getTransaction",o);case 4:if(a=t.sent,!("error"in(u=qf(a,Dm)))){t.next=8;break}throw new Xd(u.error,"failed to get transaction");case 8:return t.abrupt("return",u.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return O.apply(this,arguments)})},{key:"getParsedTransactions",value:(P=uf(pf().mark((function t(e,r){var n,i,s,o,a,u,h=this;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=dp(r),i=n.commitment,s=n.config,o=e.map((function(t){return{methodName:"getTransaction",args:h._buildArgsAtLeastConfirmed([t],i,"jsonParsed",s)}})),t.next=4,this._rpcBatchRequest(o);case 4:return a=t.sent,u=a.map((function(t){var e=qf(t,Dm);if("error"in e)throw new Xd(e.error,"failed to get transactions");return e.result})),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return P.apply(this,arguments)})},{key:"getTransactions",value:(R=uf(pf().mark((function t(e,r){var n,i,s,o,a,u,h=this;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=dp(r),i=n.commitment,s=n.config,o=e.map((function(t){return{methodName:"getTransaction",args:h._buildArgsAtLeastConfirmed([t],i,void 0,s)}})),t.next=4,this._rpcBatchRequest(o);case 4:return a=t.sent,u=a.map((function(t){var e=qf(t,zm);if("error"in e)throw new Xd(e.error,"failed to get transactions");var r=e.result;return r?hp(hp({},r),{},{transaction:hp(hp({},r.transaction),{},{message:vp(r.version,r.transaction.message)})}):r})),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return R.apply(this,arguments)})},{key:"getConfirmedBlock",value:(B=uf(pf().mark((function t(e,r){var n,i,s,o,a;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgsAtLeastConfirmed([e],r),t.next=3,this._rpcRequest("getConfirmedBlock",n);case 3:if(i=t.sent,!("error"in(s=qf(i,Lm)))){t.next=7;break}throw new Xd(s.error,"failed to get confirmed block");case 7:if(o=s.result){t.next=10;break}throw new Error("Confirmed block "+e+" not found");case 10:return a=hp(hp({},o),{},{transactions:o.transactions.map((function(t){var e=t.transaction,r=t.meta,n=new md(e.message);return{meta:r,transaction:hp(hp({},e),{},{message:n})}}))}),t.abrupt("return",hp(hp({},a),{},{transactions:a.transactions.map((function(t){var e=t.transaction;return{meta:t.meta,transaction:Ed.populate(e.message,e.signatures)}}))}));case 12:case"end":return t.stop()}}),t,this)}))),function(t,e){return B.apply(this,arguments)})},{key:"getBlocks",value:(I=uf(pf().mark((function t(e,r,n){var i,s,o;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this._buildArgsAtLeastConfirmed(void 0!==r?[e,r]:[e],n),t.next=3,this._rpcRequest("getBlocks",i);case 3:if(s=t.sent,!("error"in(o=qf(s,gp(Hf(Vf())))))){t.next=7;break}throw new Xd(o.error,"failed to get blocks");case 7:return t.abrupt("return",o.result);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return I.apply(this,arguments)})},{key:"getBlockSignatures",value:(T=uf(pf().mark((function t(e,r){var n,i,s,o;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),t.next=3,this._rpcRequest("getBlock",n);case 3:if(i=t.sent,!("error"in(s=qf(i,qm)))){t.next=7;break}throw new Xd(s.error,"failed to get block");case 7:if(o=s.result){t.next=10;break}throw new Error("Block "+e+" not found");case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}}),t,this)}))),function(t,e){return T.apply(this,arguments)})},{key:"getConfirmedBlockSignatures",value:(x=uf(pf().mark((function t(e,r){var n,i,s,o;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),t.next=3,this._rpcRequest("getConfirmedBlock",n);case 3:if(i=t.sent,!("error"in(s=qf(i,qm)))){t.next=7;break}throw new Xd(s.error,"failed to get confirmed block");case 7:if(o=s.result){t.next=10;break}throw new Error("Confirmed block "+e+" not found");case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}}),t,this)}))),function(t,e){return x.apply(this,arguments)})},{key:"getConfirmedTransaction",value:(A=uf(pf().mark((function t(e,r){var n,i,s,o,a,u;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgsAtLeastConfirmed([e],r),t.next=3,this._rpcRequest("getConfirmedTransaction",n);case 3:if(i=t.sent,!("error"in(s=qf(i,zm)))){t.next=7;break}throw new Xd(s.error,"failed to get transaction");case 7:if(o=s.result){t.next=10;break}return t.abrupt("return",o);case 10:return a=new md(o.transaction.message),u=o.transaction.signatures,t.abrupt("return",hp(hp({},o),{},{transaction:Ed.populate(a,u)}));case 13:case"end":return t.stop()}}),t,this)}))),function(t,e){return A.apply(this,arguments)})},{key:"getParsedConfirmedTransaction",value:(E=uf(pf().mark((function t(e,r){var n,i,s;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),t.next=3,this._rpcRequest("getConfirmedTransaction",n);case 3:if(i=t.sent,!("error"in(s=qf(i,Dm)))){t.next=7;break}throw new Xd(s.error,"failed to get confirmed transaction");case 7:return t.abrupt("return",s.result);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return E.apply(this,arguments)})},{key:"getParsedConfirmedTransactions",value:(k=uf(pf().mark((function t(e,r){var n,i,s,o=this;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.map((function(t){return{methodName:"getConfirmedTransaction",args:o._buildArgsAtLeastConfirmed([t],r,"jsonParsed")}})),t.next=3,this._rpcBatchRequest(n);case 3:return i=t.sent,s=i.map((function(t){var e=qf(t,Dm);if("error"in e)throw new Xd(e.error,"failed to get confirmed transactions");return e.result})),t.abrupt("return",s);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return k.apply(this,arguments)})},{key:"getConfirmedSignaturesForAddress",value:(S=uf(pf().mark((function t(e,r,n){var i,s,o,a,u,h;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={},t.next=3,this.getFirstAvailableBlock();case 3:s=t.sent;case 4:if("until"in i){t.next=24;break}if(!(--r<=0||r<s)){t.next=8;break}return t.abrupt("break",24);case 8:return t.prev=8,t.next=11,this.getConfirmedBlockSignatures(r,"finalized");case 11:(o=t.sent).signatures.length>0&&(i.until=o.signatures[o.signatures.length-1].toString()),t.next=22;break;case 15:if(t.prev=15,t.t0=t.catch(8),!(t.t0 instanceof Error&&t.t0.message.includes("skipped"))){t.next=21;break}return t.abrupt("continue",4);case 21:throw t.t0;case 22:t.next=4;break;case 24:return t.next=26,this.getSlot("finalized");case 26:a=t.sent;case 27:if("before"in i){t.next=47;break}if(!(++n>a)){t.next=31;break}return t.abrupt("break",47);case 31:return t.prev=31,t.next=34,this.getConfirmedBlockSignatures(n);case 34:(u=t.sent).signatures.length>0&&(i.before=u.signatures[u.signatures.length-1].toString()),t.next=45;break;case 38:if(t.prev=38,t.t1=t.catch(31),!(t.t1 instanceof Error&&t.t1.message.includes("skipped"))){t.next=44;break}return t.abrupt("continue",27);case 44:throw t.t1;case 45:t.next=27;break;case 47:return t.next=49,this.getConfirmedSignaturesForAddress2(e,i);case 49:return h=t.sent,t.abrupt("return",h.map((function(t){return t.signature})));case 51:case"end":return t.stop()}}),t,this,[[8,15],[31,38]])}))),function(t,e,r){return S.apply(this,arguments)})},{key:"getConfirmedSignaturesForAddress2",value:(M=uf(pf().mark((function t(e,r,n){var i,s,o;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),t.next=3,this._rpcRequest("getConfirmedSignaturesForAddress2",i);case 3:if(s=t.sent,!("error"in(o=qf(s,Qp)))){t.next=7;break}throw new Xd(o.error,"failed to get confirmed signatures for address");case 7:return t.abrupt("return",o.result);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return M.apply(this,arguments)})},{key:"getSignaturesForAddress",value:(_=uf(pf().mark((function t(e,r,n){var i,s,o;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),t.next=3,this._rpcRequest("getSignaturesForAddress",i);case 3:if(s=t.sent,!("error"in(o=qf(s,tm)))){t.next=7;break}throw new Xd(o.error,"failed to get signatures for address");case 7:return t.abrupt("return",o.result);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return _.apply(this,arguments)})},{key:"getAddressLookupTable",value:(w=uf(pf().mark((function t(e,r){var n,i,s,o;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAccountInfoAndContext(e,r);case 2:return n=t.sent,i=n.context,s=n.value,o=null,null!==s&&(o=new ep({key:e,state:ep.deserialize(s.data)})),t.abrupt("return",{context:i,value:o});case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return w.apply(this,arguments)})},{key:"getNonceAndContext",value:(v=uf(pf().mark((function t(e,r){var n,i,s,o;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAccountInfoAndContext(e,r);case 2:return n=t.sent,i=n.context,s=n.value,o=null,null!==s&&(o=Ld.fromAccountData(s.data)),t.abrupt("return",{context:i,value:o});case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return v.apply(this,arguments)})},{key:"getNonce",value:(b=uf(pf().mark((function t(e,r){return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNonceAndContext(e,r).then((function(t){return t.value})).catch((function(t){throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return b.apply(this,arguments)})},{key:"requestAirdrop",value:(y=uf(pf().mark((function t(e,r){var n,i;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._rpcRequest("requestAirdrop",[e.toBase58(),r]);case 2:if(n=t.sent,!("error"in(i=qf(n,Wm)))){t.next=6;break}throw new Xd(i.error,"airdrop to ".concat(e.toBase58()," failed"));case 6:return t.abrupt("return",i.result);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return y.apply(this,arguments)})},{key:"_blockhashWithExpiryBlockHeight",value:(g=uf(pf().mark((function t(e){var r,n;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=10;break}case 1:if(!this._pollingBlockhash){t.next=6;break}return t.next=4,Pd(100);case 4:t.next=1;break;case 6:if(r=Date.now()-this._blockhashInfo.lastFetch,n=r>=3e4,null===this._blockhashInfo.latestBlockhash||n){t.next=10;break}return t.abrupt("return",this._blockhashInfo.latestBlockhash);case 10:return t.next=12,this._pollNewBlockhash();case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t,this)}))),function(t){return g.apply(this,arguments)})},{key:"_pollNewBlockhash",value:(m=uf(pf().mark((function t(){var e,r,n,i,s;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._pollingBlockhash=!0,t.prev=1,e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null,i=0;case 6:if(!(i<50)){t.next=18;break}return t.next=9,this.getLatestBlockhash("finalized");case 9:if(s=t.sent,n===s.blockhash){t.next=13;break}return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t.abrupt("return",s);case 13:return t.next=15,Pd(200);case 15:i++,t.next=6;break;case 18:throw new Error("Unable to obtain a new blockhash after ".concat(Date.now()-e,"ms"));case 19:return t.prev=19,this._pollingBlockhash=!1,t.finish(19);case 22:case"end":return t.stop()}}),t,this,[[1,,19,22]])}))),function(){return m.apply(this,arguments)})},{key:"getStakeMinimumDelegation",value:(p=uf(pf().mark((function t(e){var r,n,i,s,o,a;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=dp(e),n=r.commitment,i=r.config,s=this._buildArgs([],n,"base64",i),t.next=4,this._rpcRequest("getStakeMinimumDelegation",s);case 4:if(o=t.sent,!("error"in(a=qf(o,yp(Vf()))))){t.next=8;break}throw new Xd(a.error,"failed to get stake minimum delegation");case 8:return t.abrupt("return",a.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"simulateTransaction",value:(d=uf(pf().mark((function t(e,r,n){var i,s,o,a,u,h,c,f,l,d,p,m,g,y,b,v,w,_,M,S,k,E,A,x,T;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("message"in e)){t.next=17;break}if(i=e.serialize(),s=Ra.Buffer.from(i).toString("base64"),!Array.isArray(r)&&void 0===n){t.next=6;break}throw new Error("Invalid arguments");case 6:return(o=r||{}).encoding="base64","commitment"in o||(o.commitment=this.commitment),a=[s,o],t.next=12,this._rpcRequest("simulateTransaction",a);case 12:if(u=t.sent,!("error"in(h=qf(u,Rp)))){t.next=16;break}throw new Error("failed to simulate transaction: "+h.error.message);case 16:return t.abrupt("return",h.result);case 17:if(e instanceof Ed?(f=e,(c=new Ed).feePayer=f.feePayer,c.instructions=e.instructions,c.nonceInfo=f.nonceInfo,c.signatures=f.signatures):(c=Ed.populate(e))._message=c._json=void 0,void 0===r||Array.isArray(r)){t.next=20;break}throw new Error("Invalid arguments");case 20:if(l=r,!c.nonceInfo||!l){t.next=25;break}(d=c).sign.apply(d,If(l)),t.next=45;break;case 25:p=this._disableBlockhashCaching;case 26:return t.next=28,this._blockhashWithExpiryBlockHeight(p);case 28:if(g=t.sent,c.lastValidBlockHeight=g.lastValidBlockHeight,c.recentBlockhash=g.blockhash,l){t.next=33;break}return t.abrupt("break",45);case 33:if((m=c).sign.apply(m,If(l)),c.signature){t.next=36;break}throw new Error("!signature");case 36:if(y=c.signature.toString("base64"),this._blockhashInfo.simulatedSignatures.includes(y)||this._blockhashInfo.transactionSignatures.includes(y)){t.next=42;break}return this._blockhashInfo.simulatedSignatures.push(y),t.abrupt("break",45);case 42:p=!0;case 43:t.next=26;break;case 45:return b=c._compile(),v=b.serialize(),w=c._serialize(v),_=w.toString("base64"),M={encoding:"base64",commitment:this.commitment},n&&(S=(Array.isArray(n)?n:b.nonProgramIds()).map((function(t){return t.toBase58()})),M.accounts={encoding:"base64",addresses:S}),l&&(M.sigVerify=!0),k=[_,M],t.next=55,this._rpcRequest("simulateTransaction",k);case 55:if(E=t.sent,!("error"in(A=qf(E,Rp)))){t.next=60;break}throw"data"in A.error&&(x=A.error.data.logs)&&Array.isArray(x)&&(T="\n    "+x.join("\n    "),console.error(A.error.message,T)),new Zd("failed to simulate transaction: "+A.error.message,x);case 60:return t.abrupt("return",A.result);case 61:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return d.apply(this,arguments)})},{key:"sendTransaction",value:(l=uf(pf().mark((function t(e,r,n){var i,s,o,a,u,h;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("version"in e)){t.next=7;break}if(!r||!Array.isArray(r)){t.next=3;break}throw new Error("Invalid arguments");case 3:return i=e.serialize(),t.next=6,this.sendRawTransaction(i,r);case 6:return t.abrupt("return",t.sent);case 7:if(void 0!==r&&Array.isArray(r)){t.next=9;break}throw new Error("Invalid arguments");case 9:if(s=r,!e.nonceInfo){t.next=14;break}e.sign.apply(e,If(s)),t.next=32;break;case 14:o=this._disableBlockhashCaching;case 15:return t.next=17,this._blockhashWithExpiryBlockHeight(o);case 17:if(a=t.sent,e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign.apply(e,If(s)),e.signature){t.next=23;break}throw new Error("!signature");case 23:if(u=e.signature.toString("base64"),this._blockhashInfo.transactionSignatures.includes(u)){t.next=29;break}return this._blockhashInfo.transactionSignatures.push(u),t.abrupt("break",32);case 29:o=!0;case 30:t.next=15;break;case 32:return h=e.serialize(),t.next=35,this.sendRawTransaction(h,n);case 35:return t.abrupt("return",t.sent);case 36:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return l.apply(this,arguments)})},{key:"sendRawTransaction",value:(f=uf(pf().mark((function t(e,r){var n,i;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Vl(e).toString("base64"),t.next=3,this.sendEncodedTransaction(n,r);case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return f.apply(this,arguments)})},{key:"sendEncodedTransaction",value:(c=uf(pf().mark((function t(e,r){var n,i,s,o,a,u,h;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={encoding:"base64"},i=r&&r.skipPreflight,s=r&&r.preflightCommitment||this.commitment,r&&null!=r.maxRetries&&(n.maxRetries=r.maxRetries),r&&null!=r.minContextSlot&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s),o=[e,n],t.next=10,this._rpcRequest("sendTransaction",o);case 10:if(a=t.sent,!("error"in(u=qf(a,Vm)))){t.next=15;break}throw"data"in u.error&&(h=u.error.data.logs),new Zd("failed to send transaction: "+u.error.message,h);case 15:return t.abrupt("return",u.result);case 16:case"end":return t.stop()}}),t,this)}))),function(t,e){return c.apply(this,arguments)})},{key:"_wsOnOpen",value:function(){var t=this;this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((function(){uf(pf().mark((function e(){return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._rpcWebSocket.notify("ping");case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))()}),5e3),this._updateSubscriptions()}},{key:"_wsOnError",value:function(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}},{key:"_wsOnClose",value:function(t){var e=this;this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((function(t){var r=Af(t,2),n=r[0],i=r[1];e._setSubscription(n,hp(hp({},i),{},{state:"pending"}))}))):this._updateSubscriptions()}},{key:"_setSubscription",value:function(t,e){var r,n=null===(r=this._subscriptionsByHash[t])||void 0===r?void 0:r.state;if(this._subscriptionsByHash[t]=e,n!==e.state){var i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach((function(t){try{t(e.state)}catch(t){}}))}}},{key:"_onSubscriptionStateChange",value:function(t,e){var r,n=this,i=this._subscriptionHashByClientSubscriptionId[t];if(null==i)return function(){};var s=(r=this._subscriptionStateChangeCallbacksByHash)[i]||(r[i]=new Set);return s.add(e),function(){s.delete(e),0===s.size&&delete n._subscriptionStateChangeCallbacksByHash[i]}}},{key:"_updateSubscriptions",value:(h=uf(pf().mark((function t(){var e,r,n=this;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Object.keys(this._subscriptionsByHash).length){t.next=3;break}return this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((function(){n._rpcWebSocketIdleTimeout=null;try{n._rpcWebSocket.close()}catch(t){t instanceof Error&&console.log("Error when closing socket connection: ".concat(t.message))}}),500)),t.abrupt("return");case 3:if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),this._rpcWebSocketConnected){t.next=7;break}return this._rpcWebSocket.connect(),t.abrupt("return");case 7:return e=this._rpcWebSocketGeneration,r=function(){return e===n._rpcWebSocketGeneration},t.next=11,Promise.all(Object.keys(this._subscriptionsByHash).map(function(){var t=uf(pf().mark((function t(e){var i;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(i=n._subscriptionsByHash[e])){t.next=3;break}return t.abrupt("return");case 3:t.t0=i.state,t.next="pending"===t.t0||"unsubscribed"===t.t0?6:"subscribed"===t.t0?15:"subscribing"===t.t0||"unsubscribing"===t.t0?19:20;break;case 6:if(0!==i.callbacks.size){t.next=12;break}return delete n._subscriptionsByHash[e],"unsubscribed"===i.state&&delete n._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],t.next=11,n._updateSubscriptions();case 11:return t.abrupt("return");case 12:return t.next=14,uf(pf().mark((function t(){var s,o,a;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.args,o=i.method,t.prev=1,n._setSubscription(e,hp(hp({},i),{},{state:"subscribing"})),t.next=5,n._rpcWebSocket.call(o,s);case 5:return a=t.sent,n._setSubscription(e,hp(hp({},i),{},{serverSubscriptionId:a,state:"subscribed"})),n._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,t.next=10,n._updateSubscriptions();case 10:t.next=20;break;case 12:if(t.prev=12,t.t0=t.catch(1),t.t0 instanceof Error&&console.error("".concat(o," error for argument"),s,t.t0.message),r()){t.next=17;break}return t.abrupt("return");case 17:return n._setSubscription(e,hp(hp({},i),{},{state:"pending"})),t.next=20,n._updateSubscriptions();case 20:case"end":return t.stop()}}),t,null,[[1,12]])})))();case 14:case 18:case 19:return t.abrupt("break",20);case 15:if(0!==i.callbacks.size){t.next=18;break}return t.next=18,uf(pf().mark((function t(){var s,o;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.serverSubscriptionId,o=i.unsubscribeMethod,!n._subscriptionsAutoDisposedByRpc.has(s)){t.next=5;break}n._subscriptionsAutoDisposedByRpc.delete(s),t.next=21;break;case 5:return n._setSubscription(e,hp(hp({},i),{},{state:"unsubscribing"})),n._setSubscription(e,hp(hp({},i),{},{state:"unsubscribing"})),t.prev=7,t.next=10,n._rpcWebSocket.call(o,[s]);case 10:t.next=21;break;case 12:if(t.prev=12,t.t0=t.catch(7),t.t0 instanceof Error&&console.error("".concat(o," error:"),t.t0.message),r()){t.next=17;break}return t.abrupt("return");case 17:return n._setSubscription(e,hp(hp({},i),{},{state:"subscribed"})),t.next=20,n._updateSubscriptions();case 20:return t.abrupt("return");case 21:return n._setSubscription(e,hp(hp({},i),{},{state:"unsubscribed"})),t.next=24,n._updateSubscriptions();case 24:case"end":return t.stop()}}),t,null,[[7,12]])})))();case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 11:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"_handleServerNotification",value:function(t,e){var r=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==r&&r.forEach((function(t){try{t.apply(void 0,If(e))}catch(t){console.error(t)}}))}},{key:"_wsOnAccountNotification",value:function(t){var e=qf(t,em),r=e.result,n=e.subscription;this._handleServerNotification(n,[r.value,r.context])}},{key:"_makeSubscription",value:function(t,e){var r=this,n=this._nextClientSubscriptionId++,i=Wd([t.method,e],!0),s=this._subscriptionsByHash[i];return void 0===s?this._subscriptionsByHash[i]=hp(hp({},t),{},{args:e,callbacks:new Set([t.callback]),state:"pending"}):s.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=uf(pf().mark((function e(){var s;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete r._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete r._subscriptionHashByClientSubscriptionId[n],fd(void 0!==(s=r._subscriptionsByHash[i]),"Could not find a `Subscription` when tearing down client subscription #".concat(n)),s.callbacks.delete(t.callback),e.next=7,r._updateSubscriptions();case 7:case"end":return e.stop()}}),e)}))),this._updateSubscriptions(),n}},{key:"onAccountChange",value:function(t,e,r){var n=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},n)}},{key:"removeAccountChangeListener",value:(u=uf(pf().mark((function t(e){return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._unsubscribeClientSubscription(e,"account change");case 2:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"_wsOnProgramAccountNotification",value:function(t){var e=qf(t,nm),r=e.result,n=e.subscription;this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}},{key:"onProgramAccountChange",value:function(t,e,r,n){var i=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64",n?{filters:n}:void 0);return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}},{key:"removeProgramAccountChangeListener",value:(a=uf(pf().mark((function t(e){return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._unsubscribeClientSubscription(e,"program account change");case 2:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"onLogs",value:function(t,e,r){var n=this._buildArgs(["object"===Mh(t)?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}},{key:"removeOnLogsListener",value:(o=uf(pf().mark((function t(e){return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._unsubscribeClientSubscription(e,"logs");case 2:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"_wsOnLogsNotification",value:function(t){var e=qf(t,Jm),r=e.result,n=e.subscription;this._handleServerNotification(n,[r.value,r.context])}},{key:"_wsOnSlotNotification",value:function(t){var e=qf(t,sm),r=e.result,n=e.subscription;this._handleServerNotification(n,[r])}},{key:"onSlotChange",value:function(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}},{key:"removeSlotChangeListener",value:(s=uf(pf().mark((function t(e){return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._unsubscribeClientSubscription(e,"slot change");case 2:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"_wsOnSlotUpdatesNotification",value:function(t){var e=qf(t,am),r=e.result,n=e.subscription;this._handleServerNotification(n,[r])}},{key:"onSlotUpdate",value:function(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}},{key:"removeSlotUpdateListener",value:(i=uf(pf().mark((function t(e){return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._unsubscribeClientSubscription(e,"slot update");case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"_unsubscribeClientSubscription",value:(n=uf(pf().mark((function t(e,r){var n;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e])){t.next=6;break}return t.next=4,n();case 4:t.next=7;break;case 6:console.warn("Ignored unsubscribe request because an active subscription with id "+"`".concat(e,"` for '").concat(r,"' events ")+"could not be found.");case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"_buildArgs",value:function(t,e,r,n){var i=e||this._commitment;if(i||r||n){var s={};r&&(s.encoding=r),i&&(s.commitment=i),n&&(s=Object.assign(s,n)),t.push(s)}return t}},{key:"_buildArgsAtLeastConfirmed",value:function(t,e,r,n){var i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,n)}},{key:"_wsOnSignatureNotification",value:function(t){var e=qf(t,um),r=e.result,n=e.subscription;"receivedSignature"!==r.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===r.value?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}},{key:"onSignature",value:function(t,e,r){var n=this,i=this._buildArgs([t],r||this._commitment||"finalized"),s=this._makeSubscription({callback:function(t,r){if("status"===t.type){e(t.result,r);try{n.removeSignatureListener(s)}catch(t){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}},{key:"onSignatureWithOptions",value:function(t,e,r){var n=this,i=hp(hp({},r),{},{commitment:r&&r.commitment||this._commitment||"finalized"}),s=i.commitment,o=Bf(i,ap),a=this._buildArgs([t],s,void 0,o),u=this._makeSubscription({callback:function(t,r){e(t,r);try{n.removeSignatureListener(u)}catch(t){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return u}},{key:"removeSignatureListener",value:(r=uf(pf().mark((function t(e){return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._unsubscribeClientSubscription(e,"signature result");case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"_wsOnRootNotification",value:function(t){var e=qf(t,hm),r=e.result,n=e.subscription;this._handleServerNotification(n,[r])}},{key:"onRootChange",value:function(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}},{key:"removeRootChangeListener",value:(e=uf(pf().mark((function t(e){return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._unsubscribeClientSubscription(e,"root change");case 2:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}(),Ym=function(){function t(e){_h(this,t),this._keypair=void 0,this._keypair=null!=e?e:jl()}return Eh(t,[{key:"publicKey",get:function(){return new Yl(this._keypair.publicKey)}},{key:"secretKey",get:function(){return new Uint8Array(this._keypair.secretKey)}}],[{key:"generate",value:function(){return new t(jl())}},{key:"fromSecretKey",value:function(e,r){if(64!==e.byteLength)throw new Error("bad secret key size");var n=e.slice(32,64);if(!r||!r.skipValidation)for(var i=e.slice(0,32),s=Hl(i),o=0;o<32;o++)if(n[o]!==s[o])throw new Error("provided secretKey is invalid");return new t({publicKey:n,secretKey:e})}},{key:"fromSeed",value:function(e){var r=Hl(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}}]),t}(),Qm=Object.freeze({CreateLookupTable:{index:0,layout:Sf.n_([Sf.Jq("instruction"),qd("recentSlot"),Sf.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Sf.n_([Sf.Jq("instruction")])},ExtendLookupTable:{index:2,layout:Sf.n_([Sf.Jq("instruction"),qd(),Sf.A9(od(),Sf.cv(Sf.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Sf.n_([Sf.Jq("instruction")])},CloseLookupTable:{index:4,layout:Sf.n_([Sf.Jq("instruction")])}});(function(){function t(){_h(this,t)}return Eh(t,null,[{key:"createLookupTable",value:function(t){var e=Af(Yl.findProgramAddressSync([t.authority.toBuffer(),(0,xf.k$)(BigInt(t.recentSlot),8)],this.programId),2),r=e[0],n=e[1],i=Od(Qm.CreateLookupTable,{recentSlot:BigInt(t.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Dd.programId,isSigner:!1,isWritable:!1}];return[new kd({programId:this.programId,keys:s,data:i}),r]}},{key:"freezeLookupTable",value:function(t){var e=Od(Qm.FreezeLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new kd({programId:this.programId,keys:r,data:e})}},{key:"extendLookupTable",value:function(t){var e=Od(Qm.ExtendLookupTable,{addresses:t.addresses.map((function(t){return t.toBytes()}))}),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&r.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Dd.programId,isSigner:!1,isWritable:!1}),new kd({programId:this.programId,keys:r,data:e})}},{key:"deactivateLookupTable",value:function(t){var e=Od(Qm.DeactivateLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new kd({programId:this.programId,keys:r,data:e})}},{key:"closeLookupTable",value:function(t){var e=Od(Qm.CloseLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new kd({programId:this.programId,keys:r,data:e})}}]),t}()).programId=new Yl("AddressLookupTab1e1111111111111111111111111");var tg=Object.freeze({RequestUnits:{index:0,layout:Sf.n_([Sf.u8("instruction"),Sf.Jq("units"),Sf.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:Sf.n_([Sf.u8("instruction"),Sf.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:Sf.n_([Sf.u8("instruction"),Sf.Jq("units")])},SetComputeUnitPrice:{index:3,layout:Sf.n_([Sf.u8("instruction"),qd("microLamports")])}});(function(){function t(){_h(this,t)}return Eh(t,null,[{key:"requestUnits",value:function(t){var e=Od(tg.RequestUnits,t);return new kd({keys:[],programId:this.programId,data:e})}},{key:"requestHeapFrame",value:function(t){var e=Od(tg.RequestHeapFrame,t);return new kd({keys:[],programId:this.programId,data:e})}},{key:"setComputeUnitLimit",value:function(t){var e=Od(tg.SetComputeUnitLimit,t);return new kd({keys:[],programId:this.programId,data:e})}},{key:"setComputeUnitPrice",value:function(t){var e=Od(tg.SetComputeUnitPrice,{microLamports:BigInt(t.microLamports)});return new kd({keys:[],programId:this.programId,data:e})}}]),t}()).programId=new Yl("ComputeBudget111111111111111111111111111111");var eg=Sf.n_([Sf.u8("numSignatures"),Sf.u8("padding"),Sf.KB("signatureOffset"),Sf.KB("signatureInstructionIndex"),Sf.KB("publicKeyOffset"),Sf.KB("publicKeyInstructionIndex"),Sf.KB("messageDataOffset"),Sf.KB("messageDataSize"),Sf.KB("messageInstructionIndex")]),rg=function(){function t(){_h(this,t)}return Eh(t,null,[{key:"createInstructionWithPublicKey",value:function(e){var r=e.publicKey,n=e.message,i=e.signature,s=e.instructionIndex;fd(32===r.length,"Public Key must be ".concat(32," bytes but received ").concat(r.length," bytes")),fd(64===i.length,"Signature must be ".concat(64," bytes but received ").concat(i.length," bytes"));var o=eg.span,a=o+r.length,u=a+i.length,h=Ra.Buffer.alloc(u+n.length),c=null==s?65535:s;return eg.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:c,publicKeyOffset:o,publicKeyInstructionIndex:c,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:c},h),h.fill(r,o),h.fill(i,a),h.fill(n,u),new kd({keys:[],programId:t.programId,data:h})}},{key:"createInstructionWithPrivateKey",value:function(t){var e=t.privateKey,r=t.message,n=t.instructionIndex;fd(64===e.length,"Private key must be ".concat(64," bytes but received ").concat(e.length," bytes"));try{var i=Ym.fromSecretKey(e),s=i.publicKey.toBytes(),o=$l(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:o,instructionIndex:n})}catch(t){throw new Error("Error creating instruction; ".concat(t))}}}]),t}();rg.programId=new Yl("Ed25519SigVerify111111111111111111111111111"),Dl.utils.isValidPrivateKey;var ng=Dl.getPublicKey,ig=Sf.n_([Sf.u8("numSignatures"),Sf.KB("signatureOffset"),Sf.u8("signatureInstructionIndex"),Sf.KB("ethAddressOffset"),Sf.u8("ethAddressInstructionIndex"),Sf.KB("messageDataOffset"),Sf.KB("messageDataSize"),Sf.u8("messageInstructionIndex"),Sf.Ik(20,"ethAddress"),Sf.Ik(64,"signature"),Sf.u8("recoveryId")]),sg=function(){function t(){_h(this,t)}return Eh(t,null,[{key:"publicKeyToEthAddress",value:function(t){fd(64===t.length,"Public key must be ".concat(64," bytes but received ").concat(t.length," bytes"));try{return Ra.Buffer.from(Sl(Vl(t))).slice(-20)}catch(t){throw new Error("Error constructing Ethereum address: ".concat(t))}}},{key:"createInstructionWithPublicKey",value:function(e){var r=e.publicKey,n=e.message,i=e.signature,s=e.recoveryId,o=e.instructionIndex;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:o})}},{key:"createInstructionWithEthAddress",value:function(e){var r,n=e.ethAddress,i=e.message,s=e.signature,o=e.recoveryId,a=e.instructionIndex,u=void 0===a?0:a;fd(20===(r="string"==typeof n?n.startsWith("0x")?Ra.Buffer.from(n.substr(2),"hex"):Ra.Buffer.from(n,"hex"):n).length,"Address must be ".concat(20," bytes but received ").concat(r.length," bytes"));var h=12+r.length,c=h+s.length+1,f=Ra.Buffer.alloc(ig.span+i.length);return ig.encode({numSignatures:1,signatureOffset:h,signatureInstructionIndex:u,ethAddressOffset:12,ethAddressInstructionIndex:u,messageDataOffset:c,messageDataSize:i.length,messageInstructionIndex:u,signature:Vl(s),ethAddress:Vl(r),recoveryId:o},f),f.fill(Vl(i),ig.span),new kd({keys:[],programId:t.programId,data:f})}},{key:"createInstructionWithPrivateKey",value:function(t){var e=t.privateKey,r=t.message,n=t.instructionIndex;fd(32===e.length,"Private key must be ".concat(32," bytes but received ").concat(e.length," bytes"));try{var i=Vl(e),s=ng(i,!1).slice(1),o=function(t,e){var r=Dl.sign(t,e);return[r.toCompactRawBytes(),r.recovery]}(Ra.Buffer.from(Sl(Vl(r))),i),a=Af(o,2),u=a[0],h=a[1];return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:u,recoveryId:h,instructionIndex:n})}catch(t){throw new Error("Error creating instruction; ".concat(t))}}}]),t}();sg.programId=new Yl("KeccakSecp256k11111111111111111111111111111");var og=new Yl("StakeConfig11111111111111111111111111111111"),ag=Eh((function t(e,r,n){_h(this,t),this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}));ag.default=new ag(0,0,Yl.default);var ug=Object.freeze({Initialize:{index:0,layout:Sf.n_([Sf.Jq("instruction"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return Sf.n_([od("staker"),od("withdrawer")],t)}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return Sf.n_([Sf.gM("unixTimestamp"),Sf.gM("epoch"),od("custodian")],t)}()])},Authorize:{index:1,layout:Sf.n_([Sf.Jq("instruction"),od("newAuthorized"),Sf.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:Sf.n_([Sf.Jq("instruction")])},Split:{index:3,layout:Sf.n_([Sf.Jq("instruction"),Sf.gM("lamports")])},Withdraw:{index:4,layout:Sf.n_([Sf.Jq("instruction"),Sf.gM("lamports")])},Deactivate:{index:5,layout:Sf.n_([Sf.Jq("instruction")])},Merge:{index:7,layout:Sf.n_([Sf.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:Sf.n_([Sf.Jq("instruction"),od("newAuthorized"),Sf.Jq("stakeAuthorizationType"),ad("authoritySeed"),od("authorityOwner")])}}),hg=(Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),function(){function t(){_h(this,t)}return Eh(t,null,[{key:"initialize",value:function(t){var e=t.stakePubkey,r=t.authorized,n=t.lockup||ag.default,i=Od(ug.Initialize,{authorized:{staker:Vl(r.staker.toBuffer()),withdrawer:Vl(r.withdrawer.toBuffer())},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:Vl(n.custodian.toBuffer())}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Td,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new kd(s)}},{key:"createAccountWithSeed",value:function(t){var e=new Ed;e.add(Dd.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));var r=t.stakePubkey,n=t.authorized,i=t.lockup;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"createAccount",value:function(t){var e=new Ed;e.add(Dd.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));var r=t.stakePubkey,n=t.authorized,i=t.lockup;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"delegate",value:function(t){var e=t.stakePubkey,r=t.authorizedPubkey,n=t.votePubkey,i=Od(ug.Delegate);return(new Ed).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Ad,isSigner:!1,isWritable:!1},{pubkey:Id,isSigner:!1,isWritable:!1},{pubkey:og,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"authorize",value:function(t){var e=t.stakePubkey,r=t.authorizedPubkey,n=t.newAuthorizedPubkey,i=t.stakeAuthorizationType,s=t.custodianPubkey,o=Od(ug.Authorize,{newAuthorized:Vl(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Ad,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new Ed).add({keys:a,programId:this.programId,data:o})}},{key:"authorizeWithSeed",value:function(t){var e=t.stakePubkey,r=t.authorityBase,n=t.authoritySeed,i=t.authorityOwner,s=t.newAuthorizedPubkey,o=t.stakeAuthorizationType,a=t.custodianPubkey,u=Od(ug.AuthorizeWithSeed,{newAuthorized:Vl(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:Vl(i.toBuffer())}),h=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Ad,isSigner:!1,isWritable:!1}];return a&&h.push({pubkey:a,isSigner:!1,isWritable:!1}),(new Ed).add({keys:h,programId:this.programId,data:u})}},{key:"splitInstruction",value:function(t){var e=t.stakePubkey,r=t.authorizedPubkey,n=t.splitStakePubkey,i=t.lamports,s=Od(ug.Split,{lamports:i});return new kd({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}},{key:"split",value:function(t){var e=new Ed;return e.add(Dd.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),e.add(this.splitInstruction(t))}},{key:"splitWithSeed",value:function(t){var e=t.stakePubkey,r=t.authorizedPubkey,n=t.splitStakePubkey,i=t.basePubkey,s=t.seed,o=t.lamports,a=new Ed;return a.add(Dd.allocate({accountPubkey:n,basePubkey:i,seed:s,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:o}))}},{key:"merge",value:function(t){var e=t.stakePubkey,r=t.sourceStakePubKey,n=t.authorizedPubkey,i=Od(ug.Merge);return(new Ed).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ad,isSigner:!1,isWritable:!1},{pubkey:Id,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"withdraw",value:function(t){var e=t.stakePubkey,r=t.authorizedPubkey,n=t.toPubkey,i=t.lamports,s=t.custodianPubkey,o=Od(ug.Withdraw,{lamports:i}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Ad,isSigner:!1,isWritable:!1},{pubkey:Id,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new Ed).add({keys:a,programId:this.programId,data:o})}},{key:"deactivate",value:function(t){var e=t.stakePubkey,r=t.authorizedPubkey,n=Od(ug.Deactivate);return(new Ed).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Ad,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}]),t}());hg.programId=new Yl("Stake11111111111111111111111111111111111111"),hg.space=200;var cg=Object.freeze({InitializeAccount:{index:0,layout:Sf.n_([Sf.Jq("instruction"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return Sf.n_([od("nodePubkey"),od("authorizedVoter"),od("authorizedWithdrawer"),Sf.u8("commission")],t)}()])},Authorize:{index:1,layout:Sf.n_([Sf.Jq("instruction"),od("newAuthorized"),Sf.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:Sf.n_([Sf.Jq("instruction"),Sf.gM("lamports")])},AuthorizeWithSeed:{index:10,layout:Sf.n_([Sf.Jq("instruction"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteAuthorizeWithSeedArgs";return Sf.n_([Sf.Jq("voteAuthorizationType"),od("currentAuthorityDerivedKeyOwnerPubkey"),ad("currentAuthorityDerivedKeySeed"),od("newAuthorized")],t)}()])}}),fg=(Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),function(){function t(){_h(this,t)}return Eh(t,null,[{key:"initializeAccount",value:function(t){var e=t.votePubkey,r=t.nodePubkey,n=t.voteInit,i=Od(cg.InitializeAccount,{voteInit:{nodePubkey:Vl(n.nodePubkey.toBuffer()),authorizedVoter:Vl(n.authorizedVoter.toBuffer()),authorizedWithdrawer:Vl(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Td,isSigner:!1,isWritable:!1},{pubkey:Ad,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new kd(s)}},{key:"createAccount",value:function(t){var e=new Ed;return e.add(Dd.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}},{key:"authorize",value:function(t){var e=t.votePubkey,r=t.authorizedPubkey,n=t.newAuthorizedPubkey,i=t.voteAuthorizationType,s=Od(cg.Authorize,{newAuthorized:Vl(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Ad,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Ed).add({keys:o,programId:this.programId,data:s})}},{key:"authorizeWithSeed",value:function(t){var e=t.currentAuthorityDerivedKeyBasePubkey,r=t.currentAuthorityDerivedKeyOwnerPubkey,n=t.currentAuthorityDerivedKeySeed,i=t.newAuthorizedPubkey,s=t.voteAuthorizationType,o=t.votePubkey,a=Od(cg.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Vl(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:Vl(i.toBuffer()),voteAuthorizationType:s.index}}),u=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Ad,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new Ed).add({keys:u,programId:this.programId,data:a})}},{key:"withdraw",value:function(t){var e=t.votePubkey,r=t.authorizedWithdrawerPubkey,n=t.lamports,i=t.toPubkey,s=Od(cg.Withdraw,{lamports:n}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Ed).add({keys:o,programId:this.programId,data:s})}},{key:"safeWithdraw",value:function(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}}]),t}());fg.programId=new Yl("Vote111111111111111111111111111111111111111"),fg.space=3731,new Yl("Va1idator1nfo111111111111111111111111111111"),Yf({name:Zf(),website:Gf(Zf()),details:Gf(Zf()),keybaseUsername:Gf(Zf())}),new Yl("Vote111111111111111111111111111111111111111"),Sf.n_([od("nodePubkey"),od("authorizedWithdrawer"),Sf.u8("commission"),Sf._O(),Sf.A9(Sf.n_([Sf._O("slot"),Sf.Jq("confirmationCount")]),Sf.cv(Sf.Jq(),-8),"votes"),Sf.u8("rootSlotValid"),Sf._O("rootSlot"),Sf._O(),Sf.A9(Sf.n_([Sf._O("epoch"),od("authorizedVoter")]),Sf.cv(Sf.Jq(),-8),"authorizedVoters"),Sf.n_([Sf.A9(Sf.n_([od("authorizedPubkey"),Sf._O("epochOfLastAuthorizedSwitch"),Sf._O("targetEpoch")]),32,"buf"),Sf._O("idx"),Sf.u8("isEmpty")],"priorVoters"),Sf._O(),Sf.A9(Sf.n_([Sf._O("epoch"),Sf._O("credits"),Sf._O("prevCredits")]),Sf.cv(Sf.Jq(),-8),"epochCredits"),Sf.n_([Sf._O("slot"),Sf._O("timestamp")],"lastTimestamp")]);var lg=__webpack_require__(8764).Buffer;class dg extends hh{signer;minConfirm=1;constructor(t){super(t),this.base=["lamports",1e9]}async getProvider(){return this.providerInstance||(this.providerInstance=new Xm(this.providerUrl,{confirmTransactionInitialTimeout:6e4,commitment:"confirmed"})),this.providerInstance}async getTx(t){const e=await this.getProvider(),r=await e.getTransaction(t,{commitment:"confirmed"});if(!r)throw new Error("Confirmed tx not found");const n=await e.getSlot("confirmed");if(!r.meta)throw new Error(`Unable to resolve transaction ${t}`);const i=new le(r.meta.postBalances[1]).minus(new le(r.meta.preBalances[1]));return{from:r.transaction.message.accountKeys[0].toBase58(),to:r.transaction.message.accountKeys[1].toBase58(),amount:i,blockHeight:new le(r.slot),pending:!1,confirmed:n-r.slot>=1}}ownerToAddress(t){return"string"==typeof t&&(t=lg.from(t)),gh.encode(t)}async sign(t){return await(await this.getSigner()).sign(t)}getSigner(){return this.signer||(this.signer=new Ya(this.wallet)),this.signer}verify(t,e,r){return Ya.verify(t,e,r)}async getCurrentHeight(){return new le((await(await this.getProvider()).getEpochInfo()).blockHeight??0)}async getFee(t,e){return new le(5e3)}async sendTx(t){return await this.wallet.sendTransaction(t,await this.getProvider(),{skipPreflight:!0})}async createTx(t,e,r){const n=new Yl(await this.getPublicKey()),i=await de((async t=>{try{return await(await this.getProvider()).getRecentBlockhash()}catch(e){if(e.message?.includes("blockhash"))throw e;throw t(e),new Error("Unreachable")}}),{retries:3,minTimeout:1e3}),s=new Ed({recentBlockhash:i.blockhash,feePayer:n});return s.add(Dd.transfer({fromPubkey:n,toPubkey:new Yl(e),lamports:+new le(t).toNumber()})),{tx:s,txId:void 0}}async getPublicKey(){if(!this.wallet.publicKey)throw new Error("Wallet.publicKey is undefined");return this.wallet.publicKey.toBuffer()}}const pg="abi/5.7.0",mg=new Fn(pg);class gg{constructor(t,e,r,n){this.name=t,this.type=e,this.localName=r,this.dynamic=n}_throwError(t,e){mg.throwArgumentError(t,this.localName,e)}}class yg{constructor(t){os(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return ii(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(Xn(t._data))}writeBytes(t){let e=Zn(t);const r=e.length%this.wordSize;return r&&(e=Xn([e,this._padding.slice(r)])),this._writeData(e)}_getValue(t){let e=Zn(As.from(t));return e.length>this.wordSize&&mg.throwError("value out-of-bounds",Fn.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=Xn([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class bg{constructor(t,e,r,n){os(this,"_data",Zn(t)),os(this,"wordSize",e||32),os(this,"_coerceFunc",r),os(this,"allowLoose",n),this._offset=0}get data(){return ei(this._data)}get consumed(){return this._offset}static coerce(t,e){let r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):bg.coerce(t,e)}_peekBytes(t,e,r){let n=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?n=e:mg.throwError("data out-of-bounds",Fn.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(t){return new bg(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}readValue(){return As.from(this.readBytes(this.wordSize))}}class vg extends gg{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{e=Ds(e)}catch(t){this._throwError(t.message,e)}return t.writeValue(e)}decode(t){return Ds(si(t.readValue().toHexString(),20))}}class wg extends gg{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const _g=new Fn(pg);function Mg(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let t={};n=e.map((e=>{const n=e.localName;return n||_g.throwError("cannot encode object for signature with missing names",Fn.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]&&_g.throwError("cannot encode object for signature with duplicate names",Fn.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]=!0,r[n]}))}else _g.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&_g.throwArgumentError("types/value length mismatch","tuple",r);let i=new yg(t.wordSize),s=new yg(t.wordSize),o=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=s.length;t.encode(s,r);let n=i.writeUpdatableValue();o.push((t=>{n(t+e)}))}else t.encode(i,r)})),o.forEach((t=>{t(i.length)}));let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function Sg(t,e){let r=[],n=t.subReader(0);e.forEach((e=>{let i=null;if(e.dynamic){let r=t.readValue(),s=n.subReader(r.toNumber());try{i=e.decode(s)}catch(t){if(t.code===Fn.errors.BUFFER_OVERRUN)throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(t){if(t.code===Fn.errors.BUFFER_OVERRUN)throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}null!=i&&r.push(i)}));const i=e.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});e.forEach(((t,e)=>{let n=t.localName;if(!n||1!==i[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const s=r[e];s instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw s}}):r[n]=s}));for(let t=0;t<r.length;t++){const e=r[t];e instanceof Error&&Object.defineProperty(r,t,{enumerable:!0,get:()=>{throw e}})}return Object.freeze(r)}class kg extends gg{constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),_g.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let t=0;t<e.length;t++)n.push(this.coder);return Mg(t,n,e)}decode(t){let e=this.length;-1===e&&(e=t.readValue().toNumber(),32*e>t._data.length&&_g.throwError("insufficient data length",Fn.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let r=[];for(let t=0;t<e;t++)r.push(new wg(this.coder));return t.coerce(this.name,Sg(t,r))}}class Eg extends gg{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class Ag extends gg{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=Zn(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class xg extends Ag{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,ei(super.decode(t)))}}class Tg extends gg{constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=Zn(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return t.coerce(this.name,ei(t.readBytes(this.size)))}}class Ig extends gg{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const Bg=As.from(-1),Rg=As.from(0),Pg=As.from(1),Og=As.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Cg extends gg{constructor(t,e,r){const n=(e?"int":"uint")+8*t;super(n,n,r,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(t,e){let r=As.from(e),n=Og.mask(8*t.wordSize);if(this.signed){let t=n.mask(8*this.size-1);(r.gt(t)||r.lt(t.add(Pg).mul(Bg)))&&this._throwError("value out-of-bounds",e)}else(r.lt(Rg)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(r)}decode(t){let e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}class Ug extends Ag{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,gi(e))}decode(t){return yi(super.decode(t))}}class Ng extends gg{constructor(t,e){let r=!1;const n=[];t.forEach((t=>{t.dynamic&&(r=!0),n.push(t.type)})),super("tuple","tuple("+n.join(",")+")",e,r),this.coders=t}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===e[i]&&("length"===i&&(i="_length"),null==t[i]&&(t[i]=t[n]))})),Object.freeze(t)}encode(t,e){return Mg(t,this.coders,e)}decode(t){return t.coerce(this.name,Sg(t,this.coders))}}const Lg=new Fn(pg),qg={};let zg={calldata:!0,memory:!0,storage:!0},Dg={calldata:!0,memory:!0};function jg(t,e){if("bytes"===t||"string"===t){if(zg[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&Dg[e])return!0;return(zg[e]||"payable"===e)&&Lg.throwArgumentError("invalid modifier","name",e),!1}function Hg(t,e){for(let r in e)os(t,r,e[r])}const Fg=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Kg=new RegExp(/^(.*)\[([0-9]*)\]$/);class $g{constructor(t,e){t!==qg&&Lg.throwError("use fromString",Fn.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Hg(this,e);let r=this.type.match(Kg);Hg(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:$g.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=Fg.sighash),Fg[t]||Lg.throwArgumentError("invalid format type","format",t),t===Fg.json){let e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(e)}let e="";return"array"===this.baseType?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==Fg.sighash&&(e+=this.type),e+="("+this.components.map((e=>e.format(t))).join(t===Fg.full?", ":",")+")"):e+=this.type,t!==Fg.sighash&&(!0===this.indexed&&(e+=" indexed"),t===Fg.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return"string"==typeof t?$g.fromString(t,e):$g.fromObject(t)}static fromObject(t){return $g.isParamType(t)?t:new $g(qg,{name:t.name||null,type:ry(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map($g.fromObject):null})}static fromString(t,e){return r=function(t,e){let r=t;function n(e){Lg.throwArgumentError(`unexpected character at position ${e}`,"param",t)}function i(t){let r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");let s={type:"",name:"",state:{allowType:!0}},o=s;for(let r=0;r<t.length;r++){let s=t[r];switch(s){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||n(r),o.state.allowType=!1,o.type=ry(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(e||n(r),o.indexed=!0,o.name=""),jg(o.type,o.name)&&(o.name=""),o.type=ry(o.type);let t=o;o=o.parent,o||n(r),delete t.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(e||n(r),o.indexed=!0,o.name=""),jg(o.type,o.name)&&(o.name=""),o.type=ry(o.type);let a=i(o.parent);o.parent.components.push(a),delete o.parent,o=a;break;case" ":o.state.allowType&&""!==o.type&&(o.type=ry(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(e||n(r),o.indexed&&n(r),o.indexed=!0,o.name=""):jg(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(r),o.type+=s,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(r),o.type+=s,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=s,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=s,delete o.state.allowArray):o.state.readArray?o.type+=s:n(r)}}return o.parent&&Lg.throwArgumentError("unexpected eof","param",t),delete s.state,"indexed"===o.name?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):jg(o.type,o.name)&&(o.name=""),s.type=ry(s.type),s}(t,!!e),$g.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(t){return!(null==t||!t._isParamType)}}function Wg(t,e){return function(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];","===s&&0===n?(e.push(r),r=""):(r+=s,"("===s?n++:")"===s&&(n--,-1===n&&Lg.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}(t).map((t=>$g.fromString(t,e)))}class Vg{constructor(t,e){t!==qg&&Lg.throwError("use a static from method",Fn.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Hg(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return Vg.isFragment(t)?t:"string"==typeof t?Vg.fromString(t):Vg.fromObject(t)}static fromObject(t){if(Vg.isFragment(t))return t;switch(t.type){case"function":return Qg.fromObject(t);case"event":return Gg.fromObject(t);case"constructor":return Yg.fromObject(t);case"error":return ey.fromObject(t);case"fallback":case"receive":return null}return Lg.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Gg.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?Qg.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?Yg.fromString(t.trim()):"error"===t.split(" ")[0]?ey.fromString(t.substring(5).trim()):Lg.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!(!t||!t._isFragment)}}class Gg extends Vg{format(t){if(t||(t=Fg.sighash),Fg[t]||Lg.throwArgumentError("invalid format type","format",t),t===Fg.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Fg.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Fg.full?", ":",")+") ",t!==Fg.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return"string"==typeof t?Gg.fromString(t):Gg.fromObject(t)}static fromObject(t){if(Gg.isEventFragment(t))return t;"event"!==t.type&&Lg.throwArgumentError("invalid event object","value",t);const e={name:iy(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map($g.fromObject):[],type:"event"};return new Gg(qg,e)}static fromString(t){let e=t.match(sy);e||Lg.throwArgumentError("invalid event string","value",t);let r=!1;return e[3].split(" ").forEach((t=>{switch(t.trim()){case"anonymous":r=!0;break;case"":break;default:Lg.warn("unknown modifier: "+t)}})),Gg.fromObject({name:e[1].trim(),anonymous:r,inputs:Wg(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&"event"===t.type}}function Jg(t,e){e.gas=null;let r=t.split("@");return 1!==r.length?(r.length>2&&Lg.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Lg.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=As.from(r[1]),r[0]):t}function Zg(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach((t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}}))}function Xg(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&Lg.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&Lg.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||Lg.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Lg.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&Lg.throwArgumentError("unable to determine stateMutability","value",t),e}class Yg extends Vg{format(t){if(t||(t=Fg.sighash),Fg[t]||Lg.throwArgumentError("invalid format type","format",t),t===Fg.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});t===Fg.sighash&&Lg.throwError("cannot format a constructor for sighash",Fn.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map((e=>e.format(t))).join(t===Fg.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}static from(t){return"string"==typeof t?Yg.fromString(t):Yg.fromObject(t)}static fromObject(t){if(Yg.isConstructorFragment(t))return t;"constructor"!==t.type&&Lg.throwArgumentError("invalid constructor object","value",t);let e=Xg(t);e.constant&&Lg.throwArgumentError("constructor cannot be constant","value",t);const r={name:null,type:t.type,inputs:t.inputs?t.inputs.map($g.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?As.from(t.gas):null};return new Yg(qg,r)}static fromString(t){let e={type:"constructor"},r=(t=Jg(t,e)).match(sy);return r&&"constructor"===r[1].trim()||Lg.throwArgumentError("invalid constructor string","value",t),e.inputs=Wg(r[2].trim(),!1),Zg(r[3].trim(),e),Yg.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&"constructor"===t.type}}class Qg extends Yg{format(t){if(t||(t=Fg.sighash),Fg[t]||Lg.throwArgumentError("invalid format type","format",t),t===Fg.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Fg.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Fg.full?", ":",")+") ",t!==Fg.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map((e=>e.format(t))).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return"string"==typeof t?Qg.fromString(t):Qg.fromObject(t)}static fromObject(t){if(Qg.isFunctionFragment(t))return t;"function"!==t.type&&Lg.throwArgumentError("invalid function object","value",t);let e=Xg(t);const r={type:t.type,name:iy(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map($g.fromObject):[],outputs:t.outputs?t.outputs.map($g.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?As.from(t.gas):null};return new Qg(qg,r)}static fromString(t){let e={type:"function"},r=(t=Jg(t,e)).split(" returns ");r.length>2&&Lg.throwArgumentError("invalid function string","value",t);let n=r[0].match(sy);if(n||Lg.throwArgumentError("invalid function signature","value",t),e.name=n[1].trim(),e.name&&iy(e.name),e.inputs=Wg(n[2],!1),Zg(n[3].trim(),e),r.length>1){let n=r[1].match(sy);""==n[1].trim()&&""==n[3].trim()||Lg.throwArgumentError("unexpected tokens","value",t),e.outputs=Wg(n[2],!1)}else e.outputs=[];return Qg.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&"function"===t.type}}function ty(t){const e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||Lg.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class ey extends Vg{format(t){if(t||(t=Fg.sighash),Fg[t]||Lg.throwArgumentError("invalid format type","format",t),t===Fg.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Fg.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Fg.full?", ":",")+") ",e.trim()}static from(t){return"string"==typeof t?ey.fromString(t):ey.fromObject(t)}static fromObject(t){if(ey.isErrorFragment(t))return t;"error"!==t.type&&Lg.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:iy(t.name),inputs:t.inputs?t.inputs.map($g.fromObject):[]};return ty(new ey(qg,e))}static fromString(t){let e={type:"error"},r=t.match(sy);return r||Lg.throwArgumentError("invalid error signature","value",t),e.name=r[1].trim(),e.name&&iy(e.name),e.inputs=Wg(r[2],!1),ty(ey.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&"error"===t.type}}function ry(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const ny=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function iy(t){return t&&t.match(ny)||Lg.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const sy=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),oy=new Fn(pg),ay=new RegExp(/^bytes([0-9]*)$/),uy=new RegExp(/^(u?int)([0-9]*)$/),hy=new class{constructor(t){os(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new vg(t.name);case"bool":return new Eg(t.name);case"string":return new Ug(t.name);case"bytes":return new xg(t.name);case"array":return new kg(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new Ng((t.components||[]).map((t=>this._getCoder(t))),t.name);case"":return new Ig(t.name)}let e=t.type.match(uy);if(e){let r=parseInt(e[2]||"256");return(0===r||r>256||r%8!=0)&&oy.throwArgumentError("invalid "+e[1]+" bit length","param",t),new Cg(r/8,"int"===e[1],t.name)}if(e=t.type.match(ay),e){let r=parseInt(e[1]);return(0===r||r>32)&&oy.throwArgumentError("invalid bytes length","param",t),new Tg(r,t.name)}return oy.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new bg(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new yg(this._getWordSize())}getDefaultValue(t){const e=t.map((t=>this._getCoder($g.from(t))));return new Ng(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&oy.throwError("types/values length mismatch",Fn.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const r=t.map((t=>this._getCoder($g.from(t)))),n=new Ng(r,"_"),i=this._getWriter();return n.encode(i,e),i.data}decode(t,e,r){const n=t.map((t=>this._getCoder($g.from(t))));return new Ng(n,"_").decode(this._getReader(Zn(e),r))}},cy=new Fn(pg);class fy extends ps{}class ly extends ps{}class dy extends ps{}class py extends ps{static isIndexed(t){return!(!t||!t._isIndexed)}}const my={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function gy(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class yy{constructor(t){let e=[];e="string"==typeof t?JSON.parse(t):t,os(this,"fragments",e.map((t=>Vg.from(t))).filter((t=>null!=t))),os(this,"_abiCoder",as(new.target,"getAbiCoder")()),os(this,"functions",{}),os(this,"errors",{}),os(this,"events",{}),os(this,"structs",{}),this.fragments.forEach((t=>{let e=null;switch(t.type){case"constructor":return this.deploy?void cy.warn("duplicate definition - constructor"):void os(this,"deploy",t);case"function":e=this.functions;break;case"event":e=this.events;break;case"error":e=this.errors;break;default:return}let r=t.format();e[r]?cy.warn("duplicate definition - "+r):e[r]=t})),this.deploy||os(this,"deploy",Yg.from({payable:!1,type:"constructor"})),os(this,"_isInterface",!0)}format(t){t||(t=Fg.full),t===Fg.sighash&&cy.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map((e=>e.format(t)));return t===Fg.json?JSON.stringify(e.map((t=>JSON.parse(t)))):e}static getAbiCoder(){return hy}static getAddress(t){return Ds(t)}static getSighash(t){return ni(oo(t.format()),0,4)}static getEventTopic(t){return oo(t.format())}getFunction(t){if(Qn(t)){for(const e in this.functions)if(t===this.getSighash(e))return this.functions[e];cy.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.functions).filter((t=>t.split("(")[0]===e));return 0===r.length?cy.throwArgumentError("no matching function","name",e):r.length>1&&cy.throwArgumentError("multiple matching functions","name",e),this.functions[r[0]]}const e=this.functions[Qg.fromString(t).format()];return e||cy.throwArgumentError("no matching function","signature",t),e}getEvent(t){if(Qn(t)){const e=t.toLowerCase();for(const t in this.events)if(e===this.getEventTopic(t))return this.events[t];cy.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.events).filter((t=>t.split("(")[0]===e));return 0===r.length?cy.throwArgumentError("no matching event","name",e):r.length>1&&cy.throwArgumentError("multiple matching events","name",e),this.events[r[0]]}const e=this.events[Gg.fromString(t).format()];return e||cy.throwArgumentError("no matching event","signature",t),e}getError(t){if(Qn(t)){const e=as(this.constructor,"getSighash");for(const r in this.errors)if(t===e(this.errors[r]))return this.errors[r];cy.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.errors).filter((t=>t.split("(")[0]===e));return 0===r.length?cy.throwArgumentError("no matching error","name",e):r.length>1&&cy.throwArgumentError("multiple matching errors","name",e),this.errors[r[0]]}const e=this.errors[Qg.fromString(t).format()];return e||cy.throwArgumentError("no matching error","signature",t),e}getSighash(t){if("string"==typeof t)try{t=this.getFunction(t)}catch(e){try{t=this.getError(t)}catch(t){throw e}}return as(this.constructor,"getSighash")(t)}getEventTopic(t){return"string"==typeof t&&(t=this.getEvent(t)),as(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){"string"==typeof t&&(t=this.getError(t));const r=Zn(e);return ei(r.slice(0,4))!==this.getSighash(t)&&cy.throwArgumentError(`data signature does not match error ${t.name}.`,"data",ei(r)),this._decodeParams(t.inputs,r.slice(4))}encodeErrorResult(t,e){return"string"==typeof t&&(t=this.getError(t)),ei(Xn([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionData(t,e){"string"==typeof t&&(t=this.getFunction(t));const r=Zn(e);return ei(r.slice(0,4))!==this.getSighash(t)&&cy.throwArgumentError(`data signature does not match function ${t.name}.`,"data",ei(r)),this._decodeParams(t.inputs,r.slice(4))}encodeFunctionData(t,e){return"string"==typeof t&&(t=this.getFunction(t)),ei(Xn([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){"string"==typeof t&&(t=this.getFunction(t));let r=Zn(e),n=null,i="",s=null,o=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch(t){}break;case 4:{const t=ei(r.slice(0,4)),e=my[t];if(e)s=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,a=e.signature,e.reason&&(n=s[0]),"Error"===o?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:"Panic"===o&&(i=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const e=this.getError(t);s=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,a=e.format()}catch(t){}break}}return cy.throwError("call revert exception"+i,Fn.errors.CALL_EXCEPTION,{method:t.format(),data:ei(e),errorArgs:s,errorName:o,errorSignature:a,reason:n})}encodeFunctionResult(t,e){return"string"==typeof t&&(t=this.getFunction(t)),ei(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){"string"==typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&cy.throwError("too many arguments for "+t.format(),Fn.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let r=[];t.anonymous||r.push(this.getEventTopic(t));const n=(t,e)=>"string"===t.type?oo(e):"bytes"===t.type?ci(ei(e)):("bool"===t.type&&"boolean"==typeof e&&(e=e?"0x01":"0x00"),t.type.match(/^u?int/)&&(e=As.from(e).toHexString()),"address"===t.type&&this._abiCoder.encode(["address"],[e]),si(ei(e),32));for(e.forEach(((e,i)=>{let s=t.inputs[i];s.indexed?null==e?r.push(null):"array"===s.baseType||"tuple"===s.baseType?cy.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,e):Array.isArray(e)?r.push(e.map((t=>n(s,t)))):r.push(n(s,e)):null!=e&&cy.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){"string"==typeof t&&(t=this.getEvent(t));const r=[],n=[],i=[];return t.anonymous||r.push(this.getEventTopic(t)),e.length!==t.inputs.length&&cy.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach(((t,s)=>{const o=e[s];if(t.indexed)if("string"===t.type)r.push(oo(o));else if("bytes"===t.type)r.push(ci(o));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([t.type],[o]))}else n.push(t),i.push(o)})),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(t,e,r){if("string"==typeof t&&(t=this.getEvent(t)),null!=r&&!t.anonymous){let e=this.getEventTopic(t);Qn(r[0],32)&&r[0].toLowerCase()===e||cy.throwError("fragment/topic mismatch",Fn.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:e,value:r[0]}),r=r.slice(1)}let n=[],i=[],s=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(n.push($g.fromObject({type:"bytes32",name:t.name})),s.push(!0)):(n.push(t),s.push(!1)):(i.push(t),s.push(!1))}));let o=null!=r?this._abiCoder.decode(n,Xn(r)):null,a=this._abiCoder.decode(i,e,!0),u=[],h=0,c=0;t.inputs.forEach(((t,e)=>{if(t.indexed)if(null==o)u[e]=new py({_isIndexed:!0,hash:null});else if(s[e])u[e]=new py({_isIndexed:!0,hash:o[c++]});else try{u[e]=o[c++]}catch(t){u[e]=t}else try{u[e]=a[h++]}catch(t){u[e]=t}if(t.name&&null==u[t.name]){const r=u[e];r instanceof Error?Object.defineProperty(u,t.name,{enumerable:!0,get:()=>{throw gy(`property ${JSON.stringify(t.name)}`,r)}}):u[t.name]=r}}));for(let t=0;t<u.length;t++){const e=u[t];e instanceof Error&&Object.defineProperty(u,t,{enumerable:!0,get:()=>{throw gy(`index ${t}`,e)}})}return Object.freeze(u)}parseTransaction(t){let e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new ly({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:As.from(t.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new fy({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}parseError(t){const e=ei(t);let r=this.getError(e.substring(0,10).toLowerCase());return r?new dy({args:this._abiCoder.decode(r.inputs,"0x"+e.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(t){return!(!t||!t._isInterface)}}var by=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};const vy=new Fn("contracts/5.7.0");function wy(t,e){return by(this,void 0,void 0,(function*(){const r=yield e;"string"!=typeof r&&vy.throwArgumentError("invalid address or ENS name","name",r);try{return Ds(r)}catch(t){}t||vy.throwError("a provider or signer is needed to resolve ENS names",Fn.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return null==n&&vy.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n}))}function _y(t,e,r){return by(this,void 0,void 0,(function*(){return Array.isArray(r)?yield Promise.all(r.map(((r,n)=>_y(t,Array.isArray(e)?e[n]:e[r.name],r)))):"address"===r.type?yield wy(t,e):"tuple"===r.type?yield _y(t,e,r.components):"array"===r.baseType?Array.isArray(e)?yield Promise.all(e.map((e=>_y(t,e,r.arrayChildren)))):Promise.reject(vy.makeError("invalid value for array",Fn.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e}))}function My(t,e,r){return by(this,void 0,void 0,(function*(){let n={};r.length===e.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=hs(r.pop())),vy.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=us({override:wy(t.signer,n.from),signer:t.signer.getAddress()}).then((t=>by(this,void 0,void 0,(function*(){return Ds(t.signer)!==t.override&&vy.throwError("Contract with a Signer cannot override from",Fn.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),t.override})))):n.from=t.signer.getAddress():n.from&&(n.from=wy(t.provider,n.from));const i=yield us({args:_y(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:us(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(null!=a.nonce&&(o.nonce=As.from(a.nonce).toNumber()),null!=a.gasLimit&&(o.gasLimit=As.from(a.gasLimit)),null!=a.gasPrice&&(o.gasPrice=As.from(a.gasPrice)),null!=a.maxFeePerGas&&(o.maxFeePerGas=As.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(o.maxPriorityFeePerGas=As.from(a.maxPriorityFeePerGas)),null!=a.from&&(o.from=a.from),null!=a.type&&(o.type=a.type),null!=a.accessList&&(o.accessList=Js(a.accessList)),null==o.gasLimit&&null!=e.gas){let t=21e3;const r=Zn(s);for(let e=0;e<r.length;e++)t+=4,r[e]&&(t+=64);o.gasLimit=As.from(e.gas).add(t)}if(a.value){const t=As.from(a.value);t.isZero()||e.payable||vy.throwError("non-payable method cannot override value",Fn.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=t}a.customData&&(o.customData=hs(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const u=Object.keys(n).filter((t=>null!=n[t]));return u.length&&vy.throwError(`cannot override ${u.map((t=>JSON.stringify(t))).join(",")}`,Fn.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),o}))}function Sy(t,e,r){const n=t.signer||t.provider;return function(...i){return by(this,void 0,void 0,(function*(){let s;if(i.length===e.inputs.length+1&&"object"==typeof i[i.length-1]){const t=hs(i.pop());null!=t.blockTag&&(s=yield t.blockTag),delete t.blockTag,i.push(t)}null!=t.deployTransaction&&(yield t._deployed(s));const o=yield My(t,e,i),a=yield n.call(o,s);try{let n=t.interface.decodeFunctionResult(e,a);return r&&1===e.outputs.length&&(n=n[0]),n}catch(e){throw e.code===Fn.errors.CALL_EXCEPTION&&(e.address=t.address,e.args=i,e.transaction=o),e}}))}}function ky(t,e,r){return e.constant?Sy(t,e,r):function(t,e){return function(...r){return by(this,void 0,void 0,(function*(){t.signer||vy.throwError("sending a transaction requires a signer",Fn.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=t.deployTransaction&&(yield t._deployed());const n=yield My(t,e,r),i=yield t.signer.sendTransaction(n);return function(t,e){const r=e.wait.bind(e);e.wait=e=>r(e).then((e=>(e.events=e.logs.map((r=>{let n=ds(r),i=null;try{i=t.interface.parseLog(r)}catch(t){}return i&&(n.args=i.args,n.decode=(e,r)=>t.interface.decodeEventLog(i.eventFragment,e,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>t.provider,n.getBlock=()=>t.provider.getBlock(e.blockHash),n.getTransaction=()=>t.provider.getTransaction(e.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(e),n})),e)))}(t,i),i}))}}(t,e)}function Ey(t){return!t.address||null!=t.topics&&0!==t.topics.length?(t.address||"*")+"@"+(t.topics?t.topics.map((t=>Array.isArray(t)?t.join("|"):t)).join(":"):""):"*"}class Ay{constructor(t,e){os(this,"tag",t),os(this,"filter",e),this._listeners=[]}addListener(t,e){this._listeners.push({listener:t,once:e})}removeListener(t){let e=!1;this._listeners=this._listeners.filter((r=>!(!e&&r.listener===t&&(e=!0,1))))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((t=>t.listener))}listenerCount(){return this._listeners.length}run(t){const e=this.listenerCount();return this._listeners=this._listeners.filter((e=>{const r=t.slice();return setTimeout((()=>{e.listener.apply(this,r)}),0),!e.once})),e}prepareEvent(t){}getEmit(t){return[t]}}class xy extends Ay{constructor(){super("error",null)}}class Ty extends Ay{constructor(t,e,r,n){const i={address:t};let s=e.getEventTopic(r);n?(s!==n[0]&&vy.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[s],super(Ey(i),i),os(this,"address",t),os(this,"interface",e),os(this,"fragment",r)}prepareEvent(t){super.prepareEvent(t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=(t,e)=>this.interface.decodeEventLog(this.fragment,t,e);try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(e){t.args=null,t.decodeError=e}}getEmit(t){const e=function(t){const e=[],r=function(t,n){if(Array.isArray(n))for(let i in n){const s=t.slice();s.push(i);try{r(s,n[i])}catch(t){e.push({path:s,error:t})}}};return r([],t),e}(t.args);if(e.length)throw e[0].error;const r=(t.args||[]).slice();return r.push(t),r}}class Iy extends Ay{constructor(t,e){super("*",{address:t}),os(this,"address",t),os(this,"interface",e)}prepareEvent(t){super.prepareEvent(t);try{const e=this.interface.parseLog(t);t.event=e.name,t.eventSignature=e.signature,t.decode=(t,r)=>this.interface.decodeEventLog(e.eventFragment,t,r),t.args=e.args}catch(t){}}}class By{constructor(t,e,r){os(this,"interface",as(new.target,"getInterface")(e)),null==r?(os(this,"provider",null),os(this,"signer",null)):io.isSigner(r)?(os(this,"provider",r.provider||null),os(this,"signer",r)):Qs.isProvider(r)?(os(this,"provider",r),os(this,"signer",null)):vy.throwArgumentError("invalid signer or provider","signerOrProvider",r),os(this,"callStatic",{}),os(this,"estimateGas",{}),os(this,"functions",{}),os(this,"populateTransaction",{}),os(this,"filters",{});{const t={};Object.keys(this.interface.events).forEach((e=>{const r=this.interface.events[e];os(this.filters,e,((...t)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,t)}))),t[r.name]||(t[r.name]=[]),t[r.name].push(e)})),Object.keys(t).forEach((e=>{const r=t[e];1===r.length?os(this.filters,e,this.filters[r[0]]):vy.warn(`Duplicate definition of ${e} (${r.join(", ")})`)}))}if(os(this,"_runningEvents",{}),os(this,"_wrappedEmits",{}),null==t&&vy.throwArgumentError("invalid contract address or ENS name","addressOrName",t),os(this,"address",t),this.provider)os(this,"resolvedAddress",wy(this.provider,t));else try{os(this,"resolvedAddress",Promise.resolve(Ds(t)))}catch(t){vy.throwError("provider is required to use ENS name as contract address",Fn.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((t=>{}));const n={},i={};Object.keys(this.interface.functions).forEach((t=>{const e=this.interface.functions[t];if(i[t])vy.warn(`Duplicate ABI entry for ${JSON.stringify(t)}`);else{i[t]=!0;{const r=e.name;n[`%${r}`]||(n[`%${r}`]=[]),n[`%${r}`].push(t)}null==this[t]&&os(this,t,ky(this,e,!0)),null==this.functions[t]&&os(this.functions,t,ky(this,e,!1)),null==this.callStatic[t]&&os(this.callStatic,t,Sy(this,e,!0)),null==this.populateTransaction[t]&&os(this.populateTransaction,t,function(t,e){return function(...r){return My(t,e,r)}}(this,e)),null==this.estimateGas[t]&&os(this.estimateGas,t,function(t,e){const r=t.signer||t.provider;return function(...n){return by(this,void 0,void 0,(function*(){r||vy.throwError("estimate require a provider or signer",Fn.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield My(t,e,n);return yield r.estimateGas(i)}))}}(this,e))}})),Object.keys(n).forEach((t=>{const e=n[t];if(e.length>1)return;t=t.substring(1);const r=e[0];try{null==this[t]&&os(this,t,this[r])}catch(t){}null==this.functions[t]&&os(this.functions,t,this.functions[r]),null==this.callStatic[t]&&os(this.callStatic,t,this.callStatic[r]),null==this.populateTransaction[t]&&os(this.populateTransaction,t,this.populateTransaction[r]),null==this.estimateGas[t]&&os(this.estimateGas,t,this.estimateGas[r])}))}static getContractAddress(t){return function(t){let e=null;try{e=Ds(t.from)}catch(e){Us.throwArgumentError("missing from address","transaction",t)}return Ds(ni(ci(Cs([e,Yn(Zn(As.from(t.nonce).toHexString()))])),12))}(t)}static getInterface(t){return yy.isInterface(t)?t:new yy(t)}deployed(){return this._deployed()}_deployed(t){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,t).then((t=>("0x"===t&&vy.throwError("contract not deployed",Fn.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(t){this.signer||vy.throwError("sending a transactions require a signer",Fn.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const e=hs(t||{});return["from","to"].forEach((function(t){null!=e[t]&&vy.throwError("cannot override "+t,Fn.errors.UNSUPPORTED_OPERATION,{operation:t})})),e.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(e)))}connect(t){"string"==typeof t&&(t=new so(t,this.provider));const e=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&os(e,"deployTransaction",this.deployTransaction),e}attach(t){return new this.constructor(t,this.interface,this.signer||this.provider)}static isIndexed(t){return py.isIndexed(t)}_normalizeRunningEvent(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}_getRunningEvent(t){if("string"==typeof t){if("error"===t)return this._normalizeRunningEvent(new xy);if("event"===t)return this._normalizeRunningEvent(new Ay("event",null));if("*"===t)return this._normalizeRunningEvent(new Iy(this.address,this.interface));const e=this.interface.getEvent(t);return this._normalizeRunningEvent(new Ty(this.address,this.interface,e))}if(t.topics&&t.topics.length>0){try{const e=t.topics[0];if("string"!=typeof e)throw new Error("invalid topic");const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Ty(this.address,this.interface,r,t.topics))}catch(t){}const e={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new Ay(Ey(e),e))}return this._normalizeRunningEvent(new Iy(this.address,this.interface))}_checkRunningEvents(t){if(0===t.listenerCount()){delete this._runningEvents[t.tag];const e=this._wrappedEmits[t.tag];e&&t.filter&&(this.provider.off(t.filter,e),delete this._wrappedEmits[t.tag])}}_wrapEvent(t,e,r){const n=ds(e);return n.removeListener=()=>{r&&(t.removeListener(r),this._checkRunningEvents(t))},n.getBlock=()=>this.provider.getBlock(e.blockHash),n.getTransaction=()=>this.provider.getTransaction(e.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(e.transactionHash),t.prepareEvent(n),n}_addEventListener(t,e,r){if(this.provider||vy.throwError("events require a provider or a signer with a provider",Fn.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(e,r),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){const r=r=>{let n=this._wrapEvent(t,r,e);if(null==n.decodeError)try{const e=t.getEmit(n);this.emit(t.filter,...e)}catch(t){n.decodeError=t.error}null!=t.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[t.tag]=r,null!=t.filter&&this.provider.on(t.filter,r)}}queryFilter(t,e,r){const n=this._getRunningEvent(t),i=hs(n.filter);return"string"==typeof e&&Qn(e,32)?(null!=r&&vy.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=e):(i.fromBlock=null!=e?e:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then((t=>t.map((t=>this._wrapEvent(n,t,null)))))}on(t,e){return this._addEventListener(this._getRunningEvent(t),e,!1),this}once(t,e){return this._addEventListener(this._getRunningEvent(t),e,!0),this}emit(t,...e){if(!this.provider)return!1;const r=this._getRunningEvent(t),n=r.run(e)>0;return this._checkRunningEvents(r),n}listenerCount(t){return this.provider?null==t?Object.keys(this._runningEvents).reduce(((t,e)=>t+this._runningEvents[e].listenerCount()),0):this._getRunningEvent(t).listenerCount():0}listeners(t){if(!this.provider)return[];if(null==t){const t=[];for(let e in this._runningEvents)this._runningEvents[e].listeners().forEach((e=>{t.push(e)}));return t}return this._getRunningEvent(t).listeners()}removeAllListeners(t){if(!this.provider)return this;if(null==t){for(const t in this._runningEvents){const e=this._runningEvents[t];e.removeAllListeners(),this._checkRunningEvents(e)}return this}const e=this._getRunningEvent(t);return e.removeAllListeners(),this._checkRunningEvents(e),this}off(t,e){if(!this.provider)return this;const r=this._getRunningEvent(t);return r.removeListener(e),this._checkRunningEvents(r),this}removeListener(t,e){return this.off(t,e)}}class Ry extends By{}class Py extends lh{contractInstance;contractAddress;constructor(t){super(t),this.contractAddress=t.contractAddress}async getContract(){return this.contractInstance||(this.contractInstance=new Ry(this.contractAddress,ye,this.w3signer),this.base=["wei",Math.pow(10,await this.contractInstance.decimals())]),this.contractInstance}async getTx(t){const e=await this.providerInstance.getTransaction(t);if(!e)throw new Error("Tx doesn't exist");if(138!==e.data.length||"a9059cbb"!==e.data.slice(2,10))throw new Error("Tx isn't a ERC20 transfer");const r=`0x${e.data.slice(34,74)}`,n=new le(e.data.slice(74),16);return{from:e.from,to:r,blockHeight:e.blockNumber?new le(e.blockNumber):void 0,amount:n,pending:!e.blockNumber,confirmed:e.confirmations>=this.minConfirm}}async getFee(t,e){const r="0x"+new le(t).toString(16),n=await this.getContract(),i=await this.providerInstance.getGasPrice(),s=await n.estimateGas.transfer(e,r);return new le(i.mul(s).toString())}async createTx(t,e,r){const n=await this.getContract(),i="0x"+new le(t).toString(16),s=await n.populateTransaction.transfer(e,i);if(s.gasPrice=await this.providerInstance.getGasPrice(),s.gasLimit=await n.estimateGas.transfer(e,i),s.chainId=(await this.providerInstance.getNetwork()).chainId,!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");return s.nonce=await this.providerInstance.getTransactionCount(this.address),{txId:void 0,tx:s}}async getGas(){return[new le(await ch("ETH")),1e18]}}var Oy=__webpack_require__(780),Cy=__webpack_require__(7286);"object"==typeof self&&"crypto"in self&&self.crypto;const Uy=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const Ny=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function Ly(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Ny[t[r]];return e}function qy(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function zy(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class Dy{clone(){return this._cloneInto()}}function jy(t){const e=e=>t().update(zy(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Hy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Fy(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}const Ky={number:Hy,bool:function(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)},bytes:Fy,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Hy(t.outputLen),Hy(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},output:function(t,e){Fy(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}},$y=Ky,Wy=BigInt(2**32-1),Vy=BigInt(32);function Gy(t,e=!1){return e?{h:Number(t&Wy),l:Number(t>>Vy&Wy)}:{h:0|Number(t>>Vy&Wy),l:0|Number(t&Wy)}}const Jy=function(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Gy(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]},Zy=(t,e,r)=>t>>>r,Xy=(t,e,r)=>t<<32-r|e>>>r,Yy=(t,e,r)=>t>>>r|e<<32-r,Qy=(t,e,r)=>t<<32-r|e>>>r,tb=(t,e,r)=>t<<64-r|e>>>r-32,eb=(t,e,r)=>t>>>r-32|e<<64-r,rb=(t,e,r)=>t<<r|e>>>32-r,nb=(t,e,r)=>e<<r|t>>>32-r,ib=(t,e,r)=>e<<r-32|t>>>64-r,sb=(t,e,r)=>t<<r-32|e>>>64-r,ob=function(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}},ab=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),ub=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,hb=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),cb=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,fb=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,lb=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),[db,pb,mb]=[[],[],[]],gb=BigInt(0),yb=BigInt(1),bb=BigInt(2),vb=BigInt(7),wb=BigInt(256),_b=BigInt(113);for(let t=0,e=yb,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],db.push(2*(5*n+r)),pb.push((t+1)*(t+2)/2%64);let i=gb;for(let t=0;t<7;t++)e=(e<<yb^(e>>vb)*_b)%wb,e&bb&&(i^=yb<<(yb<<BigInt(t))-yb);mb.push(i)}const[Mb,Sb]=Jy(mb,!0),kb=(t,e,r)=>r>32?ib(t,e,r):rb(t,e,r),Eb=(t,e,r)=>r>32?sb(t,e,r):nb(t,e,r);class Ab extends Dy{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,$y.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,i=(e+2)%10,s=r[i],o=r[i+1],a=kb(s,o,1)^r[n],u=Eb(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=u}let e=t[2],i=t[3];for(let r=0;r<24;r++){const n=pb[r],s=kb(e,i,n),o=Eb(e,i,n),a=db[r];e=t[a],i=t[a+1],t[a]=s,t[a+1]=o}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=Mb[n],t[1]^=Sb[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){$y.exists(this);const{blockLen:e,state:r}=this,n=(t=zy(t)).length;for(let i=0;i<n;){const s=Math.min(e-this.pos,n-i);for(let e=0;e<s;e++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,0!=(128&e)&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){$y.exists(this,!1),$y.bytes(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return $y.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if($y.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return t||(t=new Ab(e,r,n,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=s,t.destroyed=this.destroyed,t}}const xb=(t,e,r)=>jy((()=>new Ab(e,t,r))),Tb=(xb(6,144,28),xb(6,136,32)),Ib=(xb(6,104,48),xb(6,72,64),xb(1,144,28),xb(1,136,32),xb(1,104,48),xb(1,72,64),(t,e,r)=>function(t){const e=(e,r)=>t(r).update(zy(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e}(((n={})=>new Ab(e,t,void 0===n.dkLen?r:n.dkLen,!0))));Ib(31,168,16),Ib(31,136,32);class Bb extends Dy{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,$y.hash(t);const r=zy(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),i.fill(0)}update(t){return $y.exists(this),this.iHash.update(t),this}digestInto(t){$y.exists(this),$y.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return t.finished=n,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Rb=(t,e,r)=>new Bb(t,e).update(r).digest();Rb.create=(t,e)=>new Bb(t,e);class Pb extends Dy{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Uy(this.buffer)}update(t){$y.exists(this);const{view:e,buffer:r,blockLen:n}=this,i=(t=zy(t)).length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(e,0),this.pos=0);else{const e=Uy(t);for(;n<=i-s;s+=n)this.process(e,s)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){$y.exists(this),$y.output(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let t=s;t<n;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,h=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+h,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=Uy(t);this.get().forEach(((t,e)=>o.setUint32(4*e,t,i)))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return t.length=n,t.pos=o,t.finished=i,t.destroyed=s,n%e&&t.buffer.set(r),t}}const[Ob,Cb]=Jy(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),Ub=new Uint32Array(80),Nb=new Uint32Array(80);class Lb extends Pb{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:u,El:h,Fh:c,Fl:f,Gh:l,Gl:d,Hh:p,Hl:m}=this;return[t,e,r,n,i,s,o,a,u,h,c,f,l,d,p,m]}set(t,e,r,n,i,s,o,a,u,h,c,f,l,d,p,m){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|h,this.Fh=0|c,this.Fl=0|f,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|m}process(t,e){for(let r=0;r<16;r++,e+=4)Ub[r]=t.getUint32(e),Nb[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|Ub[t-15],r=0|Nb[t-15],n=Yy(e,r,1)^Yy(e,r,8)^Zy(e,r,7),i=Qy(e,r,1)^Qy(e,r,8)^Xy(e,r,7),s=0|Ub[t-2],o=0|Nb[t-2],a=Yy(s,o,19)^tb(s,o,61)^Zy(s,o,6),u=Qy(s,o,19)^eb(s,o,61)^Xy(s,o,6),h=hb(i,u,Nb[t-7],Nb[t-16]),c=cb(h,n,a,Ub[t-7],Ub[t-16]);Ub[t]=0|c,Nb[t]=0|h}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:u,Dl:h,Eh:c,El:f,Fh:l,Fl:d,Gh:p,Gl:m,Hh:g,Hl:y}=this;for(let t=0;t<80;t++){const e=Yy(c,f,14)^Yy(c,f,18)^tb(c,f,41),b=Qy(c,f,14)^Qy(c,f,18)^eb(c,f,41),v=c&l^~c&p,w=lb(y,b,f&d^~f&m,Cb[t],Nb[t]),_=fb(w,g,e,v,Ob[t],Ub[t]),M=0|w,S=Yy(r,n,28)^tb(r,n,34)^tb(r,n,39),k=Qy(r,n,28)^eb(r,n,34)^eb(r,n,39),E=r&i^r&o^i&o,A=n&s^n&a^s&a;g=0|p,y=0|m,p=0|l,m=0|d,l=0|c,d=0|f,({h:c,l:f}=ob(0|u,0|h,0|_,0|M)),u=0|o,h=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const x=ab(M,k,A);r=ub(x,_,S,E),n=0|x}({h:r,l:n}=ob(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=ob(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=ob(0|this.Ch,0|this.Cl,0|o,0|a)),({h:u,l:h}=ob(0|this.Dh,0|this.Dl,0|u,0|h)),({h:c,l:f}=ob(0|this.Eh,0|this.El,0|c,0|f)),({h:l,l:d}=ob(0|this.Fh,0|this.Fl,0|l,0|d)),({h:p,l:m}=ob(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:y}=ob(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(r,n,i,s,o,a,u,h,c,f,l,d,p,m,g,y)}roundClean(){Ub.fill(0),Nb.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class qb extends Lb{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class zb extends Lb{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Db=jy((()=>new Lb));jy((()=>new qb)),jy((()=>new zb));var jb=__webpack_require__(3026),Hb=__webpack_require__(6230),Fb=Object.defineProperty,Kb=Object.getOwnPropertyDescriptor,$b=(t,e)=>{for(var r in e)Fb(t,r,{get:e[r],enumerable:!0})},Wb=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?Kb(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&Fb(e,r,s),s},Vb=/^m(\/[0-9]+')+$/,Gb=t=>t.replace("'","");async function Jb(t){return new Promise((e=>{setTimeout(e,t)}))}var Zb=2e5;function Xb(t){let e,r,n;return"object"==typeof t?(e=t.hashFunction,r=t.ttlMs,n=t.tags):e=t,(t,i,s)=>{if(null!=s.value)s.value=Qb(s.value,e,r,n);else{if(null==s.get)throw new Error("Only put a Memoize() decorator on a method or get accessor.");s.get=Qb(s.get,e,r,n)}}}var Yb=new Map;function Qb(t,e,r=0,n){const i=Symbol("__memoized_map__");return function(...s){let o;const a=this;a.hasOwnProperty(i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const u=a[i];if(Array.isArray(n))for(const t of n)Yb.has(t)?Yb.get(t).push(u):Yb.set(t,[u]);if(e||s.length>0||r>0){let n;n=!0===e?s.map((t=>t.toString())).join("!"):e?e.apply(a,s):s[0];const i=`${n}__timestamp`;let h=!1;if(r>0)if(u.has(i)){const t=u.get(i);h=Date.now()-t>r}else h=!0;u.has(n)&&!h?o=u.get(n):(o=t.apply(a,s),u.set(n,o),r>0&&u.set(i,Date.now()))}else{const e=a;u.has(e)?o=u.get(e):(o=t.apply(a,s),u.set(e,o))}return o}}var tv=class{static fromBuffer(t){return tv.fromUint8Array(t)}static fromUint8Array(t){return new tv(Ly(t))}static ensure(t){return"string"==typeof t?new tv(t):t}constructor(t){t.startsWith("0x")?this.hexString=t:this.hexString=`0x${t}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(qy(this.noPrefix()))}};async function ev(t,e,r,n){var i;const s=[];let o;for(;;){const a=await t(tv.ensure(e).hex(),null==(i=null==n?void 0:n.ledgerVersion)?void 0:i.toString(),o,r);if(o=a.__headers["x-aptos-cursor"],delete a.__headers,s.push(...a),null==o)break}return s}var rv={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},nv={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},iv={};$b(iv,{AccountAddress:()=>Av,AccountAuthenticator:()=>qv,AccountAuthenticatorEd25519:()=>zv,AccountAuthenticatorMultiEd25519:()=>Dv,ArgumentABI:()=>qw,AuthenticationKey:()=>Fw,ChainId:()=>kw,ChangeSet:()=>mw,Ed25519PublicKey:()=>Tv,Ed25519Signature:()=>Bv,EntryFunction:()=>cw,EntryFunctionABI:()=>jw,Identifier:()=>jv,Module:()=>dw,ModuleId:()=>pw,MultiAgentRawTransaction:()=>vw,MultiEd25519PublicKey:()=>Rv,MultiEd25519Signature:()=>Ov,MultiSig:()=>lw,MultiSigTransactionPayload:()=>fw,RawTransaction:()=>uw,RawTransactionWithData:()=>bw,RotationProofChallenge:()=>Kw,Script:()=>hw,ScriptABI:()=>zw,SignedTransaction:()=>yw,StructTag:()=>tw,Transaction:()=>Uw,TransactionArgument:()=>Ew,TransactionArgumentAddress:()=>Pw,TransactionArgumentBool:()=>Cw,TransactionArgumentU128:()=>Bw,TransactionArgumentU16:()=>xw,TransactionArgumentU256:()=>Rw,TransactionArgumentU32:()=>Tw,TransactionArgumentU64:()=>Iw,TransactionArgumentU8:()=>Aw,TransactionArgumentU8Vector:()=>Ow,TransactionAuthenticator:()=>Cv,TransactionAuthenticatorEd25519:()=>Uv,TransactionAuthenticatorMultiAgent:()=>Lv,TransactionAuthenticatorMultiEd25519:()=>Nv,TransactionPayload:()=>ww,TransactionPayloadEntryFunction:()=>Mw,TransactionPayloadMultisig:()=>Sw,TransactionPayloadScript:()=>_w,TransactionScriptABI:()=>Dw,TypeArgumentABI:()=>Lw,TypeTag:()=>Hv,TypeTagAddress:()=>Zv,TypeTagBool:()=>Fv,TypeTagParser:()=>ow,TypeTagParserError:()=>aw,TypeTagSigner:()=>Xv,TypeTagStruct:()=>Qv,TypeTagU128:()=>Gv,TypeTagU16:()=>$v,TypeTagU256:()=>Jv,TypeTagU32:()=>Wv,TypeTagU64:()=>Vv,TypeTagU8:()=>Kv,TypeTagVector:()=>Yv,UserTransaction:()=>Nw,WriteSet:()=>gw,stringStructTag:()=>ew}),$b({},{Deserializer:()=>fv,Serializer:()=>hv,bcsSerializeBool:()=>_v,bcsSerializeBytes:()=>Sv,bcsSerializeFixedBytes:()=>kv,bcsSerializeStr:()=>Mv,bcsSerializeU128:()=>wv,bcsSerializeU16:()=>bv,bcsSerializeU32:()=>vv,bcsSerializeU8:()=>yv,bcsSerializeUint64:()=>gv,bcsToBytes:()=>mv,deserializeVector:()=>pv,serializeVector:()=>lv,serializeVectorWithFunc:()=>dv});var sv=2**32-1,ov=BigInt(2**64)-BigInt(1),av=BigInt(2**128)-BigInt(1),uv=BigInt(2**256)-BigInt(1),hv=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(t){for(;this.buffer.byteLength<this.offset+t;){const t=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t}}serialize(t){this.ensureBufferWillHandleSize(t.length),new Uint8Array(this.buffer,this.offset).set(t),this.offset+=t.length}serializeWithFunction(t,e,r){this.ensureBufferWillHandleSize(e);const n=new DataView(this.buffer,this.offset);t.apply(n,[0,r,!0]),this.offset+=e}serializeStr(t){const e=new TextEncoder;this.serializeBytes(e.encode(t))}serializeBytes(t){this.serializeU32AsUleb128(t.length),this.serialize(t)}serializeFixedBytes(t){this.serialize(t)}serializeBool(t){if("boolean"!=typeof t)throw new Error("Value needs to be a boolean");const e=t?1:0;this.serialize(new Uint8Array([e]))}serializeU8(t){this.serialize(new Uint8Array([t]))}serializeU16(t){this.serializeWithFunction(DataView.prototype.setUint16,2,t)}serializeU32(t){this.serializeWithFunction(DataView.prototype.setUint32,4,t)}serializeU64(t){const e=BigInt(t.toString())&BigInt(sv),r=BigInt(t.toString())>>BigInt(32);this.serializeU32(Number(e)),this.serializeU32(Number(r))}serializeU128(t){const e=BigInt(t.toString())&ov,r=BigInt(t.toString())>>BigInt(64);this.serializeU64(e),this.serializeU64(r)}serializeU256(t){const e=BigInt(t.toString())&av,r=BigInt(t.toString())>>BigInt(128);this.serializeU128(e),this.serializeU128(r)}serializeU32AsUleb128(t){let e=t;const r=[];for(;e>>>7!=0;)r.push(127&e|128),e>>>=7;r.push(e),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};function cv(t,e,r){return(n,i,s)=>{const o=s.value;return s.value=function(n){const i=BigInt(n.toString());if(i>BigInt(e.toString())||i<BigInt(t.toString()))throw new Error(r||"Value is out of range");o.apply(this,[n])},s}}Wb([cv(0,255)],hv.prototype,"serializeU8",1),Wb([cv(0,65535)],hv.prototype,"serializeU16",1),Wb([cv(0,sv)],hv.prototype,"serializeU32",1),Wb([cv(BigInt(0),ov)],hv.prototype,"serializeU64",1),Wb([cv(BigInt(0),av)],hv.prototype,"serializeU128",1),Wb([cv(BigInt(0),uv)],hv.prototype,"serializeU256",1),Wb([cv(0,sv)],hv.prototype,"serializeU32AsUleb128",1);var fv=class{constructor(t){this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t,0),this.offset=0}read(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}deserializeStr(){const t=this.deserializeBytes();return(new TextDecoder).decode(t)}deserializeBytes(){const t=this.deserializeUleb128AsU32();return new Uint8Array(this.read(t))}deserializeFixedBytes(t){return new Uint8Array(this.read(t))}deserializeBool(){const t=new Uint8Array(this.read(1))[0];if(1!==t&&0!==t)throw new Error("Invalid boolean value");return 1===t}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const t=this.deserializeU32(),e=this.deserializeU32();return BigInt(BigInt(e)<<BigInt(32)|BigInt(t))}deserializeU128(){const t=this.deserializeU64(),e=this.deserializeU64();return BigInt(e<<BigInt(64)|t)}deserializeU256(){const t=this.deserializeU128(),e=this.deserializeU128();return BigInt(e<<BigInt(128)|t)}deserializeUleb128AsU32(){let t=BigInt(0),e=0;for(;t<sv;){const r=this.deserializeU8();if(t|=BigInt(127&r)<<BigInt(e),0==(128&r))break;e+=7}if(t>sv)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(t)}};function lv(t,e){e.serializeU32AsUleb128(t.length),t.forEach((t=>{t.serialize(e)}))}function dv(t,e){const r=new hv;r.serializeU32AsUleb128(t.length);const n=r[e];return t.forEach((t=>{n.call(r,t)})),r.getBytes()}function pv(t,e){const r=t.deserializeUleb128AsU32(),n=[];for(let i=0;i<r;i+=1)n.push(e.deserialize(t));return n}function mv(t){const e=new hv;return t.serialize(e),e.getBytes()}function gv(t){const e=new hv;return e.serializeU64(t),e.getBytes()}function yv(t){const e=new hv;return e.serializeU8(t),e.getBytes()}function bv(t){const e=new hv;return e.serializeU16(t),e.getBytes()}function vv(t){const e=new hv;return e.serializeU32(t),e.getBytes()}function wv(t){const e=new hv;return e.serializeU128(t),e.getBytes()}function _v(t){const e=new hv;return e.serializeBool(t),e.getBytes()}function Mv(t){const e=new hv;return e.serializeStr(t),e.getBytes()}function Sv(t){const e=new hv;return e.serializeBytes(t),e.getBytes()}function kv(t){const e=new hv;return e.serializeFixedBytes(t),e.getBytes()}var Ev=class{constructor(t){if(t.length!==Ev.LENGTH)throw new Error("Expected address of length 32");this.address=t}static fromHex(t){let e=tv.ensure(t);e.noPrefix().length%2!=0&&(e=new tv(`0${e.noPrefix()}`));const r=e.toUint8Array();if(r.length>Ev.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===Ev.LENGTH)return new Ev(r);const n=new Uint8Array(Ev.LENGTH);return n.set(r,Ev.LENGTH-r.length),new Ev(n)}static isValid(t){if(""===t)return!1;let e=tv.ensure(t);return e.noPrefix().length%2!=0&&(e=new tv(`0${e.noPrefix()}`)),e.toUint8Array().length<=Ev.LENGTH}toHexString(){return tv.fromUint8Array(this.address).hex()}serialize(t){t.serializeFixedBytes(this.address)}static deserialize(t){return new Ev(t.deserializeFixedBytes(Ev.LENGTH))}},Av=Ev;Av.LENGTH=32,Av.CORE_CODE_ADDRESS=Ev.fromHex("0x1");var xv=class{constructor(t){if(t.length!==xv.LENGTH)throw new Error(`Ed25519PublicKey length should be ${xv.LENGTH}`);this.value=t}toBytes(){return this.value}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const e=t.deserializeBytes();return new xv(e)}},Tv=xv;Tv.LENGTH=32;var Iv=class{constructor(t){if(this.value=t,t.length!==Iv.LENGTH)throw new Error(`Ed25519Signature length should be ${Iv.LENGTH}`)}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const e=t.deserializeBytes();return new Iv(e)}},Bv=Iv;Bv.LENGTH=64;var Rv=class{constructor(t,e){if(this.public_keys=t,this.threshold=e,e>32)throw new Error('"threshold" cannot be larger than 32')}toBytes(){const t=new Uint8Array(this.public_keys.length*Tv.LENGTH+1);return this.public_keys.forEach(((e,r)=>{t.set(e.value,r*Tv.LENGTH)})),t[this.public_keys.length*Tv.LENGTH]=this.threshold,t}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const e=t.deserializeBytes(),r=e[e.length-1],n=[];for(let t=0;t<e.length-1;t+=Tv.LENGTH){const r=t;n.push(new Tv(e.subarray(r,r+Tv.LENGTH)))}return new Rv(n,r)}},Pv=class{constructor(t,e){if(this.signatures=t,this.bitmap=e,e.length!==Pv.BITMAP_LEN)throw new Error(`"bitmap" length should be ${Pv.BITMAP_LEN}`)}toBytes(){const t=new Uint8Array(this.signatures.length*Bv.LENGTH+Pv.BITMAP_LEN);return this.signatures.forEach(((e,r)=>{t.set(e.value,r*Bv.LENGTH)})),t.set(this.bitmap,this.signatures.length*Bv.LENGTH),t}static createBitmap(t){const e=new Uint8Array([0,0,0,0]),r=new Set;return t.forEach((t=>{if(t>=32)throw new Error(`Invalid bit value ${t}.`);if(r.has(t))throw new Error("Duplicated bits detected.");r.add(t);const n=Math.floor(t/8);let i=e[n];i|=128>>t%8,e[n]=i})),e}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const e=t.deserializeBytes(),r=e.subarray(e.length-4),n=[];for(let t=0;t<e.length-r.length;t+=Bv.LENGTH){const r=t;n.push(new Bv(e.subarray(r,r+Bv.LENGTH)))}return new Pv(n,r)}},Ov=Pv;Ov.BITMAP_LEN=4;var Cv=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Uv.load(t);case 1:return Nv.load(t);case 2:return Lv.load(t);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${e}`)}}},Uv=class extends Cv{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Tv.deserialize(t),r=Bv.deserialize(t);return new Uv(e,r)}},Nv=class extends Cv{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Rv.deserialize(t),r=Ov.deserialize(t);return new Nv(e,r)}},Lv=class extends Cv{constructor(t,e,r){super(),this.sender=t,this.secondary_signer_addresses=e,this.secondary_signers=r}serialize(t){t.serializeU32AsUleb128(2),this.sender.serialize(t),lv(this.secondary_signer_addresses,t),lv(this.secondary_signers,t)}static load(t){const e=qv.deserialize(t),r=pv(t,Av),n=pv(t,qv);return new Lv(e,r,n)}},qv=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return zv.load(t);case 1:return Dv.load(t);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${e}`)}}},zv=class extends qv{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Tv.deserialize(t),r=Bv.deserialize(t);return new zv(e,r)}},Dv=class extends qv{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Rv.deserialize(t),r=Ov.deserialize(t);return new Dv(e,r)}},jv=class{constructor(t){this.value=t}serialize(t){t.serializeStr(this.value)}static deserialize(t){const e=t.deserializeStr();return new jv(e)}},Hv=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Fv.load(t);case 1:return Kv.load(t);case 2:return Vv.load(t);case 3:return Gv.load(t);case 4:return Zv.load(t);case 5:return Xv.load(t);case 6:return Yv.load(t);case 7:return Qv.load(t);case 8:return $v.load(t);case 9:return Wv.load(t);case 10:return Jv.load(t);default:throw new Error(`Unknown variant index for TypeTag: ${e}`)}}},Fv=class extends Hv{serialize(t){t.serializeU32AsUleb128(0)}static load(t){return new Fv}},Kv=class extends Hv{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Kv}},$v=class extends Hv{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new $v}},Wv=class extends Hv{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Wv}},Vv=class extends Hv{serialize(t){t.serializeU32AsUleb128(2)}static load(t){return new Vv}},Gv=class extends Hv{serialize(t){t.serializeU32AsUleb128(3)}static load(t){return new Gv}},Jv=class extends Hv{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Jv}},Zv=class extends Hv{serialize(t){t.serializeU32AsUleb128(4)}static load(t){return new Zv}},Xv=class extends Hv{serialize(t){t.serializeU32AsUleb128(5)}static load(t){return new Xv}},Yv=class extends Hv{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),this.value.serialize(t)}static load(t){const e=Hv.deserialize(t);return new Yv(e)}},Qv=class extends Hv{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),this.value.serialize(t)}static load(t){const e=tw.deserialize(t);return new Qv(e)}isStringTypeTag(){return"string"===this.value.module_name.value&&"String"===this.value.name.value&&this.value.address.toHexString()===Av.fromHex("0x1").toHexString()}},tw=class{constructor(t,e,r,n){this.address=t,this.module_name=e,this.name=r,this.type_args=n}static fromString(t){const e=new ow(t).parseTypeTag();return new tw(e.value.address,e.value.module_name,e.value.name,e.value.type_args)}serialize(t){this.address.serialize(t),this.module_name.serialize(t),this.name.serialize(t),lv(this.type_args,t)}static deserialize(t){const e=Av.deserialize(t),r=jv.deserialize(t),n=jv.deserialize(t),i=pv(t,Hv);return new tw(e,r,n,i)}},ew=new tw(Av.fromHex("0x1"),new jv("string"),new jv("String"),[]);function rw(t){throw new aw(t)}function nw(t){return!!t.match(/\s/)}function iw(t){return!!t.match(/[_A-Za-z0-9]/g)}function sw(t,e){const r=t[e];if(":"===r){if("::"===t.slice(e,e+2))return[["COLON","::"],2];rw("Unrecognized token.")}else{if("<"===r)return[["LT","<"],1];if(">"===r)return[["GT",">"],1];if(","===r)return[["COMMA",","],1];if(nw(r)){let r="";for(let n=e;n<t.length;n+=1){const e=t[n];if(!nw(e))break;r=`${r}${e}`}return[["SPACE",r],r.length]}if(iw(r)){let r="";for(let n=e;n<t.length;n+=1){const e=t[n];if(!iw(e))break;r=`${r}${e}`}return function(t){return!!t.match(/T\d+/g)}(r)?[["GENERIC",r],r.length]:[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}var ow=class{constructor(t,e){this.typeTags=[],this.tokens=function(t){let e=0;const r=[];for(;e<t.length;){const[n,i]=sw(t,e);"SPACE"!==n[0]&&r.push(n),e+=i}return r}(t),this.typeTags=e||[]}consume(t){const e=this.tokens.shift();e&&e[1]===t||rw("Invalid type tag.")}parseCommaList(t,e){const r=[];for(this.tokens.length<=0&&rw("Invalid type tag.");!(this.tokens[0][1]===t||(r.push(this.parseTypeTag()),this.tokens.length>0&&this.tokens[0][1]===t)||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===t&&e));)this.tokens.length<=0&&rw("Invalid type tag.");return r}parseTypeTag(){0===this.tokens.length&&rw("Invalid type tag.");const[t,e]=this.tokens.shift();if("u8"===e)return new Kv;if("u16"===e)return new $v;if("u32"===e)return new Wv;if("u64"===e)return new Vv;if("u128"===e)return new Gv;if("u256"===e)return new Jv;if("bool"===e)return new Fv;if("address"===e)return new Zv;if("vector"===e){this.consume("<");const t=this.parseTypeTag();return this.consume(">"),new Yv(t)}if("string"===e)return new tw(Av.fromHex("0x1"),new jv("string"),new jv("String"),[]);if("IDENT"===t&&(e.startsWith("0x")||e.startsWith("0X"))){const t=e;this.consume("::");const[r,n]=this.tokens.shift();"IDENT"!==r&&rw("Invalid type tag."),this.consume("::");const[i,s]=this.tokens.shift();if("IDENT"!==i&&rw("Invalid type tag."),"object"===n&&"Object"===s)return this.tokens.splice(0,3),new Zv;let o=[];this.tokens.length>0&&"<"===this.tokens[0][1]&&(this.consume("<"),o=this.parseCommaList(">",!0),this.consume(">"));const a=new tw(Av.fromHex(t),new jv(n),new jv(s),o);return new Qv(a)}if("GENERIC"===t){0===this.typeTags.length&&rw("Can't convert generic type since no typeTags were specified.");const t=parseInt(e.substring(1),10);return new ow(this.typeTags[t]).parseTypeTag()}throw new Error("Invalid type tag.")}},aw=class extends Error{constructor(t){super(t),this.name="TypeTagParserError"}},uw=class{constructor(t,e,r,n,i,s,o){this.sender=t,this.sequence_number=e,this.payload=r,this.max_gas_amount=n,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=o}serialize(t){this.sender.serialize(t),t.serializeU64(this.sequence_number),this.payload.serialize(t),t.serializeU64(this.max_gas_amount),t.serializeU64(this.gas_unit_price),t.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(t)}static deserialize(t){const e=Av.deserialize(t),r=t.deserializeU64(),n=ww.deserialize(t),i=t.deserializeU64(),s=t.deserializeU64(),o=t.deserializeU64(),a=kw.deserialize(t);return new uw(e,r,n,i,s,o,a)}},hw=class{constructor(t,e,r){this.code=t,this.ty_args=e,this.args=r}serialize(t){t.serializeBytes(this.code),lv(this.ty_args,t),lv(this.args,t)}static deserialize(t){const e=t.deserializeBytes(),r=pv(t,Hv),n=pv(t,Ew);return new hw(e,r,n)}},cw=class{constructor(t,e,r,n){this.module_name=t,this.function_name=e,this.ty_args=r,this.args=n}static natural(t,e,r,n){return new cw(pw.fromStr(t),new jv(e),r,n)}static natual(t,e,r,n){return cw.natural(t,e,r,n)}serialize(t){this.module_name.serialize(t),this.function_name.serialize(t),lv(this.ty_args,t),t.serializeU32AsUleb128(this.args.length),this.args.forEach((e=>{t.serializeBytes(e)}))}static deserialize(t){const e=pw.deserialize(t),r=jv.deserialize(t),n=pv(t,Hv),i=t.deserializeUleb128AsU32(),s=[];for(let e=0;e<i;e+=1)s.push(t.deserializeBytes());return new cw(e,r,n,s)}},fw=class{constructor(t){this.transaction_payload=t}serialize(t){t.serializeU32AsUleb128(0),this.transaction_payload.serialize(t)}static deserialize(t){return t.deserializeUleb128AsU32(),new fw(cw.deserialize(t))}},lw=class{constructor(t,e){this.multisig_address=t,this.transaction_payload=e}serialize(t){this.multisig_address.serialize(t),void 0===this.transaction_payload?t.serializeBool(!1):(t.serializeBool(!0),this.transaction_payload.serialize(t))}static deserialize(t){const e=Av.deserialize(t);let r;return t.deserializeBool()&&(r=fw.deserialize(t)),new lw(e,r)}},dw=class{constructor(t){this.code=t}serialize(t){t.serializeBytes(this.code)}static deserialize(t){const e=t.deserializeBytes();return new dw(e)}},pw=class{constructor(t,e){this.address=t,this.name=e}static fromStr(t){const e=t.split("::");if(2!==e.length)throw new Error("Invalid module id.");return new pw(Av.fromHex(new tv(e[0])),new jv(e[1]))}serialize(t){this.address.serialize(t),this.name.serialize(t)}static deserialize(t){const e=Av.deserialize(t),r=jv.deserialize(t);return new pw(e,r)}},mw=class{serialize(t){throw new Error("Not implemented.")}static deserialize(t){throw new Error("Not implemented.")}},gw=class{serialize(t){throw new Error("Not implmented.")}static deserialize(t){throw new Error("Not implmented.")}},yw=class{constructor(t,e){this.raw_txn=t,this.authenticator=e}serialize(t){this.raw_txn.serialize(t),this.authenticator.serialize(t)}static deserialize(t){const e=uw.deserialize(t),r=Cv.deserialize(t);return new yw(e,r)}},bw=class{static deserialize(t){const e=t.deserializeUleb128AsU32();if(0===e)return vw.load(t);throw new Error(`Unknown variant index for RawTransactionWithData: ${e}`)}},vw=class extends bw{constructor(t,e){super(),this.raw_txn=t,this.secondary_signer_addresses=e}serialize(t){t.serializeU32AsUleb128(0),this.raw_txn.serialize(t),lv(this.secondary_signer_addresses,t)}static load(t){const e=uw.deserialize(t),r=pv(t,Av);return new vw(e,r)}},ww=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return _w.load(t);case 2:return Mw.load(t);case 3:return Sw.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},_w=class extends ww{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){const e=hw.deserialize(t);return new _w(e)}},Mw=class extends ww{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),this.value.serialize(t)}static load(t){const e=cw.deserialize(t);return new Mw(e)}},Sw=class extends ww{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const e=lw.deserialize(t);return new Sw(e)}},kw=class{constructor(t){this.value=t}serialize(t){t.serializeU8(this.value)}static deserialize(t){const e=t.deserializeU8();return new kw(e)}},Ew=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Aw.load(t);case 1:return Iw.load(t);case 2:return Bw.load(t);case 3:return Pw.load(t);case 4:return Ow.load(t);case 5:return Cw.load(t);case 6:return xw.load(t);case 7:return Tw.load(t);case 8:return Rw.load(t);default:throw new Error(`Unknown variant index for TransactionArgument: ${e}`)}}},Aw=class extends Ew{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),t.serializeU8(this.value)}static load(t){const e=t.deserializeU8();return new Aw(e)}},xw=class extends Ew{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),t.serializeU16(this.value)}static load(t){const e=t.deserializeU16();return new xw(e)}},Tw=class extends Ew{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),t.serializeU32(this.value)}static load(t){const e=t.deserializeU32();return new Tw(e)}},Iw=class extends Ew{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(1),t.serializeU64(this.value)}static load(t){const e=t.deserializeU64();return new Iw(e)}},Bw=class extends Ew{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),t.serializeU128(this.value)}static load(t){const e=t.deserializeU128();return new Bw(e)}},Rw=class extends Ew{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(8),t.serializeU256(this.value)}static load(t){const e=t.deserializeU256();return new Rw(e)}},Pw=class extends Ew{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const e=Av.deserialize(t);return new Pw(e)}},Ow=class extends Ew{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(4),t.serializeBytes(this.value)}static load(t){const e=t.deserializeBytes();return new Ow(e)}},Cw=class extends Ew{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(5),t.serializeBool(this.value)}static load(t){const e=t.deserializeBool();return new Cw(e)}},Uw=class{getHashSalt(){const t=Tb.create();return t.update("APTOS::Transaction"),t.digest()}static deserialize(t){const e=t.deserializeUleb128AsU32();if(0===e)return Nw.load(t);throw new Error(`Unknown variant index for Transaction: ${e}`)}},Nw=class extends Uw{constructor(t){super(),this.value=t}hash(){const t=Tb.create();return t.update(this.getHashSalt()),t.update(mv(this)),t.digest()}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){return new Nw(yw.deserialize(t))}},Lw=class{constructor(t){this.name=t}serialize(t){t.serializeStr(this.name)}static deserialize(t){const e=t.deserializeStr();return new Lw(e)}},qw=class{constructor(t,e){this.name=t,this.type_tag=e}serialize(t){t.serializeStr(this.name),this.type_tag.serialize(t)}static deserialize(t){const e=t.deserializeStr(),r=Hv.deserialize(t);return new qw(e,r)}},zw=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Dw.load(t);case 1:return jw.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},Dw=class extends zw{constructor(t,e,r,n,i){super(),this.name=t,this.doc=e,this.code=r,this.ty_args=n,this.args=i}serialize(t){t.serializeU32AsUleb128(0),t.serializeStr(this.name),t.serializeStr(this.doc),t.serializeBytes(this.code),lv(this.ty_args,t),lv(this.args,t)}static load(t){const e=t.deserializeStr(),r=t.deserializeStr(),n=t.deserializeBytes(),i=pv(t,Lw),s=pv(t,qw);return new Dw(e,r,n,i,s)}},jw=class extends zw{constructor(t,e,r,n,i){super(),this.name=t,this.module_name=e,this.doc=r,this.ty_args=n,this.args=i}serialize(t){t.serializeU32AsUleb128(1),t.serializeStr(this.name),this.module_name.serialize(t),t.serializeStr(this.doc),lv(this.ty_args,t),lv(this.args,t)}static load(t){const e=t.deserializeStr(),r=pw.deserialize(t),n=t.deserializeStr(),i=pv(t,Lw),s=pv(t,qw);return new jw(e,r,n,i,s)}},Hw=class{constructor(t){if(t.length!==Hw.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=t}static fromMultiEd25519PublicKey(t){const e=t.toBytes(),r=new Uint8Array(e.length+1);r.set(e),r.set([Hw.MULTI_ED25519_SCHEME],e.length);const n=Tb.create();return n.update(r),new Hw(n.digest())}static fromEd25519PublicKey(t){const e=t.value,r=new Uint8Array(e.length+1);r.set(e),r.set([Hw.ED25519_SCHEME],e.length);const n=Tb.create();return n.update(r),new Hw(n.digest())}derivedAddress(){return tv.fromUint8Array(this.bytes)}},Fw=Hw;Fw.LENGTH=32,Fw.MULTI_ED25519_SCHEME=1,Fw.ED25519_SCHEME=0,Fw.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var Kw=class{constructor(t,e,r,n,i,s,o){this.accountAddress=t,this.moduleName=e,this.structName=r,this.sequenceNumber=n,this.originator=i,this.currentAuthKey=s,this.newPublicKey=o}serialize(t){this.accountAddress.serialize(t),t.serializeStr(this.moduleName),t.serializeStr(this.structName),t.serializeU64(this.sequenceNumber),this.originator.serialize(t),this.currentAuthKey.serialize(t),t.serializeBytes(this.newPublicKey)}},$w=class{static fromAptosAccountObject(t){return new $w(tv.ensure(t.privateKeyHex).toUint8Array(),t.address)}static isValidPath(t){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(t)}static fromDerivePath(t,e){if(!$w.isValidPath(t))throw new Error("Invalid derivation path");const r=e.trim().split(/\s+/).map((t=>t.toLowerCase())).join(" "),{key:n}=((t,e,r=2147483648)=>{if(!(t=>!!Vb.test(t)&&!t.split("/").slice(1).map(Gb).some(Number.isNaN))(t))throw new Error("Invalid derivation path");const{key:n,chainCode:i}=(t=>{const e=Rb.create(Db,"ed25519 seed").update(qy(t)).digest();return{key:e.slice(0,32),chainCode:e.slice(32)}})(e);return t.split("/").slice(1).map(Gb).map((t=>parseInt(t,10))).reduce(((t,e)=>(({key:t,chainCode:e},r)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);const i=new Uint8Array(n),s=new Uint8Array([0]),o=new Uint8Array([...s,...t,...i]),a=Rb.create(Db,e).update(o).digest();return{key:a.slice(0,32),chainCode:a.slice(32)}})(t,e+r)),{key:n,chainCode:i})})(t,Ly(Cy.Z1(r)));return new $w(n)}constructor(t,e){this.signingKey=t?Oy.sign.keyPair.fromSeed(t.slice(0,32)):Oy.sign.keyPair(),this.accountAddress=tv.ensure(e||this.authKey().hex())}address(){return this.accountAddress}authKey(){const t=new Tv(this.signingKey.publicKey);return Fw.fromEd25519PublicKey(t).derivedAddress()}static getResourceAccountAddress(t,e){const r=mv(Av.fromHex(t)),n=new Uint8Array([...r,...e,Fw.DERIVE_RESOURCE_ACCOUNT_SCHEME]),i=Tb.create();return i.update(n),tv.fromUint8Array(i.digest())}pubKey(){return tv.fromUint8Array(this.signingKey.publicKey)}signBuffer(t){const e=Oy.sign.detached(t,this.signingKey.secretKey);return tv.fromUint8Array(e)}signHexString(t){const e=tv.ensure(t).toUint8Array();return this.signBuffer(e)}verifySignature(t,e){const r=tv.ensure(t).toUint8Array(),n=tv.ensure(e).toUint8Array();return Oy.sign.detached.verify(r,n,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:tv.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},Ww=$w;Wb([Xb()],Ww.prototype,"authKey",1);var Vw=class{constructor(t){this.endpoint=t}static validateAddress(t){if(t.length<66)throw new Error("Address needs to be 66 chars long.")}async queryIndexer(t){const{data:e}=await jb.post(this.endpoint,t);if(e.errors)throw new Error(`Indexer data error ${JSON.stringify(e.errors,null," ")}`);return e.data}async getIndexerLedgerInfo(){return this.queryIndexer({query:"\n    query getIndexerLedgerInfo {\n  ledger_infos {\n    chain_id\n  }\n}\n    "})}async getAccountNFTs(t,e){const r=tv.ensure(t).hex();Vw.validateAddress(r);const n={query:"\n    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {\n  current_token_ownerships(\n    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}\n    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]\n    offset: $offset\n    limit: $limit\n  ) {\n    amount\n    current_token_data {\n      ...TokenDataFields\n    }\n    current_collection_data {\n      ...CollectionDataFields\n    }\n    last_transaction_version\n    property_version\n  }\n}\n    \n    fragment TokenDataFields on current_token_datas {\n  creator_address\n  collection_name\n  description\n  metadata_uri\n  name\n  token_data_id_hash\n  collection_data_id_hash\n}\n    \n\n    fragment CollectionDataFields on current_collection_datas {\n  metadata_uri\n  supply\n  description\n  collection_name\n  collection_data_id_hash\n  table_handle\n  creator_address\n}\n    ",variables:{address:r,offset:null==e?void 0:e.offset,limit:null==e?void 0:e.limit}};return this.queryIndexer(n)}async getTokenActivities(t,e){const r={query:"\n    query getTokenActivities($idHash: String!, $offset: Int, $limit: Int) {\n  token_activities(\n    where: {token_data_id_hash: {_eq: $idHash}}\n    order_by: {transaction_version: desc}\n    offset: $offset\n    limit: $limit\n  ) {\n    creator_address\n    collection_name\n    name\n    token_data_id_hash\n    collection_data_id_hash\n    from_address\n    to_address\n    transaction_version\n    transaction_timestamp\n    property_version\n    transfer_type\n    event_sequence_number\n    token_amount\n  }\n}\n    ",variables:{idHash:t,offset:null==e?void 0:e.offset,limit:null==e?void 0:e.limit}};return this.queryIndexer(r)}async getAccountCoinsData(t,e){const r=tv.ensure(t).hex();Vw.validateAddress(r);const n={query:"\n    query getAccountCoinsData($owner_address: String, $offset: Int, $limit: Int) {\n  current_coin_balances(\n    where: {owner_address: {_eq: $owner_address}}\n    offset: $offset\n    limit: $limit\n  ) {\n    amount\n    coin_type\n    coin_info {\n      name\n      decimals\n      symbol\n    }\n  }\n}\n    ",variables:{owner_address:r,offset:null==e?void 0:e.offset,limit:null==e?void 0:e.limit}};return this.queryIndexer(n)}async getAccountTokensCount(t){const e=tv.ensure(t).hex();Vw.validateAddress(e);const r={query:'\n    query getAccountTokensCount($owner_address: String) {\n  current_token_ownerships_aggregate(\n    where: {owner_address: {_eq: $owner_address}, amount: {_gt: "0"}}\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ',variables:{owner_address:e}};return this.queryIndexer(r)}async getAccountTransactionsCount(t){const e=tv.ensure(t).hex();Vw.validateAddress(e);const r={query:"\n    query getAccountTransactionsCount($address: String) {\n  move_resources_aggregate(\n    where: {address: {_eq: $address}}\n    distinct_on: transaction_version\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",variables:{address:e}};return this.queryIndexer(r)}async getAccountTransactionsData(t,e){const r=tv.ensure(t).hex();Vw.validateAddress(r);const n={query:"\n    query getAccountTransactionsData($address: String, $limit: Int, $offset: Int) {\n  move_resources(\n    where: {address: {_eq: $address}}\n    order_by: {transaction_version: desc}\n    distinct_on: transaction_version\n    limit: $limit\n    offset: $offset\n  ) {\n    transaction_version\n  }\n}\n    ",variables:{address:r,offset:null==e?void 0:e.offset,limit:null==e?void 0:e.limit}};return this.queryIndexer(n)}async getDelegatedStakingActivities(t,e){const r=tv.ensure(t).hex(),n=tv.ensure(e).hex();Vw.validateAddress(r),Vw.validateAddress(n);const i={query:"\n    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {\n  delegated_staking_activities(\n    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}\n  ) {\n    amount\n    delegator_address\n    event_index\n    event_type\n    pool_address\n    transaction_version\n  }\n}\n    ",variables:{delegatorAddress:r,poolAddress:n}};return this.queryIndexer(i)}async getTokenActivitiesCount(t){const e={query:"\n    query getTokenActivitiesCount($token_id: String) {\n  token_activities_aggregate(where: {token_data_id_hash: {_eq: $token_id}}) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",variables:{token_id:t}};return this.queryIndexer(e)}async getTokenData(t){const e={query:"\n    query getTokenData($token_id: String) {\n  current_token_datas(where: {token_data_id_hash: {_eq: $token_id}}) {\n    token_data_id_hash\n    name\n    collection_name\n    creator_address\n    default_properties\n    largest_property_version\n    maximum\n    metadata_uri\n    payee_address\n    royalty_points_denominator\n    royalty_points_numerator\n    supply\n  }\n}\n    ",variables:{token_id:t}};return this.queryIndexer(e)}async getTokenOwnersData(t,e){const r={query:"\n    query getTokenOwnersData($token_id: String, $property_version: numeric) {\n  current_token_ownerships(\n    where: {token_data_id_hash: {_eq: $token_id}, property_version: {_eq: $property_version}}\n  ) {\n    owner_address\n  }\n}\n    ",variables:{token_id:t,property_version:e}};return this.queryIndexer(r)}async getTopUserTransactions(t){const e={query:"\n    query getTopUserTransactions($limit: Int) {\n  user_transactions(limit: $limit, order_by: {version: desc}) {\n    version\n  }\n}\n    ",variables:{limit:t}};return this.queryIndexer(e)}async getUserTransactions(t,e){const r={query:"\n    query getUserTransactions($limit: Int, $start_version: bigint, $offset: Int) {\n  user_transactions(\n    limit: $limit\n    order_by: {version: desc}\n    where: {version: {_lte: $start_version}}\n    offset: $offset\n  ) {\n    version\n  }\n}\n    ",variables:{start_version:t,offset:null==e?void 0:e.offset,limit:null==e?void 0:e.limit}};return this.queryIndexer(r)}async getCurrentDelegatorBalancesCount(t){const e=tv.ensure(t).hex();Vw.validateAddress(e);const r={query:'\n    query getCurrentDelegatorBalancesCount($poolAddress: String) {\n  current_delegator_balances_aggregate(\n    where: {pool_type: {_eq: "active_shares"}, pool_address: {_eq: $poolAddress}, amount: {_gt: "0"}}\n    distinct_on: delegator_address\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ',variables:{poolAddress:e}};return this.queryIndexer(r)}};$b({},{$AccountData:()=>v_,$AccountSignature:()=>w_,$AccountSignature_Ed25519Signature:()=>__,$AccountSignature_MultiEd25519Signature:()=>M_,$Address:()=>S_,$AptosError:()=>k_,$AptosErrorCode:()=>E_,$Block:()=>A_,$BlockMetadataTransaction:()=>x_,$DecodedTableData:()=>T_,$DeleteModule:()=>B_,$DeleteResource:()=>R_,$DeleteTableItem:()=>P_,$DeletedTableData:()=>I_,$DirectWriteSet:()=>O_,$Ed25519Signature:()=>C_,$EncodeSubmissionRequest:()=>U_,$EntryFunctionId:()=>N_,$EntryFunctionPayload:()=>L_,$Event:()=>q_,$EventGuid:()=>z_,$GasEstimation:()=>D_,$GenesisPayload:()=>j_,$GenesisPayload_WriteSetPayload:()=>H_,$GenesisTransaction:()=>F_,$HashValue:()=>K_,$HealthCheckSuccess:()=>$_,$HexEncodedBytes:()=>W_,$IdentifierWrapper:()=>V_,$IndexResponse:()=>G_,$ModuleBundlePayload:()=>J_,$MoveAbility:()=>Z_,$MoveFunction:()=>X_,$MoveFunctionGenericTypeParam:()=>Y_,$MoveFunctionVisibility:()=>Q_,$MoveModule:()=>tM,$MoveModuleBytecode:()=>eM,$MoveModuleId:()=>rM,$MoveResource:()=>nM,$MoveScriptBytecode:()=>iM,$MoveStruct:()=>sM,$MoveStructField:()=>oM,$MoveStructGenericTypeParam:()=>aM,$MoveStructTag:()=>uM,$MoveStructValue:()=>hM,$MoveType:()=>cM,$MoveValue:()=>fM,$MultiAgentSignature:()=>lM,$MultiEd25519Signature:()=>dM,$MultisigPayload:()=>pM,$MultisigTransactionPayload:()=>mM,$PendingTransaction:()=>gM,$RawTableItemRequest:()=>yM,$RoleType:()=>bM,$ScriptPayload:()=>vM,$ScriptWriteSet:()=>wM,$StateCheckpointTransaction:()=>_M,$StateKeyWrapper:()=>MM,$SubmitTransactionRequest:()=>SM,$TableItemRequest:()=>kM,$Transaction:()=>EM,$TransactionPayload:()=>RM,$TransactionPayload_EntryFunctionPayload:()=>PM,$TransactionPayload_ModuleBundlePayload:()=>OM,$TransactionPayload_MultisigPayload:()=>CM,$TransactionPayload_ScriptPayload:()=>UM,$TransactionSignature:()=>qM,$TransactionSignature_Ed25519Signature:()=>zM,$TransactionSignature_MultiAgentSignature:()=>DM,$TransactionSignature_MultiEd25519Signature:()=>jM,$Transaction_BlockMetadataTransaction:()=>AM,$Transaction_GenesisTransaction:()=>xM,$Transaction_PendingTransaction:()=>TM,$Transaction_StateCheckpointTransaction:()=>IM,$Transaction_UserTransaction:()=>BM,$TransactionsBatchSingleSubmissionFailure:()=>NM,$TransactionsBatchSubmissionResult:()=>LM,$U128:()=>HM,$U256:()=>FM,$U64:()=>KM,$UserTransaction:()=>$M,$VersionedEvent:()=>WM,$ViewRequest:()=>VM,$WriteModule:()=>GM,$WriteResource:()=>JM,$WriteSet:()=>ZM,$WriteSetChange:()=>QM,$WriteSetChange_DeleteModule:()=>tS,$WriteSetChange_DeleteResource:()=>eS,$WriteSetChange_DeleteTableItem:()=>rS,$WriteSetChange_WriteModule:()=>nS,$WriteSetChange_WriteResource:()=>iS,$WriteSetChange_WriteTableItem:()=>sS,$WriteSetPayload:()=>oS,$WriteSet_DirectWriteSet:()=>XM,$WriteSet_ScriptWriteSet:()=>YM,$WriteTableItem:()=>aS,AccountsService:()=>a_,ApiError:()=>Jw,AptosErrorCode:()=>g_,AptosGeneratedClient:()=>p_,BaseHttpRequest:()=>Gw,BlocksService:()=>u_,CancelError:()=>Zw,CancelablePromise:()=>Xw,EventsService:()=>h_,GeneralService:()=>c_,MoveFunctionVisibility:()=>y_,OpenAPI:()=>m_,RoleType:()=>b_,TablesService:()=>f_,TransactionsService:()=>l_,ViewService:()=>d_});var Gw=class{constructor(t){this.config=t}},Jw=class extends Error{constructor(t,e,r){super(r),this.name="ApiError",this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.body=e.body,this.request=t}},Zw=class extends Error{constructor(t){super(t),this.name="CancelError"}get isCancelled(){return!0}},Xw=class{constructor(t){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise(((e,r)=>{this._resolve=e,this._reject=r;const n=t=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(t)};return Object.defineProperty(n,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(n,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(n,"isCancelled",{get:()=>this._isCancelled}),t((t=>{var e;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,null==(e=this._resolve)||e.call(this,t))}),(t=>{var e;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,null==(e=this._reject)||e.call(this,t))}),n)}))}then(t,e){return this._promise.then(t,e)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(){var t;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const t of this._cancelHandlers)t()}catch(t){return void console.warn("Cancellation threw an error",t)}this._cancelHandlers.length=0,null==(t=this._reject)||t.call(this,new Zw("Request aborted"))}}get isCancelled(){return this._isCancelled}};Symbol.toStringTag;var Yw=class{constructor(t=new Map){this.jar=t}setCookie(t,e){var r;const n=t.origin.toLowerCase();this.jar.has(n)||this.jar.set(n,[]);const i=Yw.parse(e);this.jar.set(n,[...(null==(r=this.jar.get(n))?void 0:r.filter((t=>t.name!==i.name)))||[],i])}getCookies(t){var e;const r=t.origin.toLowerCase();return this.jar.get(r)&&(null==(e=this.jar.get(r))?void 0:e.filter((t=>!t.expires||t.expires>new Date)))||[]}static parse(t){if("string"!=typeof t)throw new Error("argument str must be a string");const e=t.split(";").map((t=>t.trim()));let r;if(!(e.length>0))throw new Error("Invalid cookie");{const[t,n]=e[0].split("=");if(!t||!n)throw new Error("Invalid cookie");r={name:t,value:n}}return e.slice(1).forEach((t=>{const[e,n]=t.split("=");if(!e.trim())throw new Error("Invalid cookie");const i=e.toLowerCase(),s="'"===(null==n?void 0:n.charAt(0))||'"'===(null==n?void 0:n.charAt(0))?null==n?void 0:n.slice(1,-1):n;if("expires"===i&&(r.expires=new Date(s)),"path"===i&&(r.path=s),"samesite"===i){if("Lax"!==s&&"None"!==s&&"Strict"!==s)throw new Error("Invalid cookie SameSite value");r.sameSite=s}"secure"===i&&(r.secure=!0)})),r}},Qw=new Yw;jb.interceptors.response.use((t=>(Array.isArray(t.headers["set-cookie"])&&t.headers["set-cookie"].forEach((e=>{Qw.setCookie(new URL(t.config.url),e)})),t))),jb.interceptors.request.use((function(t){const e=Qw.getCookies(new URL(t.url));return(null==e?void 0:e.length)>0&&t.headers&&(t.headers.cookie=e.map((t=>`${t.name}=${t.value}`)).join("; ")),t}));var t_=t=>null!=t,e_=t=>"string"==typeof t,r_=t=>e_(t)&&""!==t,n_=t=>"object"==typeof t&&"string"==typeof t.type&&"function"==typeof t.stream&&"function"==typeof t.arrayBuffer&&"function"==typeof t.constructor&&"string"==typeof t.constructor.name&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),i_=async(t,e)=>"function"==typeof e?e(t):e,s_=(t,e)=>new Xw((async(r,n,i)=>{try{const n=((t,e)=>{const r=t.ENCODE_PATH||encodeURI,n=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,((t,n)=>{var i;return(null==(i=e.path)?void 0:i.hasOwnProperty(n))?r(String(e.path[n])):t})),i=`${t.BASE}${n}`;return e.query?`${i}${(t=>{const e=[],r=(t,n)=>{t_(n)&&(Array.isArray(n)?n.forEach((e=>{r(t,e)})):"object"==typeof n?Object.entries(n).forEach((([e,n])=>{r(`${t}[${e}]`,n)})):((t,r)=>{e.push(`${encodeURIComponent(t)}=${encodeURIComponent(String(r))}`)})(t,n))};return Object.entries(t).forEach((([t,e])=>{r(t,e)})),e.length>0?`?${e.join("&")}`:""})(e.query)}`:i})(t,e),o=(t=>{if(t.formData){const e=new Hb,r=(t,r)=>{e_(r)||n_(r)?e.append(t,r):e.append(t,JSON.stringify(r))};return Object.entries(t.formData).filter((([t,e])=>t_(e))).forEach((([t,e])=>{Array.isArray(e)?e.forEach((e=>r(t,e))):r(t,e)})),e}})(e),a=(t=>{if(t.body)return t.body})(e),u=await(async(t,e,r)=>{const n=await i_(e,t.TOKEN),i=await i_(e,t.USERNAME),s=await i_(e,t.PASSWORD),o=await i_(e,t.HEADERS),a="function"==typeof(null==r?void 0:r.getHeaders)&&(null==r?void 0:r.getHeaders())||{},u=Object.entries({Accept:"application/json",...o,...e.headers,...a}).filter((([t,e])=>t_(e))).reduce(((t,[e,r])=>({...t,[e]:String(r)})),{});if(r_(n)&&(u.Authorization=`Bearer ${n}`),r_(i)&&r_(s)){const t=btoa(`${i}:${s}`);u.Authorization=`Basic ${t}`}return e.body&&(e.mediaType?u["Content-Type"]=e.mediaType:n_(e.body)?u["Content-Type"]=e.body.type||"application/octet-stream":e_(e.body)?u["Content-Type"]="text/plain":e.body instanceof Hb||(u["Content-Type"]="application/json")),u})(t,e,o);if(!i.isCancelled){const h=await(async(t,e,r,n,i,s,o)=>{const a=jb.CancelToken.source(),u={url:r,headers:s,data:null!=n?n:i,method:e.method,withCredentials:t.WITH_CREDENTIALS,cancelToken:a.token};Object.keys(t.HEADERS||{}).filter((t=>"accept"===t.toLowerCase())).map((e=>t.HEADERS[e])).includes("application/x-bcs")&&(u.responseType="arraybuffer"),o((()=>a.cancel("The user aborted a request.")));try{return await jb.request(u)}catch(t){const e=t;if(e.response)return e.response;throw t}})(t,e,n,a,o,u,i),c=(t=>{if(204!==t.status)return t.data})(h),f=((t,e)=>{if(e){const r=t.headers[e];if(e_(r))return r}})(h,e.responseHeader),l={url:n,ok:(s=h.status,s>=200&&s<300),status:h.status,statusText:h.statusText,body:null!=f?f:c};((t,e)=>{const r={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(r)throw new Jw(t,e,r);if(!e.ok)throw new Jw(t,e,"Generic Error")})(e,l);const d=l.body;try{d.__headers=h.headers}catch(t){}r(d)}}catch(t){n(t)}var s})),o_=class extends Gw{constructor(t){super(t)}request(t){return s_(this.config,t)}},a_=class{constructor(t){this.httpRequest=t}getAccount(t,e){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:t},query:{ledger_version:e}})}getAccountResources(t,e,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:t},query:{ledger_version:e,start:r,limit:n}})}getAccountModules(t,e,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:t},query:{ledger_version:e,start:r,limit:n}})}getAccountResource(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:t,resource_type:e},query:{ledger_version:r}})}getAccountModule(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:t,module_name:e},query:{ledger_version:r}})}},u_=class{constructor(t){this.httpRequest=t}getBlockByHeight(t,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:t},query:{with_transactions:e}})}getBlockByVersion(t,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:t},query:{with_transactions:e}})}},h_=class{constructor(t){this.httpRequest=t}getEventsByCreationNumber(t,e,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:t,creation_number:e},query:{start:r,limit:n}})}getEventsByEventHandle(t,e,r,n,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:t,event_handle:e,field_name:r},query:{start:n,limit:i}})}},c_=class{constructor(t){this.httpRequest=t}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(t){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:t}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},f_=class{constructor(t){this.httpRequest=t}getTableItem(t,e,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:t},query:{ledger_version:r},body:e,mediaType:"application/json"})}getRawTableItem(t,e,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:t},query:{ledger_version:r},body:e,mediaType:"application/json"})}},l_=class{constructor(t){this.httpRequest=t}getTransactions(t,e){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:t,limit:e}})}submitTransaction(t){return this.httpRequest.request({method:"POST",url:"/transactions",body:t,mediaType:"application/json"})}getTransactionByHash(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:t}})}getTransactionByVersion(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:t}})}getAccountTransactions(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:t},query:{start:e,limit:r}})}submitBatchTransactions(t){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:t,mediaType:"application/json"})}simulateTransaction(t,e,r,n){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:e,estimate_gas_unit_price:r,estimate_prioritized_gas_unit_price:n},body:t,mediaType:"application/json"})}encodeSubmission(t){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:t,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},d_=class{constructor(t){this.httpRequest=t}view(t,e){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:e},body:t,mediaType:"application/json"})}},p_=class{constructor(t,e=o_){var r,n,i,s;this.request=new e({BASE:null!=(r=null==t?void 0:t.BASE)?r:"/v1",VERSION:null!=(n=null==t?void 0:t.VERSION)?n:"1.2.0",WITH_CREDENTIALS:null!=(i=null==t?void 0:t.WITH_CREDENTIALS)&&i,CREDENTIALS:null!=(s=null==t?void 0:t.CREDENTIALS)?s:"include",TOKEN:null==t?void 0:t.TOKEN,USERNAME:null==t?void 0:t.USERNAME,PASSWORD:null==t?void 0:t.PASSWORD,HEADERS:null==t?void 0:t.HEADERS,ENCODE_PATH:null==t?void 0:t.ENCODE_PATH}),this.accounts=new a_(this.request),this.blocks=new u_(this.request),this.events=new h_(this.request),this.general=new c_(this.request),this.tables=new f_(this.request),this.transactions=new l_(this.request),this.view=new d_(this.request)}},m_={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},g_=(t=>(t.ACCOUNT_NOT_FOUND="account_not_found",t.RESOURCE_NOT_FOUND="resource_not_found",t.MODULE_NOT_FOUND="module_not_found",t.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",t.VERSION_NOT_FOUND="version_not_found",t.TRANSACTION_NOT_FOUND="transaction_not_found",t.TABLE_ITEM_NOT_FOUND="table_item_not_found",t.BLOCK_NOT_FOUND="block_not_found",t.VERSION_PRUNED="version_pruned",t.BLOCK_PRUNED="block_pruned",t.INVALID_INPUT="invalid_input",t.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",t.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",t.VM_ERROR="vm_error",t.HEALTH_CHECK_FAILED="health_check_failed",t.MEMPOOL_IS_FULL="mempool_is_full",t.INTERNAL_ERROR="internal_error",t.WEB_FRAMEWORK_ERROR="web_framework_error",t.BCS_NOT_SUPPORTED="bcs_not_supported",t.API_DISABLED="api_disabled",t))(g_||{}),y_=(t=>(t.PRIVATE="private",t.PUBLIC="public",t.FRIEND="friend",t))(y_||{}),b_=(t=>(t.VALIDATOR="validator",t.FULL_NODE="full_node",t))(b_||{}),v_={description:"Account data\n\n    A simplified version of the onchain Account resource",properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},w_={type:"one-of",description:"Account signature scheme\n\n    The account signature scheme allows you to have two types of accounts:\n\n    1. A single Ed25519 key account, one private key\n    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.",contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},__={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},M_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},S_={type:"string",description:"A hex encoded 32 byte Aptos account address.\n\n    This is represented in a string as a 64 character hex string, sometimes\n    shortened by stripping leading 0s, and adding a 0x.\n\n    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.\n    ",format:"hex"},k_={description:"This is the generic struct we use for all API errors, it contains a string\n    message and an Aptos API specific error code.",properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},E_={type:"Enum"},A_={description:"A Block with or without transactions\n\n    This contains the information about a transactions along with\n    associated transactions if requested",properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},x_={description:"A block metadata transaction\n\n    This signifies the beginning of a block, and contains information\n    about the specific block",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},T_={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},I_={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},B_={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},R_={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},P_={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},O_={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},C_={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},U_={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},N_={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},L_={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},q_={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},z_={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},D_={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},j_={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},H_={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},F_={description:"The genesis transaction\n\n    This only occurs at the genesis transaction (version 0)",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},K_={type:"string"},$_={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},W_={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},V_={type:"string"},G_={description:'The struct holding all data returned to the client by the\n    index endpoint (i.e., GET "/").  Only for responding in JSON',properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:"Git hash of the build of the API endpoint.  Can be used to determine the exact\n            software version used by the API endpoint."}}},J_={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},Z_={type:"string"},X_={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},is_view:{type:"boolean",description:"Whether the function is a view function or not",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},Y_={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},Q_={type:"Enum"},tM={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},eM={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},rM={type:"string",description:"Move module id is a string representation of Move module.\n\n    Format: `{address}::{module name}`\n\n    `address` should be hex-encoded 32 byte account address that is prefixed with `0x`.\n\n    Module name is case-sensitive.\n    "},nM={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},iM={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},sM={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},oM={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},aM={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},uM={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},hM={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},cM={type:"string",description:"String representation of an on-chain Move type tag that is exposed in transaction payload.\n    Values:\n    - bool\n    - u8\n    - u16\n    - u32\n    - u64\n    - u128\n    - u256\n    - address\n    - signer\n    - vector: `vector<{non-reference MoveTypeId}>`\n    - struct: `{address}::{module_name}::{struct_name}::<{generic types}>`\n\n    Vector type value examples:\n    - `vector<u8>`\n    - `vector<vector<u64>>`\n    - `vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>`\n\n    Struct type value examples:\n    - `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>\n    - `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n    ",pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},fM={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},lM={description:"Multi agent signature for multi agent transactions\n\n    This allows you to have transactions across multiple accounts",properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},dM={description:"A Ed25519 multi-sig signature\n\n    This allows k-of-n signing for a transaction",properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},pM={description:"A multisig transaction that allows an owner of a multisig account to execute a pre-approved\n    transaction as the multisig account.",properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},mM={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},gM={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},yM={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},bM={type:"Enum"},vM={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},wM={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},_M={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},MM={type:"string",description:"Representation of a StateKey as a hex string. This is used for cursor based pagination.\n    "},SM={description:"A request to submit a transaction\n\n    This requires a transaction and a signature of it",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},kM={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},EM={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},AM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},xM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},TM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},IM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},BM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},RM={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},PM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},OM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},CM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},UM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},NM={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},LM={description:"Batch transaction submission result\n\n    Tells which transactions failed",properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},qM={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},zM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},DM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},jM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},HM={type:"string",description:"A string containing a 128-bit unsigned integer.\n\n    We represent u128 values as a string to ensure compatibility with languages such\n    as JavaScript that do not parse u128s in JSON natively.\n    ",format:"uint128"},FM={type:"string",description:"A string containing a 256-bit unsigned integer.\n\n    We represent u256 values as a string to ensure compatibility with languages such\n    as JavaScript that do not parse u256s in JSON natively.\n    ",format:"uint256"},KM={type:"string",description:"A string containing a 64-bit unsigned integer.\n\n    We represent u64 values as a string to ensure compatibility with languages such\n    as JavaScript that do not parse u64s in JSON natively.\n    ",format:"uint64"},$M={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},WM={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},VM={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},GM={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},JM={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},ZM={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},XM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},YM={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},QM={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},tS={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},eS={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},rS={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},nS={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},iS={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},sS={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},oS={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},aS={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}};function uS(t,e,r){if(!(null==e?void 0:e.includes(typeof t)))throw new Error(r||`Invalid arg: ${t} type should be ${e instanceof Array?e.join(" or "):e}`)}function hS(t){if(uS(t,["boolean","string"]),"boolean"==typeof t)return t;if("true"===t)return!0;if("false"===t)return!1;throw new Error("Invalid boolean string.")}function cS(t){if(uS(t,["number","string"]),"number"==typeof t)return t;const e=Number.parseInt(t,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}function fS(t){return uS(t,["number","bigint","string"]),BigInt(t)}function lS(t,e,r){if(e instanceof Fv)r.serializeBool(hS(t));else if(e instanceof Kv)r.serializeU8(cS(t));else if(e instanceof $v)r.serializeU16(cS(t));else if(e instanceof Wv)r.serializeU32(cS(t));else if(e instanceof Vv)r.serializeU64(fS(t));else if(e instanceof Gv)r.serializeU128(fS(t));else if(e instanceof Jv)r.serializeU256(fS(t));else{if(!(e instanceof Zv)){if(e instanceof Yv){if(e.value instanceof Kv){if(t instanceof Uint8Array)return void r.serializeBytes(t);if("string"==typeof t)return void r.serializeStr(t)}if(!Array.isArray(t))throw new Error("Invalid vector args.");return r.serializeU32AsUleb128(t.length),void t.forEach((t=>lS(t,e.value,r)))}if(e instanceof Qv){const{address:n,module_name:i,name:s}=e.value;if("0x1::string::String"!=`${tv.fromUint8Array(n.address).toShortString()}::${i.value}::${s.value}`)throw new Error("The only supported struct arg is of type 0x1::string::String");return uS(t,["string"]),void r.serializeStr(t)}throw new Error("Unsupported arg type.")}{let e;if("string"==typeof t||t instanceof tv)e=Av.fromHex(t);else{if(!(t instanceof Av))throw new Error("Invalid account address.");e=t}e.serialize(r)}}}var dS=class{constructor(t,e){this.rawTxnBuilder=e,this.signingFunction=t}build(t,e,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(t,e,r)}static getSigningMessage(t){const e=Tb.create();if(t instanceof uw)e.update("APTOS::RawTransaction");else{if(!(t instanceof vw))throw new Error("Unknown transaction type.");e.update("APTOS::RawTransactionWithData")}const r=e.digest(),n=mv(t),i=new Uint8Array(r.length+n.length);return i.set(r),i.set(n,r.length),i}},pS=class extends dS{constructor(t,e,r){super(t,r),this.publicKey=e}rawToSigned(t){const e=dS.getSigningMessage(t),r=this.signingFunction(e),n=new Uv(new Tv(this.publicKey),r);return new yw(t,n)}sign(t){return mv(this.rawToSigned(t))}},mS=class extends dS{constructor(t,e){super(t),this.publicKey=e}rawToSigned(t){const e=dS.getSigningMessage(t),r=this.signingFunction(e),n=new Nv(this.publicKey,r);return new yw(t,n)}sign(t){return mv(this.rawToSigned(t))}},gS=class{constructor(t,e){this.abiMap=new Map,t.forEach((t=>{const e=new fv(t),r=zw.deserialize(e);let n;if(r instanceof jw){const t=r,{address:e,name:i}=t.module_name;n=`${tv.fromUint8Array(e.address).toShortString()}::${i.value}::${t.name}`}else n=r.name;if(this.abiMap.has(n))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(n,r)})),this.builderConfig={maxGasAmount:BigInt(Zb),expSecFromNow:20,...e}}static toBCSArgs(t,e){if(t.length!==e.length)throw new Error("Wrong number of args provided.");return e.map(((e,r)=>{const n=new hv;return lS(e,t[r].type_tag,n),n.getBytes()}))}static toTransactionArguments(t,e){if(t.length!==e.length)throw new Error("Wrong number of args provided.");return e.map(((e,r)=>function(t,e){if(e instanceof Fv)return new Cw(hS(t));if(e instanceof Kv)return new Aw(cS(t));if(e instanceof $v)return new xw(cS(t));if(e instanceof Wv)return new Tw(cS(t));if(e instanceof Vv)return new Iw(fS(t));if(e instanceof Gv)return new Bw(fS(t));if(e instanceof Jv)return new Rw(fS(t));if(e instanceof Zv){let e;if("string"==typeof t||t instanceof tv)e=Av.fromHex(t);else{if(!(t instanceof Av))throw new Error("Invalid account address.");e=t}return new Pw(e)}if(e instanceof Yv&&e.value instanceof Kv){if(!(t instanceof Uint8Array))throw new Error(`${t} should be an instance of Uint8Array`);return new Ow(t)}throw new Error("Unknown type for TransactionArgument.")}(e,t[r].type_tag)))}setSequenceNumber(t){this.builderConfig.sequenceNumber=BigInt(t)}buildTransactionPayload(t,e,r){const n=e.map((t=>new ow(t).parseTypeTag()));let i;if(!this.abiMap.has(t))throw new Error(`Cannot find function: ${t}`);const s=this.abiMap.get(t);if(s instanceof jw){const t=s,e=gS.toBCSArgs(t.args,r);i=new Mw(new cw(t.module_name,new jv(t.name),n,e))}else{if(!(s instanceof Dw))throw new Error("Unknown ABI format.");{const t=s,e=gS.toTransactionArguments(t.args,r);i=new _w(new hw(t.code,n,e))}}return i}build(t,e,r){const{sender:n,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:o,expSecFromNow:a,chainId:u}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const h=n instanceof Av?n:Av.fromHex(n),c=BigInt(Math.floor(Date.now()/1e3)+Number(a)),f=this.buildTransactionPayload(t,e,r);if(f)return new uw(h,BigInt(i),f,BigInt(o),BigInt(s),c,new kw(Number(u)));throw new Error("Invalid ABI.")}},yS=class{constructor(t,e){this.aptosClient=t,this.builderConfig=e}async fetchABI(t){const e=(await this.aptosClient.getAccountModules(t)).map((t=>t.abi)).flatMap((t=>t.exposed_functions.filter((t=>t.is_entry)).map((e=>({fullName:`${t.address}::${t.name}::${e.name}`,...e}))))),r=new Map;return e.forEach((t=>{r.set(t.fullName,t)})),r}async build(t,e,r){if(3!==(t=t.replace(/^0[xX]0*/g,"0x")).split("::").length)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[n,i]=t.split("::"),s=await this.fetchABI(n);if(!s.has(t))throw new Error(`${t} doesn't exist.`);const o=s.get(t),a=o.params.filter((t=>"signer"!==t&&"&signer"!==t)).map(((t,r)=>new qw(`var${r}`,new ow(t,e).parseTypeTag()))),u=new jw(o.name,pw.fromStr(`${n}::${i}`),"",o.generic_type_params.map(((t,e)=>new Lw(`${e}`))),a),{sender:h,...c}=this.builderConfig,f=h instanceof Av?tv.fromUint8Array(h.address):h,[{sequence_number:l},d,{gas_estimate:p}]=await Promise.all([(null==c?void 0:c.sequenceNumber)?Promise.resolve({sequence_number:null==c?void 0:c.sequenceNumber}):this.aptosClient.getAccount(f),(null==c?void 0:c.chainId)?Promise.resolve(null==c?void 0:c.chainId):this.aptosClient.getChainId(),(null==c?void 0:c.gasUnitPrice)?Promise.resolve({gas_estimate:null==c?void 0:c.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new gS([mv(u)],{sender:h,sequenceNumber:l,chainId:d,gasUnitPrice:BigInt(p),...c}).build(t,e,r)}};Wb([(6e5,Xb({ttlMs:6e5,hashFunction:undefined}))],yS.prototype,"fetchABI",1);var bS=class{constructor(t,e,r=!1){if(!t)throw new Error("Node URL cannot be empty.");const n=null==e?{}:{...e};this.nodeUrl=r?t:function(t){let e=`${t}`;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith("/v1")||(e=`${e}/v1`),e}(t),n.BASE=this.nodeUrl,!1===(null==e?void 0:e.WITH_CREDENTIALS)?n.WITH_CREDENTIALS=!1:n.WITH_CREDENTIALS=!0,this.client=new p_(n)}async getAccount(t){return this.client.accounts.getAccount(tv.ensure(t).hex())}async getAccountTransactions(t,e){var r;return this.client.transactions.getAccountTransactions(tv.ensure(t).hex(),null==(r=null==e?void 0:e.start)?void 0:r.toString(),null==e?void 0:e.limit)}async getAccountModules(t,e){const r=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await ev(r,t,1e3,e)}async getAccountModule(t,e,r){var n;return this.client.accounts.getAccountModule(tv.ensure(t).hex(),e,null==(n=null==r?void 0:r.ledgerVersion)?void 0:n.toString())}async getAccountResources(t,e){const r=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await ev(r,t,9999,e)}async getAccountResource(t,e,r){var n;return this.client.accounts.getAccountResource(tv.ensure(t).hex(),e,null==(n=null==r?void 0:r.ledgerVersion)?void 0:n.toString())}static generateBCSTransaction(t,e){return new pS((e=>{const r=t.signBuffer(e);return new iv.Ed25519Signature(r.toUint8Array())}),t.pubKey().toUint8Array()).sign(e)}static generateBCSSimulation(t,e){return new pS((t=>{const e=new Uint8Array(64);return new iv.Ed25519Signature(e)}),t.pubKey().toUint8Array()).sign(e)}async generateTransaction(t,e,r){const n={sender:t};if((null==r?void 0:r.sequence_number)&&(n.sequenceNumber=r.sequence_number),(null==r?void 0:r.gas_unit_price)&&(n.gasUnitPrice=r.gas_unit_price),(null==r?void 0:r.max_gas_amount)&&(n.maxGasAmount=r.max_gas_amount),null==r?void 0:r.expiration_timestamp_secs){const t=Number.parseInt(r.expiration_timestamp_secs,10);n.expSecFromNow=t-Math.floor(Date.now()/1e3)}return new yS(this,n).build(e.function,e.type_arguments,e.arguments)}async signTransaction(t,e){return Promise.resolve(bS.generateBCSTransaction(t,e))}async getEventsByCreationNumber(t,e,r){var n;return this.client.events.getEventsByCreationNumber(tv.ensure(t).hex(),e.toString(),null==(n=null==r?void 0:r.start)?void 0:n.toString(),null==r?void 0:r.limit)}async getEventsByEventHandle(t,e,r,n){var i;return this.client.events.getEventsByEventHandle(tv.ensure(t).hex(),e,r,null==(i=null==n?void 0:n.start)?void 0:i.toString(),null==n?void 0:n.limit)}async submitTransaction(t){return this.submitSignedBCSTransaction(t)}async simulateTransaction(t,e,r){let n;return n=t instanceof Ww?bS.generateBCSSimulation(t,e):t instanceof Rv?new mS((()=>{const{threshold:e}=t,r=[],n=[];for(let t=0;t<e;t+=1)r.push(t),n.push(new iv.Ed25519Signature(new Uint8Array(64)));const i=iv.MultiEd25519Signature.createBitmap(r);return new iv.MultiEd25519Signature(n,i)}),t).sign(e):new pS((()=>{const t=new Uint8Array(64);return new iv.Ed25519Signature(t)}),t.toBytes()).sign(e),this.submitBCSSimulation(n,r)}async submitSignedBCSTransaction(t){return this.client.request.request({url:"/transactions",method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(t,e){var r,n,i;const s={estimate_gas_unit_price:null!=(r=null==e?void 0:e.estimateGasUnitPrice)&&r,estimate_max_gas_amount:null!=(n=null==e?void 0:e.estimateMaxGasAmount)&&n,estimate_prioritized_gas_unit_price:null!=(i=null==e?void 0:e.estimatePrioritizedGasUnitPrice)&&i};return this.client.request.request({url:"/transactions/simulate",query:s,method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(t){var e;return this.client.transactions.getTransactions(null==(e=null==t?void 0:t.start)?void 0:e.toString(),null==t?void 0:t.limit)}async getTransactionByHash(t){return this.client.transactions.getTransactionByHash(t)}async getTransactionByVersion(t){return this.client.transactions.getTransactionByVersion(t.toString())}async transactionPending(t){try{return"pending_transaction"===(await this.client.transactions.getTransactionByHash(t)).type}catch(t){if(404===(null==t?void 0:t.status))return!0;throw t}}async waitForTransactionWithResult(t,e){var r,n;const i=null!=(r=null==e?void 0:e.timeoutSecs)?r:20,s=null!=(n=null==e?void 0:e.checkSuccess)&&n;let o,a=!0,u=0;for(;a&&!(u>=i);){try{if(o=await this.client.transactions.getTransactionByHash(t),a="pending_transaction"===o.type,!a)break}catch(t){const e=t instanceof Jw,r=e&&404!==t.status&&t.status>=400&&t.status<500;if(!e||r)throw t}await Jb(1e3),u+=1}if(void 0===o)throw new Error(`Waiting for transaction ${t} failed`);if(a)throw new _S(`Waiting for transaction ${t} timed out after ${i} seconds`,o);if(!s)return o;if(!(null==o?void 0:o.success))throw new MS(`Transaction ${t} committed to the blockchain but execution failed`,o);return o}async waitForTransaction(t,e){await this.waitForTransactionWithResult(t,e)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(t,e,r){var n;return await this.client.tables.getTableItem(t,e,null==(n=null==r?void 0:r.ledgerVersion)?void 0:n.toString())}async generateRawTransaction(t,e,r){const[{sequence_number:n},i,{gas_estimate:s}]=await Promise.all([this.getAccount(t),this.getChainId(),(null==r?void 0:r.gasUnitPrice)?Promise.resolve({gas_estimate:r.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:o,gasUnitPrice:a,expireTimestamp:u}={maxGasAmount:BigInt(Zb),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+20),...r};return new iv.RawTransaction(iv.AccountAddress.fromHex(t),BigInt(n),e,o,a,u,new iv.ChainId(i))}async generateSignSubmitTransaction(t,e,r){const n=await this.generateRawTransaction(t.address(),e,r),i=bS.generateBCSTransaction(t,n);return(await this.submitSignedBCSTransaction(i)).hash}async publishPackage(t,e,r,n){const i=new hv;lv(r,i);const s=new iv.TransactionPayloadEntryFunction(iv.EntryFunction.natural("0x1::code","publish_package_txn",[],[Sv(e),i.getBytes()]));return this.generateSignSubmitTransaction(t,s,n)}async generateSignSubmitWaitForTransaction(t,e,r){const n=await this.generateSignSubmitTransaction(t,e,r);return this.waitForTransactionWithResult(n,r)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(t){const[{gas_estimate:e},r]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(t)]),n=r.find((t=>"0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>"===t.type));return BigInt(n.data.coin.value)/BigInt(e)}async rotateAuthKeyEd25519(t,e,r){const{sequence_number:n,authentication_key:i}=await this.getAccount(t.address()),s=new Ww(e),o=new iv.RotationProofChallenge(iv.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(n),iv.AccountAddress.fromHex(t.address()),new iv.AccountAddress(new tv(i).toUint8Array()),s.pubKey().toUint8Array()),a=tv.fromUint8Array(mv(o)),u=t.signHexString(a),h=s.signHexString(a),c=new iv.TransactionPayloadEntryFunction(iv.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[yv(0),Sv(t.pubKey().toUint8Array()),yv(0),Sv(s.pubKey().toUint8Array()),Sv(u.toUint8Array()),Sv(h.toUint8Array())])),f=await this.generateRawTransaction(t.address(),c,r),l=bS.generateBCSTransaction(t,f);return this.submitSignedBCSTransaction(l)}async lookupOriginalAddress(t){const e=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:r}}=e.data,n=await this.getTableItem(r,{key_type:"address",value_type:"address",key:tv.ensure(t).hex()});return new tv(n)}async getBlockByHeight(t,e){return this.client.blocks.getBlockByHeight(t,e)}async getBlockByVersion(t,e){return this.client.blocks.getBlockByVersion(t,e)}async view(t,e){return this.client.view.view(t,e)}clearCache(t){!function(t){const e=new Set;for(const r of t){const t=Yb.get(r);if(t)for(const r of t)e.has(r)||(r.clear(),e.add(r))}e.size}(t)}},vS=bS;Wb([SS],vS.prototype,"getAccount",1),Wb([SS],vS.prototype,"getAccountTransactions",1),Wb([SS],vS.prototype,"getAccountModules",1),Wb([SS],vS.prototype,"getAccountModule",1),Wb([SS],vS.prototype,"getAccountResources",1),Wb([SS],vS.prototype,"getAccountResource",1),Wb([SS],vS.prototype,"getEventsByCreationNumber",1),Wb([SS],vS.prototype,"getEventsByEventHandle",1),Wb([SS],vS.prototype,"submitSignedBCSTransaction",1),Wb([SS],vS.prototype,"submitBCSSimulation",1),Wb([SS],vS.prototype,"getTransactions",1),Wb([SS],vS.prototype,"getTransactionByHash",1),Wb([SS],vS.prototype,"getTransactionByVersion",1),Wb([SS],vS.prototype,"getLedgerInfo",1),Wb([Xb()],vS.prototype,"getChainId",1),Wb([SS],vS.prototype,"getTableItem",1),Wb([SS,Xb({ttlMs:3e5,tags:["gas_estimates"]})],vS.prototype,"estimateGasPrice",1),Wb([SS],vS.prototype,"estimateMaxGasAmount",1),Wb([SS],vS.prototype,"getBlockByHeight",1),Wb([SS],vS.prototype,"getBlockByVersion",1),Wb([SS],vS.prototype,"view",1);var wS=class extends Error{constructor(t,e,r,n){super(e),this.status=t,this.message=e,this.errorCode=r,this.vmErrorCode=n}},_S=class extends Error{constructor(t,e){super(t),this.lastSubmittedTransaction=e}},MS=class extends Error{constructor(t,e){super(t),this.transaction=e}};function SS(t,e,r){const n=r.value;return r.value=async function(...t){var e,r;try{return await n.apply(this,[...t])}catch(t){if(t instanceof Jw)throw new wS(t.status,JSON.stringify({message:t.message,...t.body}),null==(e=t.body)?void 0:e.error_code,null==(r=t.body)?void 0:r.vm_error_code);throw t}},r}var kS=class{constructor(t,e,r=!1){let n=null,i=null;if("object"==typeof t&&function(t){return void 0!==t.fullnodeUrl&&"string"==typeof t.fullnodeUrl&&void 0!==t.indexerUrl&&"string"==typeof t.indexerUrl}(t)?(n=t.fullnodeUrl,i=t.indexerUrl,this.network="CUSTOM"):(n=nv[t],i=rv[t],this.network=t),!n||!i)throw new Error("network is not provided");this.aptosClient=new vS(n,e,r),this.indexerClient=new Vw(i)}};function ES(t,e,r){Object.getOwnPropertyNames(e.prototype).forEach((n=>{const i=Object.getOwnPropertyDescriptor(e.prototype,n);i&&(i.value=function(...t){return this[r][n](...t)},Object.defineProperty(t.prototype,n,i))}))}ES(kS,vS,"aptosClient"),ES(kS,Vw,"indexerClient");var AS=class{constructor(t,e){this.type=t,this.value=e}},xS=class{constructor(){this.data={}}setProperty(t,e){this.data[t]=e}};function TS(t){const e=t.map.data,r=new xS;return e.forEach((t=>{const{key:e}=t,n=t.value.value,i=t.value.type,s=function(t,e){const r=new fv(new tv(e).toUint8Array());let n="";return n=t instanceof Kv?r.deserializeU8().toString():t instanceof Vv?r.deserializeU64().toString():t instanceof Gv?r.deserializeU128().toString():t instanceof Fv?r.deserializeBool()?"true":"false":t instanceof Zv?tv.fromUint8Array(r.deserializeFixedBytes(32)).hex():t instanceof Qv&&t.isStringTypeTag()?r.deserializeStr():e,n}(function(t){let e;return e="string"===t||"String"===t?new Qv(ew):new ow(t).parseTypeTag(),e}(i),n),o=new AS(i,s);r.setProperty(e,o)})),r}$b({},{PropertyMap:()=>xS,PropertyValue:()=>AS,Token:()=>BS,TokenData:()=>IS});var IS=class{constructor(t,e,r,n,i,s,o,a){this.collection=t,this.description=e,this.name=r,this.maximum=n,this.supply=i,this.uri=s,this.default_properties=TS(o),this.mutability_config=a}},BS=class{constructor(t,e,r){this.id=t,this.amount=e,this.token_properties=TS(r)}},RS=__webpack_require__(8764).Buffer;class PS extends hh{signerInstance;_publicKey;constructor(t){super(t),this.base=["aptom",1e8]}async getProvider(){return this.providerInstance??=new vS(this.providerUrl)}async getTx(t){const e=await this.getProvider(),r=await e.waitForTransactionWithResult(t,{timeoutSecs:1,checkSuccess:!0}),n=r?.payload;if(!r.success)throw new Error(r?.vm_status??"Unknown Aptos error");if("0x1::coin::transfer"!==n?.function||"0x1::aptos_coin::AptosCoin"!==n?.type_arguments[0]||"Executed successfully"!==r?.vm_status)throw new Error(`Aptos tx ${t} failed validation`);const i="pending_transaction"===r.type;return{to:n.arguments[0],from:r.sender,amount:new le(n.arguments[1]),pending:i,confirmed:!i}}ownerToAddress(t){const e=ui.sha3_256.create();return e.update(RS.from(t)),e.update("\0"),`0x${e.hex()}`}async sign(t){return await this.getSigner().sign(t)}getSigner(){return this.signerInstance??=new iu(this.wallet,this._publicKey)}async verify(t,e,r){return await iu.verify(t,e,r)}async getCurrentHeight(){return new le((await(await this.getProvider()).client.blocks.httpRequest.request({method:"GET",url:"/"})).block_height)}async getFee(t,e){const r=await this.getProvider();if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const n=new yS(r,{sender:this.address}),i=await n.build("0x1::coin::transfer",["0x1::aptos_coin::AptosCoin"],[e??"0x149f7dc9c8e43c14ab46d3a6b62cfe84d67668f764277411f98732bf6718acf9",new le(t).toNumber()]),s=new pS((t=>{const e=new Uint8Array(64);return new iv.Ed25519Signature(e)}),await this.getPublicKey()).sign(i),o=await r.client.request.request({url:"/transactions/simulate",query:{estimate_gas_unit_price:!0,estimate_max_gas_amount:!0},method:"POST",body:s,mediaType:"application/x.aptos.signed_transaction+bcs"});return{gasUnitPrice:+o[0].gas_unit_price,maxGasAmount:+o[0].max_gas_amount}}async sendTx(t){return(await this.wallet.signAndSubmitTransaction(t)).hash}async createTx(t,e,r){return{txId:void 0,tx:{arguments:[e,new le(t).toNumber()],function:"0x1::coin::transfer",type:"entry_function_payload",type_arguments:["0x1::aptos_coin::AptosCoin"]}}}async getPublicKey(){return this._publicKey??=RS.from((await this.wallet.account()).publicKey.toString().slice(2),"hex")}async ready(){this._publicKey=await this.getPublicKey(),this._address=this.ownerToAddress(this._publicKey);const t=await this.getProvider();this._address=await t.lookupOriginalAddress(this.address??"").then((t=>t.toString())).catch((t=>this._address)),66==this._address?.length&&"0"===this._address.charAt(2)&&(this._address=this._address.slice(0,2)+this._address.slice(3))}}class OS extends lh{}class CS extends lh{async createTx(t,e,r){const n=this.w3signer,i={to:e,from:this.address,value:t.toString(),gasLimit:BigInt(0)},s=await this.provider.estimateGas(i);return i.gasLimit=s,{tx:await n.populateTransaction(i),txId:void 0}}async getTx(t){const e=this.provider,r=await e.getTransaction(t);if(!r)throw new Error("Tx doesn't exist");if(!r.to)throw new Error(`Unable to resolve transactions ${t} receiver`);return{from:r.from,to:r.to,blockHeight:r.blockNumber?new le(r.blockNumber):void 0,amount:new le(r.value.toString()),pending:!r.blockNumber,confirmed:await r.confirmations()>=this.minConfirm}}async ready(){const t=this.wallet;this.provider=t;const e=await t.getSigner();e._signTypedData=async(t,r,n)=>e.signTypedData(t,r,n),t.getSigner=()=>e,this.wallet=t,await super.ready()}}var US=__webpack_require__(8764).Buffer;class NS extends hh{isSlow=!0;opts;signerInstance;constructor(t){super(t),this.base=["winston",1e12],this.needsFee=!0}getProvider(){if(!this.providerInstance){const t=new URL(this.providerUrl??"https://arweave.net");this.providerInstance=dn.init({url:t,network:this?.opts?.network})}return this.providerInstance}async getTx(t){const e=await this.getProvider(),r=await e.transactions.getStatus(t);let n;200===r.status&&(n=await e.transactions.get(t));const i=202!==r.status&&(r.confirmed?.number_of_confirmations??0)>=this.minConfirm;let s;return n?.owner&&(s=this.ownerToAddress(n.owner)),{from:s??void 0,to:n?.target??void 0,amount:new le(n?.quantity??0),pending:202===r.status,confirmed:i}}ownerToAddress(t){return dn.utils.bufferTob64Url(Ft.createHash("sha256").update(dn.utils.b64UrlToBuffer(US.isBuffer(t)?Wt(t):t)).digest())}async sign(t){return this.getSigner().sign(t)}getSigner(){return this.signerInstance||"arconnect"===(this?.opts?.provider??"arconnect")&&(this.signerInstance=new du(this.wallet,this.getProvider())),this.signerInstance}async verify(t,e,r){return US.isBuffer(t)&&(t=t.toString()),this.getProvider().crypto.verify(t,e,r)}async getCurrentHeight(){return(await this.getProvider()).network.getInfo().then((t=>new le(t.height)))}async getFee(t,e){return new le(await(await this.getProvider()).transactions.getPrice(new le(t).toNumber(),e)).integerValue(le.ROUND_CEIL)}async sendTx(t){return await(await this.getProvider()).transactions.post(t)}async createTx(t,e,r){const n=await this.getProvider(),i=await n.createTransaction({quantity:new le(t).toString(),reward:r?.toString(),target:e});i.merkle=void 0,i.deepHash=void 0;const s=await this.wallet.sign(i);return{txId:s.id,tx:s}}async getPublicKey(){const t=this.getSigner();return await t.setPublicKey(),dn.utils.bufferTob64Url(t.publicKey)}async ready(){const t=await this.getPublicKey(),e=this.ownerToAddress(t);this._address=e}}function LS(t,e,r){if("ethereum"===t)switch(e){case"ethersv5":return new OS(r);case"ethersv6":return new CS(r);default:return new lh(r)}}class qS extends ah{constructor({url:t,token:e,wallet:r,config:n}){super({url:t,wallet:r,config:n,getTokenConfig:t=>function({irys:t,token:e,wallet:r,providerUrl:n,contractAddress:i,providerName:s}){switch(e){case"ethereum":return LS("ethereum",s,{irys:t,name:"ethereum",ticker:"ETH",providerUrl:n??"https://cloudflare-eth.com/",wallet:r});case"matic":return LS("ethereum",s,{irys:t,name:"matic",ticker:"MATIC",providerUrl:n??"https://polygon-rpc.com",wallet:r,minConfirm:1});case"arbitrum":return LS("ethereum",s,{irys:t,name:"arbitrum",ticker:"ETH",providerUrl:n??"https://arb1.arbitrum.io/rpc",wallet:r});case"bnb":return LS("ethereum",s,{irys:t,name:"bnb",ticker:"BNB",providerUrl:n??"https://bsc-dataseed.binance.org",wallet:r});case"avalanche":return LS("ethereum",s,{irys:t,name:"avalanche",ticker:"AVAX",providerUrl:n??"https://api.avax.network/ext/bc/C/rpc",wallet:r});case"boba-eth":return LS("ethereum",s,{irys:t,name:"boba-eth",ticker:"ETH",providerUrl:n??"https://mainnet.boba.network/",minConfirm:1,wallet:r});case"boba":{const e=new Py({irys:t,name:"boba",ticker:"BOBA",providerUrl:n??"https://mainnet.boba.network/",contractAddress:i??"0xa18bF3994C0Cc6E3b63ac420308E5383f53120D7",minConfirm:1,wallet:r});return e.price=async()=>{const t=await Ht.post("https://api.livecoinwatch.com/coins/single",JSON.stringify({currency:"USD",code:`${e.ticker}`}),{headers:{"x-api-key":"75a7a824-6577-45e6-ad86-511d590c7cc8","content-type":"application/json"}});if(await ge.checkAndThrow(t,"Getting price data"),!t?.data?.rate)throw new Error(`unable to get price for ${e.name}`);return+t.data.rate},e}case"solana":return new dg({irys:t,name:"solana",ticker:"SOL",providerUrl:n??"https://api.mainnet-beta.solana.com/",wallet:r});case"near":return new wh({irys:t,name:"near",ticker:"NEAR",providerUrl:n??"https://rpc.mainnet.near.org",wallet:r});case"aptos":return new PS({irys:t,name:"aptos",ticker:"APTOS",providerUrl:n??"https://fullnode.mainnet.aptoslabs.com/v1",wallet:r});case"arweave":return new NS({irys:t,name:"arweave",ticker:"AR",providerUrl:n??"https://arweave.net",wallet:r});case"base-eth":return new lh({irys:t,name:"base-eth",ticker:"ETH",providerUrl:n??"https://mainnet.base.org/",minConfirm:2,wallet:r});case"usdc-eth":return new Py({irys:t,name:"usdc-eth",ticker:"USDC",providerUrl:n??"https://cloudflare-eth.com/",contractAddress:i??"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",wallet:r});default:throw new Error(`Unknown/Unsupported token ${e}`)}}({irys:t,token:e.toLowerCase(),wallet:r?.provider??r,providerUrl:n?.providerUrl??r?.rpcUrl,contractAddress:n?.contractAddress,providerName:r?.name})})}}const zS=qS})(),__webpack_exports__})()));
//# sourceMappingURL=bundle.js.map